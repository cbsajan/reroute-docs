{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"REROUTE","text":"<p>File-based routing for Python backends</p> <p> </p> <p>REROUTE brings the simplicity and elegance of Next.js-style file-based routing to Python web frameworks. Build clean, maintainable APIs with zero configuration.</p>"},{"location":"#features","title":"Features","text":"<ul> <li> <p>File-based Routing</p> <p>Organize routes by folders and files, just like Next.js. No manual route registration needed. Your folder structure becomes your API structure.</p> <p> Learn more</p> </li> <li> <p>Class-based Handlers</p> <p>HTTP methods as class methods: <code>get()</code>, <code>post()</code>, <code>put()</code>, <code>delete()</code>. Clean, intuitive, and Pythonic approach to API development.</p> <p> Learn more</p> </li> <li> <p>Powerful Decorators</p> <p>Built-in rate limiting, caching, validation, and authentication. Extend functionality with custom decorators easily.</p> <p> Learn more</p> </li> <li> <p>Multi-framework Support</p> <p>Works with FastAPI and Flask. Django coming soon. Switch frameworks without rewriting your route logic.</p> <p> Adapters</p> </li> <li> <p>Security Headers</p> <p>OWASP-compliant security headers out of the box. CSP, HSTS, X-Frame-Options, and more - configured automatically.</p> <p> Security</p> </li> <li> <p>CLI Scaffolding</p> <p>Generate projects, routes, and models with CLI commands. <code>reroute init</code> and <code>reroute create</code> for rapid development.</p> <p> CLI</p> </li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":""},{"location":"#requirements","title":"Requirements","text":"<ul> <li>Python 3.8+</li> <li>FastAPI or Flask</li> </ul>"},{"location":"#installation","title":"Installation","text":"pipuv (faster) <pre><code>pip install reroute[fastapi]\n</code></pre> <pre><code>uv pip install reroute[fastapi]\n</code></pre>"},{"location":"#create-a-project","title":"Create a Project","text":"<pre><code>$ reroute init my-app --framework fastapi\n\n==================================================\nREROUTE Project Initialization\n==================================================\n\n? Would you like to generate test cases? Yes\n? Would you like to set up a database? No\n\n==================================================\nProject Configuration Review\n==================================================\n  Project Name: my-app\n  Framework: FASTAPI\n  Host: 0.0.0.0\n  Port: 7376\n  Include Tests: Yes\n==================================================\n\n? Does this look correct? Yes\n\nCreating project: my-app\n\n  [ OK ] Creating project structure\n  [ OK ] Creating config.py\n  [ OK ] Creating logger.py\n  [ OK ] Generating FASTAPI application\n  [ OK ] Creating example route\n  [ OK ] Creating root and health routes\n  [ OK ] Creating test cases\n  [ OK ] Creating .env.example\n  [ OK ] Creating requirements.txt\n  [ OK ] Creating pyproject.toml\n\n==================================================\n[SUCCESS] Project created successfully!\n==================================================\n\n  Project: my-app\n  Framework: FASTAPI\n  Location: /path/to/my-app\n\nNext Steps:\n  1. cd my-app\n  2. uv venv\n  3. uv sync\n  4. uv run main.py\n\nHappy Coding!\n\nAPI Docs: http://localhost:7376/docs\n</code></pre>"},{"location":"#generate-a-route","title":"Generate a Route","text":"<pre><code>$ reroute create route --path /users --name User --methods GET,POST\n\n  [ OK ] Creating route directory\n  [ OK ] Generating route file\n\n==================================================\n[SUCCESS] Route created successfully!\n==================================================\n\n  Route: /users\n  File: app/routes/users/page.py\n  Methods: GET, POST\n  Tag: User\n</code></pre> <p>This creates <code>app/routes/users/page.py</code>:</p> <pre><code>from reroute import RouteBase\nfrom reroute.decorators import cache, rate_limit\n\nclass UserRoutes(RouteBase):\n    \"\"\"User API endpoints.\"\"\"\n\n    tag = \"Users\"\n\n    @cache(duration=60)\n    def get(self):\n        \"\"\"Get all users.\"\"\"\n        return {\"users\": [\"Alice\", \"Bob\"]}\n\n    @rate_limit(\"10/min\")\n    def post(self):\n        \"\"\"Create a new user.\"\"\"\n        return {\"message\": \"User created\", \"id\": 1}\n</code></pre>"},{"location":"#run-the-application","title":"Run the Application","text":"<pre><code>python main.py\n</code></pre> <p>Visit:</p> <ul> <li>API Documentation: http://localhost:8000/docs</li> <li>Users Endpoint: http://localhost:8000/users</li> </ul>"},{"location":"#how-it-works","title":"How It Works","text":"<p>Your folder structure becomes your API routes:</p> <pre><code>app/routes/\n    users/\n        page.py          -&gt; /users\n        [id]/\n            page.py      -&gt; /users/{id}\n    products/\n        page.py          -&gt; /products\n        categories/\n            page.py      -&gt; /products/categories\n</code></pre> <p>Each <code>page.py</code> contains a class inheriting from <code>RouteBase</code> with HTTP methods:</p> <pre><code>from reroute import RouteBase\n\nclass UserRoutes(RouteBase):\n    def get(self):\n        \"\"\"Handle GET requests.\"\"\"\n        return {\"users\": [...]}\n\n    def post(self):\n        \"\"\"Handle POST requests.\"\"\"\n        return {\"message\": \"Created\"}\n\n    def put(self, id: int):\n        \"\"\"Handle PUT requests.\"\"\"\n        return {\"message\": f\"Updated {id}\"}\n\n    def delete(self, id: int):\n        \"\"\"Handle DELETE requests.\"\"\"\n        return {\"message\": f\"Deleted {id}\"}\n</code></pre>"},{"location":"#whats-next","title":"What's Next?","text":"<ul> <li> <p>Quick Start</p> <p>Get up and running in 5 minutes with the full tutorial.</p> <p> Quick Start</p> </li> <li> <p>User Guide</p> <p>Deep dives into routing, decorators, lifecycle hooks, and more.</p> <p> Guides</p> </li> <li> <p>API Reference</p> <p>Complete API documentation for all REROUTE features.</p> <p> API Reference</p> </li> <li> <p>Examples</p> <p>Real-world patterns: CRUD, authentication, caching, and more.</p> <p> Examples</p> </li> </ul>"},{"location":"#community-support","title":"Community &amp; Support","text":"<ul> <li>GitHub: github.com/cbsajan/reroute</li> <li>PyPI: pypi.org/project/reroute</li> <li>Issues: Report bugs or request features</li> <li>Contributing: Contributing Guide</li> </ul>"},{"location":"#license","title":"License","text":"<p>REROUTE is released under the Apache License 2.0.</p>"},{"location":"changelog/","title":"Changelog","text":"<p>All notable changes to REROUTE are documented here.</p>"},{"location":"changelog/#024-2026-01-03","title":"[0.2.4] - 2026-01-03","text":""},{"location":"changelog/#fixed","title":"Fixed","text":"<ul> <li>CRITICAL: CLI import error - Fixed <code>ModuleNotFoundError</code> caused by <code>utils.py</code> shadowing <code>utils/</code> package</li> <li>Renamed <code>cli/utils.py</code> to <code>cli/cli_utils.py</code> to resolve package conflict</li> <li>CI environment detection - GitHub Actions no longer incorrectly detected as production</li> <li>Python 3.8 compatibility - Added future annotations for type hint support</li> </ul>"},{"location":"changelog/#023-2026-01-03","title":"[0.2.3] - 2026-01-03","text":""},{"location":"changelog/#fixed_1","title":"Fixed","text":"<ul> <li>SecurityHeadersConfig attribute error - Fixed <code>hsts.max_age</code> access to use flat attribute <code>hsts_max_age</code></li> <li>security_logger undefined - Fixed missing import in <code>cli/utils/security.py</code></li> <li>CSP methods don't exist - Fixed to use <code>get_directive().add_source()</code> pattern</li> <li>Path containment security bug - Fixed RouteLoader path validation for proper ancestry checking</li> <li>Test assertion failures - Fixed validation error messages and mock patch paths</li> <li>Testing environment permissions - Fixed RouteLoader to allow temp directories in testing</li> </ul>"},{"location":"changelog/#changed","title":"Changed","text":"<ul> <li>Improved path security with proper ancestry checking</li> <li>Enhanced error messages for validation failures</li> </ul>"},{"location":"changelog/#022-2026-01-02","title":"[0.2.2] - 2026-01-02","text":""},{"location":"changelog/#added","title":"Added","text":""},{"location":"changelog/#animated-terminal-documentation","title":"Animated Terminal Documentation","text":"<ul> <li>Termynal.js integration - Animated terminal effect like FastAPI documentation</li> <li>Custom.js initialization - Lazy loading for terminals on scroll</li> </ul>"},{"location":"changelog/#documentation-versioning","title":"Documentation Versioning","text":"<ul> <li>Mike-based versioning - Major version docs (0.1, 0.2) with \"latest\" alias</li> <li>Version selector - Dropdown in header to switch between versions</li> <li>Auto-deployment - Docs deploy automatically on PyPI release</li> <li>Cross-repo trigger - Main repo release triggers docs deployment</li> </ul>"},{"location":"changelog/#changed_1","title":"Changed","text":"<ul> <li>Deploy workflow - Now triggered by PyPI release instead of push to main</li> <li>README updates - Both repos updated with new workflow documentation</li> </ul>"},{"location":"changelog/#fixed_2","title":"Fixed","text":"<ul> <li>Terminal output - Now matches actual CLI output exactly</li> <li>Header animation - Fixed REROUTE brand name staying constant (not animated)</li> <li>versions.json 404 - Added placeholder for local development</li> </ul>"},{"location":"changelog/#021-2026-01-02","title":"[0.2.1] - 2026-01-02","text":""},{"location":"changelog/#added_1","title":"Added","text":""},{"location":"changelog/#comprehensive-security-headers","title":"Comprehensive Security Headers","text":"<ul> <li>OWASP-compliant security headers - Automatic CSP, HSTS, X-Frame-Options, X-Content-Type-Options, Referrer-Policy, and more</li> <li>SecurityHeadersConfig - Flexible configuration class for security headers</li> <li>SecurityHeadersFactory - Factory methods for common use cases (SPA, API-only, static site)</li> <li>Environment detection - Automatic development/production/testing detection</li> <li>Framework integration - Security middleware for both FastAPI and Flask adapters</li> </ul>"},{"location":"changelog/#documentation-overhaul","title":"Documentation Overhaul","text":"<ul> <li>FastAPI-style documentation - Complete restructure following FastAPI documentation patterns</li> <li>Deep Blue theme - Custom theme matching REROUTE logo colors</li> <li>Styled terminal examples - Professional terminal output styling for CLI commands</li> <li>FastAPI-style navigation - Learn / Reference / Examples / About structure</li> <li>Version selector - Documentation versioning with mike support</li> <li>Announcement bar - Release announcements at the top of docs</li> </ul>"},{"location":"changelog/#changed_2","title":"Changed","text":"<ul> <li>Theme colors - Updated from indigo to Deep Blue (#17469E) matching REROUTE logo</li> <li>Navigation structure - Reorganized to match FastAPI documentation pattern</li> <li>Version references - All documentation updated to reflect v0.2.1</li> </ul>"},{"location":"changelog/#fixed_3","title":"Fixed","text":"<ul> <li>Flask support claim - Documentation now correctly shows Flask as fully supported</li> <li>Incomplete examples - Fixed undefined method references in lifecycle hooks documentation</li> <li>Emoji removal - Removed unprofessional emojis from documentation</li> </ul>"},{"location":"changelog/#014-2025-11-21","title":"[0.1.4] - 2025-11-21","text":""},{"location":"changelog/#added_2","title":"Added","text":""},{"location":"changelog/#flask-adapter-openapi-support","title":"Flask Adapter - OpenAPI Support","text":"<ul> <li>Spectree Integration - Automatic OpenAPI documentation with Swagger UI and Scalar UI</li> <li>Dynamic HTTP Method Decorators - <code>@adapter.get()</code>, <code>@adapter.post()</code>, <code>@adapter.put()</code>, <code>@adapter.patch()</code>, <code>@adapter.delete()</code>, <code>@adapter.head()</code>, <code>@adapter.options()</code>, <code>@adapter.route()</code></li> <li>Request/Response Validation - Automatic validation using Pydantic models via Spectree</li> <li>Documentation UIs:</li> <li>Swagger UI at <code>/swagger/</code></li> <li>Scalar UI at <code>/scalar/</code></li> <li>OpenAPI JSON at <code>/openapi.json</code></li> <li>ReDoc disabled (broken CDN URL)</li> </ul>"},{"location":"changelog/#fastapi-adapter-enhancements","title":"FastAPI Adapter Enhancements","text":"<ul> <li>Auto-Reload Detection - Automatically constructs import string (<code>main:app</code>) for uvicorn reload mode</li> <li>Route Removal for Disabled Endpoints - Properly removes routes when OpenAPI paths set to <code>None</code></li> <li>Explicit None Handling - Ensures empty strings treated as <code>None</code> for OpenAPI paths</li> </ul>"},{"location":"changelog/#configuration","title":"Configuration","text":"<ul> <li>OpenAPI Configuration Section:</li> <li><code>OpenAPI.ENABLE</code> - Enable/disable documentation</li> <li><code>OpenAPI.DOCS_PATH</code> - Swagger UI endpoint (set to <code>None</code> to disable)</li> <li><code>OpenAPI.REDOC_PATH</code> - ReDoc endpoint (Flask: <code>None</code>, FastAPI: <code>\"/redoc\"</code>)</li> <li><code>OpenAPI.JSON_PATH</code> - OpenAPI JSON spec endpoint</li> <li><code>OpenAPI.TITLE</code> - API title (auto-generated if <code>None</code>)</li> <li><code>OpenAPI.VERSION</code> - API version</li> <li><code>OpenAPI.DESCRIPTION</code> - API description (auto-generated if <code>None</code>)</li> </ul>"},{"location":"changelog/#parameter-override-support","title":"Parameter Override Support","text":"<ul> <li>Runtime Configuration - <code>run_server()</code> kwargs override config values</li> <li>Enhanced Documentation - Comprehensive docstrings with available parameters</li> </ul>"},{"location":"changelog/#changed_3","title":"Changed","text":""},{"location":"changelog/#flask","title":"Flask","text":"<ul> <li>Documentation URLs:</li> <li>Swagger UI: <code>/swagger/</code> (not <code>/docs</code>)</li> <li>Scalar UI: <code>/scalar/</code> (new)</li> <li>ReDoc: Disabled</li> <li>Decorator Syntax: Use <code>@adapter.get()</code> instead of <code>@adapter.app.get()</code></li> <li>Spectree Registration: Happens automatically after <code>register_routes()</code></li> </ul>"},{"location":"changelog/#fastapi","title":"FastAPI","text":"<ul> <li>Parameter Precedence: Config defaults, kwargs override</li> <li>Startup Messages: Only show enabled documentation endpoints</li> </ul>"},{"location":"changelog/#dependencies","title":"Dependencies","text":"<ul> <li>Added <code>spectree&gt;=1.2.0</code> to Flask extras</li> <li>Added <code>colorama&gt;=0.4.0</code> for Windows console colors</li> </ul>"},{"location":"changelog/#fixed_4","title":"Fixed","text":"<ul> <li>Flask parameter override in <code>run_server()</code></li> <li>FastAPI parameter override in <code>run_server()</code></li> <li>FastAPI ReDoc disable (<code>REDOC_PATH = None</code> now removes route completely)</li> <li>Colorama initialization for Windows</li> <li>Uvicorn reload warning (\"must pass application as import string\")</li> </ul>"},{"location":"changelog/#migration-guide","title":"Migration Guide","text":""},{"location":"changelog/#flask-projects","title":"Flask Projects","text":"<ol> <li>Install: <code>pip install spectree flask-cors</code></li> <li>Add OpenAPI config section</li> <li>Update syntax: <code>@adapter.app.get()</code> \u2192 <code>@adapter.get()</code></li> <li>Update URLs: <code>/docs</code> \u2192 <code>/swagger/</code></li> </ol>"},{"location":"changelog/#fastapi-projects","title":"FastAPI Projects","text":"<ol> <li>Add OpenAPI config (if missing)</li> <li>Optional: Set <code>REDOC_PATH = None</code> to disable ReDoc</li> <li>Use parameter overrides: <code>adapter.run_server(port=8080)</code></li> </ol>"},{"location":"changelog/#breaking-changes","title":"Breaking Changes","text":"<ul> <li>Flask: Must use <code>@adapter.get()</code> instead of <code>@adapter.app.get()</code></li> <li>Flask: Documentation moved to <code>/swagger/</code> and <code>/scalar/</code></li> <li>Configuration: Must add <code>OpenAPI</code> nested class</li> </ul>"},{"location":"changelog/#017-2025-11-28","title":"[0.1.7] - 2025-11-28","text":""},{"location":"changelog/#security-enhancements","title":"Security Enhancements","text":""},{"location":"changelog/#column-validated-database-queries","title":"Column-Validated Database Queries","text":"<ul> <li>Enhanced: <code>Model.get_all()</code> now includes built-in column validation for <code>order_by</code> parameter</li> <li>Uses SQLAlchemy's <code>inspect().mapper.column_attrs</code> for validation</li> <li>Provides helpful error messages listing valid column names</li> <li>Test Coverage: 4 test cases</li> </ul>"},{"location":"changelog/#input-validated-cli-commands","title":"Input-Validated CLI Commands","text":"<ul> <li>Enhanced: All CLI commands now include comprehensive input validation</li> <li><code>reroute db downgrade --steps</code> validates as positive integer (1-100)</li> <li>Clear error messages for invalid inputs</li> <li>Test Coverage: 5 test cases</li> </ul>"},{"location":"changelog/#bounded-cache-with-lru-eviction","title":"Bounded Cache with LRU Eviction","text":"<ul> <li>Enhanced: <code>@cache</code> decorator now includes automatic memory management</li> <li>Maximum cache size: 1000 entries</li> <li>LRU (Least Recently Used) eviction strategy</li> <li>Background cleanup every 60 seconds</li> <li>Full error logging for observability</li> <li>Test Coverage: 4 test cases</li> </ul>"},{"location":"changelog/#fail-safe-authorization","title":"Fail-Safe Authorization","text":"<ul> <li>Enhanced: <code>@requires</code> decorator implements fail-safe authorization pattern</li> <li>Access denied by default unless explicitly granted</li> <li>Proper HTTP status codes: 401 (auth), 403 (authz), 500 (config error)</li> <li>Integrated error logging</li> <li>Breaking Change: <code>@requires(\"role\")</code> now requires explicit <code>check_func</code> parameter</li> <li>Test Coverage: 7 test cases</li> </ul>"},{"location":"changelog/#added_3","title":"Added","text":""},{"location":"changelog/#security-logging-owasp-a09","title":"Security Logging (OWASP A09)","text":"<ul> <li>New: <code>SecurityLogger</code> class for structured security event logging</li> <li>JSON-formatted output for SIEM integration</li> <li>Automatic sensitive data redaction (passwords, tokens, API keys)</li> <li>Security event types: AUTH_SUCCESS, AUTH_FAILURE, AUTHZ_FAILURE, RATE_LIMIT_EXCEEDED, etc.</li> <li>Integrated with <code>@rate_limit</code> and <code>@requires</code> decorators</li> </ul>"},{"location":"changelog/#health-check-endpoint","title":"Health Check Endpoint","text":"<ul> <li>New: Built-in <code>/health</code> endpoint for monitoring and load balancers</li> <li>Configurable via <code>HEALTH_CHECK_ENABLED</code> and <code>HEALTH_CHECK_PATH</code></li> <li>Returns service status, name, and version in JSON format</li> <li>Automatically registered with FastAPI and Flask adapters</li> </ul>"},{"location":"changelog/#error-response-helper","title":"Error Response Helper","text":"<ul> <li>New: <code>error_response()</code> helper function in decorators module</li> <li>Consistent error response formatting across the application</li> <li>Supports custom error types and detailed messages</li> </ul>"},{"location":"changelog/#enhanced","title":"Enhanced","text":"<ul> <li>Rate Limiter: Added bounded storage with LRU eviction (max 10,000 keys)</li> <li>Cache: Thread-safe operations with double-checked locking</li> <li>Decorators: Added <code>__all__</code> exports for cleaner imports</li> </ul>"},{"location":"changelog/#test-suite","title":"Test Suite","text":"<ul> <li>Comprehensive security test suite (<code>tests/test_security_fixes.py</code>)</li> <li>27 test cases covering security features</li> <li>Integration tests and platform-specific edge cases</li> </ul>"},{"location":"changelog/#documentation","title":"Documentation","text":"<ul> <li>Added \"Security Logging (OWASP A09)\" section to security guide</li> <li>Updated security best practices with new feature examples</li> <li>Added Health Check configuration documentation</li> </ul>"},{"location":"changelog/#breaking-changes_1","title":"Breaking Changes","text":"<ul> <li>@requires decorator: Now requires explicit <code>check_func</code> parameter when roles are specified</li> <li>Migration: Add <code>check_func</code> parameter with your authorization logic</li> </ul>"},{"location":"changelog/#unreleased","title":"[Unreleased]","text":""},{"location":"changelog/#documentation_1","title":"Documentation","text":"<ul> <li>BREAKING: Fixed incorrect decorator imports throughout documentation</li> <li>Changed <code>from reroute import rate_limit, cache</code> to <code>from reroute.decorators import</code></li> <li>Affects: quickstart, API reference, guides, and all examples</li> <li>Updated quickstart guide to use CLI commands instead of manual file creation</li> <li>Replaced <code>mkdir</code> commands with <code>reroute init</code></li> <li>Replaced manual code writing with <code>reroute create route</code></li> <li>Reduced setup time from 5 minutes to 2 minutes</li> <li>Added warnings for unimplemented decorators (<code>@requires</code>, <code>@validate</code>, <code>@timeout</code>)</li> <li>Created IMPLEMENTATION_STATUS.md tracking file for feature accuracy</li> </ul>"},{"location":"changelog/#fixed_5","title":"Fixed","text":"<ul> <li>Documentation now accurately reflects actual REROUTE features</li> <li>Removed fake features and methods from examples</li> <li>Corrected import statements across all documentation pages</li> </ul>"},{"location":"changelog/#012-2025-11-20","title":"[0.1.2] - 2025-11-20","text":""},{"location":"changelog/#added_4","title":"Added","text":"<ul> <li>Lazy imports for optional framework dependencies</li> <li>Automatic update notifications in CLI (<code>reroute --version</code>)</li> <li>Clear error messages for missing framework dependencies</li> </ul>"},{"location":"changelog/#changed_4","title":"Changed","text":"<ul> <li>Optimized CI/CD pipeline (15 \u2192 8 test jobs, 47% faster)</li> <li>Improved GitHub Actions workflow error handling</li> </ul>"},{"location":"changelog/#fixed_6","title":"Fixed","text":"<ul> <li>Module import errors for optional dependencies</li> <li>Version consistency across configuration files</li> <li>GitHub Release 403 authorization errors</li> </ul>"},{"location":"changelog/#011-20-11-2025","title":"[0.1.1] - 20-11-2025","text":""},{"location":"changelog/#added_5","title":"Added","text":"<ul> <li>Version display with <code>--version</code> and <code>-V</code> flags</li> <li>Modular CLI architecture</li> </ul>"},{"location":"changelog/#fixed_7","title":"Fixed","text":"<ul> <li>Duplicate banner display in CLI</li> <li>Unicode compatibility for Windows</li> <li>pyproject.toml license format</li> </ul>"},{"location":"changelog/#010-19-11-2025","title":"[0.1.0] - 19-11-2025","text":""},{"location":"changelog/#added_6","title":"Added","text":"<ul> <li>Initial release</li> <li>File-based routing</li> <li>FastAPI and Flask adapters</li> <li>Built-in decorators (<code>@rate_limit</code>, <code>@cache</code>, etc.)</li> <li>CLI for project scaffolding</li> <li>Configuration system</li> <li>Parameter injection</li> <li>Lifecycle hooks</li> </ul> <p>View full changelog on GitHub</p>"},{"location":"contributing/","title":"Contributing to REROUTE","text":"<p>Thank you for your interest in contributing to REROUTE! This document provides guidelines and instructions for contributing.</p>"},{"location":"contributing/#ways-to-contribute","title":"Ways to Contribute","text":"<ul> <li>Report bugs and issues</li> <li>Suggest new features</li> <li>Improve documentation</li> <li>Submit pull requests</li> <li>Write tutorials and examples</li> </ul>"},{"location":"contributing/#getting-started","title":"Getting Started","text":""},{"location":"contributing/#1-fork-and-clone","title":"1. Fork and Clone","text":"<pre><code># Fork the repository on GitHub, then clone your fork\ngit clone https://github.com/YOUR_USERNAME/reroute.git\ncd reroute\n</code></pre>"},{"location":"contributing/#2-set-up-development-environment","title":"2. Set Up Development Environment","text":"<pre><code># Create virtual environment\npython -m venv venv\nsource venv/bin/activate  # On Windows: venv\\Scripts\\activate\n\n# Install in development mode\npip install -e \".[dev]\"\n</code></pre>"},{"location":"contributing/#3-create-a-branch","title":"3. Create a Branch","text":"<pre><code>git checkout -b feature/your-feature-name\n# or\ngit checkout -b fix/your-bug-fix\n</code></pre>"},{"location":"contributing/#development-workflow","title":"Development Workflow","text":""},{"location":"contributing/#running-tests","title":"Running Tests","text":"<pre><code># Run all tests\npytest\n\n# Run with coverage\npytest --cov=reroute\n\n# Run specific test file\npytest tests/test_adapters.py\n</code></pre>"},{"location":"contributing/#code-style","title":"Code Style","text":"<p>We use:</p> <ul> <li>Black for code formatting</li> <li>isort for import sorting</li> <li>flake8 for linting</li> </ul> <p>Format your code before committing:</p> <pre><code># Format code\nblack reroute tests\n\n# Sort imports\nisort reroute tests\n\n# Check linting\nflake8 reroute tests\n</code></pre>"},{"location":"contributing/#type-checking","title":"Type Checking","text":"<pre><code># Run mypy type checker\nmypy reroute\n</code></pre>"},{"location":"contributing/#making-changes","title":"Making Changes","text":""},{"location":"contributing/#1-write-tests","title":"1. Write Tests","text":"<p>Add tests for new features or bug fixes:</p> <pre><code># tests/test_your_feature.py\ndef test_new_feature():\n    # Your test here\n    assert True\n</code></pre>"},{"location":"contributing/#2-update-documentation","title":"2. Update Documentation","text":"<ul> <li>Update docstrings</li> <li>Add examples to guides</li> <li>Update CHANGELOG.md</li> </ul>"},{"location":"contributing/#3-commit-your-changes","title":"3. Commit Your Changes","text":"<p>Follow conventional commit format:</p> <pre><code>git commit -m \"feat: add new decorator for timeouts\"\ngit commit -m \"fix: resolve caching issue in FastAPI adapter\"\ngit commit -m \"docs: improve quickstart guide\"\n</code></pre> <p>Commit types:</p> <ul> <li><code>feat</code>: New feature</li> <li><code>fix</code>: Bug fix</li> <li><code>docs</code>: Documentation changes</li> <li><code>test</code>: Test changes</li> <li><code>refactor</code>: Code refactoring</li> <li><code>chore</code>: Maintenance tasks</li> </ul>"},{"location":"contributing/#submitting-changes","title":"Submitting Changes","text":""},{"location":"contributing/#1-push-to-your-fork","title":"1. Push to Your Fork","text":"<pre><code>git push origin feature/your-feature-name\n</code></pre>"},{"location":"contributing/#2-create-pull-request","title":"2. Create Pull Request","text":"<ol> <li>Go to the REROUTE repository</li> <li>Click \"New Pull Request\"</li> <li>Select your fork and branch</li> <li>Fill out the PR template</li> <li>Submit for review</li> </ol>"},{"location":"contributing/#pr-guidelines","title":"PR Guidelines","text":"<ul> <li>Describe what your PR does</li> <li>Reference related issues</li> <li>Include screenshots for UI changes</li> <li>Ensure all tests pass</li> <li>Update documentation</li> </ul>"},{"location":"contributing/#code-review-process","title":"Code Review Process","text":"<ol> <li>Maintainers will review your PR</li> <li>Address any requested changes</li> <li>Once approved, your PR will be merged</li> <li>Your contribution will be in the next release!</li> </ol>"},{"location":"contributing/#community-guidelines","title":"Community Guidelines","text":"<ul> <li>Be respectful and inclusive</li> <li>Help others learn and grow</li> <li>Follow the Code of Conduct</li> </ul>"},{"location":"contributing/#need-help","title":"Need Help?","text":"<ul> <li>Check existing issues</li> <li>Ask questions in discussions</li> <li>Reach out to maintainers</li> </ul>"},{"location":"contributing/#recognition","title":"Recognition","text":"<p>Contributors are recognized in:</p> <ul> <li>CHANGELOG.md</li> <li>GitHub contributors page</li> <li>Release notes</li> </ul> <p>Thank you for making REROUTE better!</p>"},{"location":"adapters/","title":"Adapters","text":"<p>REROUTE adapters integrate file-based routing with different Python web frameworks.</p>"},{"location":"adapters/#available-adapters","title":"Available Adapters","text":"<ul> <li> <p>FastAPI</p> <p>High-performance async framework with automatic API docs.</p> <p> FastAPI Guide</p> </li> <li> <p>Flask</p> <p>Lightweight and flexible WSGI framework with Swagger UI support.</p> <p> Flask Guide</p> </li> <li> <p>Django</p> <p>Full-featured framework (coming soon).</p> <p> Django Guide</p> </li> </ul>"},{"location":"adapters/#how-adapters-work","title":"How Adapters Work","text":"<p>Adapters translate REROUTE's file-based routes into framework-specific routes:</p> FastAPIFlask <pre><code>from fastapi import FastAPI\nfrom reroute.adapters import FastAPIAdapter\nfrom pathlib import Path\n\napp = FastAPI()\nadapter = FastAPIAdapter(\n    fastapi_app=app,\n    app_dir=Path(__file__).parent / \"app\"\n)\nadapter.register_routes()\n</code></pre> <pre><code>from flask import Flask\nfrom reroute.adapters import FlaskAdapter\nfrom pathlib import Path\n\napp = Flask(__name__)\nadapter = FlaskAdapter(\n    flask_app=app,\n    app_dir=Path(__file__).parent / \"app\"\n)\nadapter.register_routes()\n</code></pre>"},{"location":"adapters/#common-features","title":"Common Features","text":"<p>All adapters support:</p> <ul> <li>File-based routing discovery - Automatic route registration from folder structure</li> <li>HTTP method mapping - GET, POST, PUT, DELETE, PATCH, OPTIONS</li> <li>Lifecycle hooks - before_request, after_request, on_error</li> <li>Decorator integration - Rate limiting, caching, validation</li> <li>Custom configuration - Framework-specific settings</li> <li>Security headers - OWASP-compliant security headers (v0.2.0+)</li> </ul>"},{"location":"adapters/#choosing-an-adapter","title":"Choosing an Adapter","text":"Feature FastAPI Flask Django Async Support Full Partial Full Auto API Docs Built-in (Swagger/ReDoc) Via Flask-Swagger No Performance Excellent Good Good Learning Curve Medium Low High REROUTE Support Full Full Coming Soon"},{"location":"adapters/#framework-specific-guides","title":"Framework-Specific Guides","text":"<ul> <li>FastAPI Integration - Async routes, OpenAPI, dependency injection</li> <li>Flask Integration - Blueprints, extensions, Swagger UI</li> <li>Django Integration - Coming soon</li> </ul>"},{"location":"adapters/#custom-adapters","title":"Custom Adapters","text":"<p>You can create custom adapters for other frameworks by extending the base adapter class. See the Adapters API Reference for the adapter interface.</p>"},{"location":"adapters/django/","title":"Django Adapter","text":"<p>Not Yet Available</p> <p>The Django adapter is not yet implemented. This page shows planned features for a future release. Current Status: Planned for future development Available Now: FastAPI Adapter</p>"},{"location":"adapters/django/#status","title":"Status","text":"<p>The Django adapter is currently in development and will be available in a future release.</p>"},{"location":"adapters/django/#planned-features","title":"Planned Features","text":"<ul> <li>URL pattern generation</li> <li>Django ORM integration</li> <li>Admin interface support</li> <li>Middleware compatibility</li> </ul>"},{"location":"adapters/django/#stay-updated","title":"Stay Updated","text":"<p>Watch the GitHub repository for updates on Django support.</p>"},{"location":"adapters/fastapi/","title":"FastAPI Adapter Documentation","text":""},{"location":"adapters/fastapi/#overview","title":"Overview","text":"<p>The FastAPI adapter integrates REROUTE's file-based routing with FastAPI applications, providing seamless OpenAPI documentation and automatic validation.</p>"},{"location":"adapters/fastapi/#features","title":"Features","text":"<ul> <li>File-based routing: Automatically discovers and registers routes from <code>routes/</code> directory</li> <li>Native OpenAPI support: Built-in Swagger UI and ReDoc (can be disabled)</li> <li>Auto-reload: Automatic module detection for uvicorn reload</li> <li>Flexible configuration: Override config values at runtime</li> <li>CORS support: Built-in CORS middleware</li> <li>Type validation: Automatic request/response validation via Pydantic</li> </ul>"},{"location":"adapters/fastapi/#basic-setup","title":"Basic Setup","text":"<pre><code>from fastapi import FastAPI\nfrom reroute.adapters import FastAPIAdapter\nfrom config import AppConfig\n\n# Create FastAPI app\napp = FastAPI()\n\n# Initialize REROUTE adapter\nadapter = FastAPIAdapter(\n    fastapi_app=app,\n    app_dir=\"./app\",\n    config=AppConfig\n)\n\n# Register all file-based routes\nadapter.register_routes()\n\n# Add manual routes (optional)\n@app.get(\"/\")\ndef root():\n    \"\"\"Welcome endpoint\"\"\"\n    return {\n        \"message\": \"Welcome to My API\",\n        \"docs\": \"/docs\"\n    }\n\n# Run server\nif __name__ == \"__main__\":\n    adapter.run_server()\n</code></pre>"},{"location":"adapters/fastapi/#configuration","title":"Configuration","text":""},{"location":"adapters/fastapi/#openapi-configuration","title":"OpenAPI Configuration","text":"<pre><code>from reroute import Config\n\nclass AppConfig(Config):\n    # Server Configuration\n    HOST = \"0.0.0.0\"\n    PORT = 7376\n    AUTO_RELOAD = True\n\n    # OpenAPI/Swagger Documentation\n    class OpenAPI:\n        ENABLE = True                    # Enable/disable all documentation\n\n        # Documentation Endpoints\n        DOCS_PATH = \"/docs\"              # Swagger UI (set to None to disable)\n        REDOC_PATH = \"/redoc\"            # ReDoc UI (set to None to disable)\n        JSON_PATH = \"/openapi.json\"      # OpenAPI spec endpoint\n\n        # API Metadata\n        TITLE = \"My API\"\n        VERSION = \"1.0.0\"\n        DESCRIPTION = \"My API built with REROUTE\"\n</code></pre>"},{"location":"adapters/fastapi/#documentation-uis","title":"Documentation UIs","text":"<p>When OpenAPI is enabled, the following endpoints are available:</p> <ul> <li>Swagger UI: <code>http://localhost:7376/docs</code></li> <li>ReDoc UI: <code>http://localhost:7376/redoc</code></li> <li>OpenAPI Spec: <code>http://localhost:7376/openapi.json</code></li> </ul>"},{"location":"adapters/fastapi/#disabling-documentation","title":"Disabling Documentation","text":"<p>To disable specific UIs, set their paths to <code>None</code>:</p> <pre><code>class OpenAPI:\n    ENABLE = True\n    DOCS_PATH = \"/docs\"      # Swagger enabled\n    REDOC_PATH = None        # ReDoc disabled\n    JSON_PATH = None         # OpenAPI JSON disabled\n</code></pre> <p>Note: When you set a path to <code>None</code>, the route is completely removed from FastAPI - you'll get a 404 when accessing it.</p>"},{"location":"adapters/fastapi/#running-the-server","title":"Running the Server","text":""},{"location":"adapters/fastapi/#basic-usage","title":"Basic Usage","text":"<pre><code># Use config defaults\nadapter.run_server()\n</code></pre>"},{"location":"adapters/fastapi/#override-parameters","title":"Override Parameters","text":"<pre><code># Override port\nadapter.run_server(port=8080)\n\n# Override multiple parameters\nadapter.run_server(\n    port=8080,\n    reload=False,\n    workers=4\n)\n\n# Custom log level\nadapter.run_server(\n    log_level=\"debug\",\n    access_log=True\n)\n</code></pre>"},{"location":"adapters/fastapi/#available-parameters","title":"Available Parameters","text":"<p>Common uvicorn parameters:</p> <ul> <li><code>host</code> (str): Host to bind (default: from config.HOST)</li> <li><code>port</code> (int): Port to bind (default: from config.PORT)</li> <li><code>reload</code> (bool): Enable auto-reload (default: from config.AUTO_RELOAD)</li> <li><code>workers</code> (int): Number of worker processes</li> <li><code>log_level</code> (str): Logging level (\"critical\", \"error\", \"warning\", \"info\", \"debug\", \"trace\")</li> <li><code>access_log</code> (bool): Enable access log</li> <li><code>use_colors</code> (bool): Enable colored logging</li> <li><code>proxy_headers</code> (bool): Enable X-Forwarded-Proto, X-Forwarded-For headers</li> <li><code>forwarded_allow_ips</code> (str): Comma-separated list of IPs to trust with proxy headers</li> </ul>"},{"location":"adapters/fastapi/#auto-reload","title":"Auto-Reload","text":"<p>When <code>AUTO_RELOAD = True</code> or <code>reload=True</code> is passed, the adapter automatically detects the import string:</p> <pre><code># This automatically becomes: uvicorn main:app --reload\nadapter.run_server(reload=True)\n</code></pre> <p>Output: <pre><code>[INFO] Auto-reload enabled: main:app\n</code></pre></p>"},{"location":"adapters/fastapi/#request-validation","title":"Request Validation","text":"<p>FastAPI automatically validates requests using Pydantic models:</p> <pre><code>from fastapi import Query\nfrom pydantic import BaseModel\n\nclass User(BaseModel):\n    name: str\n    email: str\n    age: int\n\n@app.post(\"/users\")\ndef create_user(user: User):\n    \"\"\"Create a new user\"\"\"\n    return {\n        \"id\": 1,\n        \"name\": user.name,\n        \"email\": user.email\n    }\n\n@app.get(\"/users\")\ndef list_users(\n    page: int = Query(default=1, description=\"Page number\"),\n    limit: int = Query(default=10, description=\"Items per page\")\n):\n    \"\"\"List users with pagination\"\"\"\n    return {\n        \"page\": page,\n        \"limit\": limit,\n        \"users\": []\n    }\n</code></pre>"},{"location":"adapters/fastapi/#cors-configuration","title":"CORS Configuration","text":"<pre><code>class AppConfig(Config):\n    ENABLE_CORS = True\n    CORS_ALLOW_ORIGINS = [\"*\"]  # or [\"http://localhost:3000\"]\n    CORS_ALLOW_METHODS = [\"GET\", \"POST\", \"PUT\", \"DELETE\", \"PATCH\", \"OPTIONS\"]\n    CORS_ALLOW_HEADERS = [\"*\"]\n    CORS_ALLOW_CREDENTIALS = False\n</code></pre> <p>CORS is implemented via FastAPI's CORSMiddleware.</p>"},{"location":"adapters/fastapi/#file-based-routes","title":"File-Based Routes","text":"<p>Create routes in <code>app/routes/</code> directory:</p> <pre><code>app/\n\u2514\u2500\u2500 routes/\n    \u251c\u2500\u2500 users/\n    \u2502   \u2514\u2500\u2500 page.py\n    \u2514\u2500\u2500 products/\n        \u2514\u2500\u2500 page.py\n</code></pre> <p>Example: <code>app/routes/users/page.py</code></p> <pre><code>from reroute import RouteBase\nfrom pydantic import BaseModel\n\nclass UserCreate(BaseModel):\n    name: str\n    email: str\n\nclass UserRoutes(RouteBase):\n    tag = \"Users\"  # OpenAPI tag\n\n    def get(self, user_id: int):\n        \"\"\"Get user by ID\"\"\"\n        return {\"id\": user_id, \"name\": \"John\"}\n\n    def post(self, user: UserCreate):\n        \"\"\"Create new user\"\"\"\n        return {\n            \"id\": 1,\n            \"name\": user.name,\n            \"email\": user.email\n        }\n</code></pre>"},{"location":"adapters/fastapi/#error-handling","title":"Error Handling","text":"<pre><code>from fastapi import FastAPI, HTTPException\nfrom reroute.adapters import FastAPIAdapter\n\napp = FastAPI()\nadapter = FastAPIAdapter(app)\n\n@app.exception_handler(404)\nasync def not_found_handler(request, exc):\n    return {\"error\": \"Not found\"}\n\n@app.exception_handler(500)\nasync def server_error_handler(request, exc):\n    return {\"error\": \"Internal server error\"}\n\n# Custom exception\nclass UserNotFoundError(Exception):\n    pass\n\n@app.exception_handler(UserNotFoundError)\nasync def user_not_found_handler(request, exc):\n    return {\"error\": \"User not found\"}\n</code></pre>"},{"location":"adapters/fastapi/#async-support","title":"Async Support","text":"<p>FastAPI fully supports async/await:</p> <pre><code>from reroute import RouteBase\n\nclass UserRoutes(RouteBase):\n    async def get(self, user_id: int):\n        \"\"\"Async get user\"\"\"\n        # Simulate async DB call\n        await asyncio.sleep(0.1)\n        return {\"id\": user_id, \"name\": \"John\"}\n\n    async def post(self, user: UserCreate):\n        \"\"\"Async create user\"\"\"\n        await save_to_db(user)\n        return {\"id\": 1, \"created\": True}\n</code></pre>"},{"location":"adapters/fastapi/#background-tasks","title":"Background Tasks","text":"<pre><code>from fastapi import BackgroundTasks\n\n@app.post(\"/send-email\")\ndef send_email(email: str, background_tasks: BackgroundTasks):\n    \"\"\"Send email in background\"\"\"\n    background_tasks.add_task(send_email_task, email)\n    return {\"message\": \"Email will be sent\"}\n\ndef send_email_task(email: str):\n    # Actual email sending logic\n    pass\n</code></pre>"},{"location":"adapters/fastapi/#dependencies","title":"Dependencies","text":"<p>Use FastAPI's dependency injection:</p> <pre><code>from fastapi import Depends\n\ndef get_current_user(token: str = Header()):\n    # Verify token and return user\n    return {\"id\": 1, \"name\": \"John\"}\n\n@app.get(\"/me\")\ndef get_me(user = Depends(get_current_user)):\n    \"\"\"Get current user\"\"\"\n    return user\n</code></pre>"},{"location":"adapters/fastapi/#best-practices","title":"Best Practices","text":"<ol> <li> <p>Use config for defaults, kwargs for overrides: Keep standard settings in config, use <code>run_server()</code> kwargs for temporary changes</p> </li> <li> <p>Disable unused docs: Set <code>REDOC_PATH = None</code> if you only use Swagger</p> </li> <li> <p>Use async when possible: Async routes improve performance for I/O-bound operations</p> </li> <li> <p>Tag your routes: Use <code>tag</code> attribute in RouteBase for organized documentation</p> </li> <li> <p>Enable reload in development: Set <code>AUTO_RELOAD = True</code> in DevConfig</p> </li> <li> <p>Use dependency injection: Leverage FastAPI's Depends for authentication, database connections, etc.</p> </li> </ol>"},{"location":"adapters/fastapi/#troubleshooting","title":"Troubleshooting","text":""},{"location":"adapters/fastapi/#auto-reload-not-working","title":"Auto-reload not working","text":"<ol> <li>Make sure <code>AUTO_RELOAD = True</code> or pass <code>reload=True</code></li> <li>Verify the adapter can detect the module (check for \"[INFO] Auto-reload enabled\" message)</li> <li>If it shows a warning, run directly: <code>uvicorn main:app --reload</code></li> </ol>"},{"location":"adapters/fastapi/#documentation-not-showing","title":"Documentation not showing","text":"<ol> <li>Check if <code>OpenAPI.ENABLE = True</code> in config</li> <li>Verify paths are not set to <code>None</code></li> <li>Access the correct URLs: <code>/docs</code> or <code>/redoc</code></li> </ol>"},{"location":"adapters/fastapi/#routes-not-registering","title":"Routes not registering","text":"<ol> <li>Verify <code>routes/</code> directory exists</li> <li>Check file is named <code>page.py</code></li> <li>Ensure class inherits from <code>RouteBase</code></li> <li>Check for any import errors in your route files</li> </ol>"},{"location":"adapters/fastapi/#cors-errors","title":"CORS errors","text":"<ol> <li>Set <code>ENABLE_CORS = True</code> in config</li> <li>Add your frontend origin to <code>CORS_ALLOW_ORIGINS</code></li> <li>Verify <code>CORS_ALLOW_CREDENTIALS</code> setting</li> </ol>"},{"location":"adapters/fastapi/#deployment","title":"Deployment","text":""},{"location":"adapters/fastapi/#production-settings","title":"Production Settings","text":"<pre><code>class ProdConfig(Config):\n    DEBUG = False\n    AUTO_RELOAD = False\n    LOG_LEVEL = \"WARNING\"\n\n    class OpenAPI:\n        ENABLE = False  # Disable docs in production\n\n# Run with multiple workers\nadapter.run_server(workers=4, log_level=\"warning\")\n</code></pre>"},{"location":"adapters/fastapi/#docker","title":"Docker","text":"<pre><code>FROM python:3.11-slim\n\nWORKDIR /app\nCOPY requirements.txt .\nRUN pip install -r requirements.txt\n\nCOPY . .\n\nCMD [\"python\", \"-m\", \"uvicorn\", \"main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n</code></pre>"},{"location":"adapters/fastapi/#uvicorn-direct","title":"Uvicorn Direct","text":"<p>If you prefer running uvicorn directly:</p> <pre><code>uvicorn main:app --host 0.0.0.0 --port 8000 --workers 4\n</code></pre>"},{"location":"adapters/fastapi/#see-also","title":"See Also","text":"<ul> <li>Flask Adapter Documentation</li> <li>Configuration Guide</li> <li>REROUTE Documentation Home</li> <li>GitHub Repository</li> <li>FastAPI Official Documentation</li> </ul>"},{"location":"adapters/flask/","title":"Flask Adapter Documentation","text":""},{"location":"adapters/flask/#overview","title":"Overview","text":"<p>The Flask adapter integrates REROUTE's file-based routing with Flask applications, providing automatic OpenAPI documentation via Spectree.</p>"},{"location":"adapters/flask/#features","title":"Features","text":"<ul> <li>File-based routing: Automatically discovers and registers routes from <code>routes/</code> directory</li> <li>OpenAPI documentation: Swagger UI and Scalar UI via Spectree</li> <li>Dynamic HTTP method decorators: <code>@adapter.get()</code>, <code>@adapter.post()</code>, etc.</li> <li>Flexible configuration: Override config values at runtime</li> <li>CORS support: Built-in CORS configuration</li> <li>Route validation: Automatic request/response validation with Pydantic</li> </ul>"},{"location":"adapters/flask/#basic-setup","title":"Basic Setup","text":"<pre><code>from flask import Flask\nfrom reroute.adapters import FlaskAdapter\nfrom config import AppConfig\n\n# Create Flask app\napp = Flask(__name__)\n\n# Initialize REROUTE adapter\nadapter = FlaskAdapter(\n    flask_app=app,\n    app_dir=\"./app\",\n    config=AppConfig\n)\n\n# Register all file-based routes\nadapter.register_routes()\n\n# Add manual routes (optional)\n@adapter.get('/')\ndef root():\n    \"\"\"Welcome endpoint\"\"\"\n    return {\n        \"message\": \"Welcome to My API\",\n        \"docs\": \"/docs\"  # Swagger UI path (configurable via DOCS_PATH)\n    }\n\n# Run server\nif __name__ == \"__main__\":\n    adapter.run_server()\n</code></pre>"},{"location":"adapters/flask/#configuration","title":"Configuration","text":""},{"location":"adapters/flask/#openapi-configuration","title":"OpenAPI Configuration","text":"<pre><code>from reroute import Config\n\nclass AppConfig(Config):\n    # Server Configuration\n    HOST = \"0.0.0.0\"\n    PORT = 7376\n    DEBUG = False\n\n    # OpenAPI/Swagger Documentation\n    class OpenAPI:\n        ENABLE = True                    # Enable/disable all documentation\n\n        # Documentation Endpoints\n        DOCS_PATH = \"/docs\"              # Swagger UI (set to None to disable)\n        REDOC_PATH = None                # ReDoc disabled (broken CDN)\n        JSON_PATH = \"/openapi.json\"      # OpenAPI spec endpoint\n\n        # API Metadata\n        TITLE = \"My API\"\n        VERSION = \"1.0.0\"\n        DESCRIPTION = \"My API built with REROUTE\"\n</code></pre> <p>Note: ReDoc is disabled for Flask due to broken CDN URLs in Spectree. Use Swagger UI or Scalar UI instead.</p>"},{"location":"adapters/flask/#documentation-uis","title":"Documentation UIs","text":"<p>When OpenAPI is enabled, the following endpoints are available (paths are configurable):</p> <ul> <li>Swagger UI: <code>http://localhost:7376/docs</code> (configured via <code>DOCS_PATH</code>)</li> <li>Scalar UI: <code>http://localhost:7376/scalar/</code> (separate endpoint, always available when OpenAPI enabled)</li> <li>OpenAPI Spec: <code>http://localhost:7376/openapi.json</code> (configured via <code>JSON_PATH</code>)</li> </ul> <p>Note: The actual paths depend on your configuration. The defaults shown above match the config example.</p>"},{"location":"adapters/flask/#disabling-documentation","title":"Disabling Documentation","text":"<p>To disable specific UIs, set their paths to <code>None</code>:</p> <pre><code>class OpenAPI:\n    ENABLE = True\n    DOCS_PATH = \"/docs\"      # Swagger enabled\n    REDOC_PATH = None        # ReDoc disabled\n    JSON_PATH = None         # OpenAPI JSON disabled\n</code></pre>"},{"location":"adapters/flask/#http-method-decorators","title":"HTTP Method Decorators","text":"<p>The adapter provides decorators for all HTTP methods:</p> <pre><code># GET request\n@adapter.get('/users')\ndef list_users():\n    return {\"users\": []}\n\n# POST request\n@adapter.post('/users')\ndef create_user():\n    return {\"id\": 1, \"name\": \"John\"}\n\n# PUT request\n@adapter.put('/users/&lt;int:user_id&gt;')\ndef update_user(user_id: int):\n    return {\"id\": user_id, \"updated\": True}\n\n# DELETE request\n@adapter.delete('/users/&lt;int:user_id&gt;')\ndef delete_user(user_id: int):\n    return {\"deleted\": True}\n\n# Generic route (multiple methods)\n@adapter.route('/health', methods=['GET', 'HEAD'])\ndef health():\n    return {\"status\": \"healthy\"}\n</code></pre> <p>Available method decorators: - <code>@adapter.get(path)</code> - <code>@adapter.post(path)</code> - <code>@adapter.put(path)</code> - <code>@adapter.patch(path)</code> - <code>@adapter.delete(path)</code> - <code>@adapter.head(path)</code> - <code>@adapter.options(path)</code> - <code>@adapter.route(path, methods=[])</code></p>"},{"location":"adapters/flask/#request-validation","title":"Request Validation","text":"<p>Use REROUTE params for automatic validation:</p> <pre><code>from reroute.params import Query, Body, Path\n\n@adapter.get('/users')\ndef list_users(\n    page: int = Query(default=1, description=\"Page number\"),\n    limit: int = Query(default=10, description=\"Items per page\")\n):\n    \"\"\"List users with pagination\"\"\"\n    return {\n        \"page\": page,\n        \"limit\": limit,\n        \"users\": []\n    }\n\n# Using Pydantic models\nfrom pydantic import BaseModel\n\nclass User(BaseModel):\n    name: str\n    email: str\n\n@adapter.post('/users')\ndef create_user(user: User = Body()):\n    \"\"\"Create a new user\"\"\"\n    return {\n        \"id\": 1,\n        \"name\": user.name,\n        \"email\": user.email\n    }\n</code></pre>"},{"location":"adapters/flask/#running-the-server","title":"Running the Server","text":""},{"location":"adapters/flask/#basic-usage","title":"Basic Usage","text":"<pre><code># Use config defaults\nadapter.run_server()\n</code></pre>"},{"location":"adapters/flask/#override-parameters","title":"Override Parameters","text":"<pre><code># Override port\nadapter.run_server(port=8080)\n\n# Override multiple parameters\nadapter.run_server(\n    port=8080,\n    debug=True,\n    use_reloader=True\n)\n\n# Disable debug even if config has DEBUG=True\nadapter.run_server(debug=False)\n</code></pre>"},{"location":"adapters/flask/#available-parameters","title":"Available Parameters","text":"<ul> <li><code>host</code> (str): Host to bind (default: from config.HOST)</li> <li><code>port</code> (int): Port to bind (default: from config.PORT)</li> <li><code>debug</code> (bool): Enable debug mode (default: from config.DEBUG)</li> <li><code>use_reloader</code> (bool): Enable auto-reloader</li> <li><code>use_debugger</code> (bool): Enable debugger</li> <li><code>threaded</code> (bool): Handle requests in separate threads</li> <li><code>processes</code> (int): Number of processes to spawn</li> </ul>"},{"location":"adapters/flask/#cors-configuration","title":"CORS Configuration","text":"<pre><code>class AppConfig(Config):\n    ENABLE_CORS = True\n    CORS_ALLOW_ORIGINS = [\"*\"]  # or [\"http://localhost:3000\"]\n    CORS_ALLOW_METHODS = [\"GET\", \"POST\", \"PUT\", \"DELETE\", \"PATCH\", \"OPTIONS\"]\n    CORS_ALLOW_HEADERS = [\"*\"]\n    CORS_ALLOW_CREDENTIALS = False\n</code></pre>"},{"location":"adapters/flask/#file-based-routes","title":"File-Based Routes","text":"<p>Create routes in <code>app/routes/</code> directory:</p> <pre><code>app/\n\u2514\u2500\u2500 routes/\n    \u251c\u2500\u2500 users/\n    \u2502   \u2514\u2500\u2500 page.py\n    \u2514\u2500\u2500 products/\n        \u2514\u2500\u2500 page.py\n</code></pre> <p>Example: <code>app/routes/users/page.py</code></p> <pre><code>from reroute import RouteBase\nfrom reroute.params import Query\n\nclass UserRoutes(RouteBase):\n    tag = \"Users\"  # OpenAPI tag\n\n    def get(self, user_id: int = Query(description=\"User ID\")):\n        \"\"\"Get user by ID\"\"\"\n        return {\"id\": user_id, \"name\": \"John\"}\n\n    def post(self):\n        \"\"\"Create new user\"\"\"\n        return {\"id\": 1, \"created\": True}\n</code></pre>"},{"location":"adapters/flask/#error-handling","title":"Error Handling","text":"<pre><code>from flask import Flask\nfrom reroute.adapters import FlaskAdapter\n\napp = Flask(__name__)\nadapter = FlaskAdapter(app)\n\n@app.errorhandler(404)\ndef not_found(error):\n    return {\"error\": \"Not found\"}, 404\n\n@app.errorhandler(500)\ndef server_error(error):\n    return {\"error\": \"Internal server error\"}, 500\n</code></pre>"},{"location":"adapters/flask/#best-practices","title":"Best Practices","text":"<ol> <li> <p>Use config for defaults, kwargs for overrides: Keep standard settings in config, use <code>run_server()</code> kwargs for temporary changes</p> </li> <li> <p>Disable unused docs: Set <code>REDOC_PATH = None</code> if not needed</p> </li> <li> <p>Use Pydantic models: Leverage Pydantic for request/response validation</p> </li> <li> <p>Tag your routes: Use <code>tag</code> attribute in RouteBase for organized documentation</p> </li> <li> <p>Avoid debug in production: Set <code>DEBUG = False</code> in production config</p> </li> </ol>"},{"location":"adapters/flask/#troubleshooting","title":"Troubleshooting","text":""},{"location":"adapters/flask/#documentation-not-showing","title":"Documentation not showing","text":"<ol> <li>Check if <code>OpenAPI.ENABLE = True</code> in config</li> <li>Verify <code>spectree</code> is installed: <code>pip install spectree</code></li> <li>Ensure paths are not set to <code>None</code></li> </ol>"},{"location":"adapters/flask/#routes-not-registering","title":"Routes not registering","text":"<ol> <li>Verify <code>routes/</code> directory exists</li> <li>Check file is named <code>page.py</code></li> <li>Ensure class inherits from <code>RouteBase</code></li> </ol>"},{"location":"adapters/flask/#cors-errors","title":"CORS errors","text":"<ol> <li>Set <code>ENABLE_CORS = True</code> in config</li> <li>Add your frontend origin to <code>CORS_ALLOW_ORIGINS</code></li> <li>Install flask-cors: <code>pip install flask-cors</code></li> </ol>"},{"location":"adapters/flask/#see-also","title":"See Also","text":"<ul> <li>FastAPI Adapter Documentation</li> <li>Configuration Guide</li> <li>REROUTE Documentation Home</li> <li>GitHub Repository</li> </ul>"},{"location":"api/","title":"API Reference","text":"<p>Complete API documentation for REROUTE.</p>"},{"location":"api/#core-classes","title":"Core Classes","text":"<ul> <li> <p> RouteBase</p> <p>Base class for all file-based routes</p> </li> <li> <p> Config</p> <p>Configuration system</p> </li> <li> <p> Adapters</p> <p>Framework integration adapters</p> </li> </ul>"},{"location":"api/#decorators","title":"Decorators","text":"<ul> <li> <p> Built-in Decorators</p> <p>rate_limit, cache, requires, validate, etc.</p> </li> </ul>"},{"location":"api/#quick-reference","title":"Quick Reference","text":""},{"location":"api/#routebase","title":"RouteBase","text":"<pre><code>from reroute import RouteBase\n\nclass MyRoute(RouteBase):\n    tag = \"Custom Tag\"  # Optional Swagger tag\n\n    def get(self):\n        \"\"\"Handle GET requests\"\"\"\n        pass\n\n    def before_request(self):\n        \"\"\"Run before every request\"\"\"\n        return None\n\n    def after_request(self, response):\n        \"\"\"Run after successful request\"\"\"\n        return response\n\n    def on_error(self, error):\n        \"\"\"Handle errors\"\"\"\n        return {\"error\": str(error)}\n</code></pre>"},{"location":"api/#decorators_1","title":"Decorators","text":"<pre><code>from reroute.decorators import rate_limit, cache\n\n@rate_limit(\"5/min\")\n@cache(duration=60)\ndef my_endpoint(self):\n    pass\n</code></pre> <p>Note: All decorators (<code>rate_limit</code>, <code>cache</code>, <code>requires</code>, <code>validate</code>, <code>timeout</code>, <code>log_requests</code>) are fully implemented. See Decorators API for detailed documentation.</p>"},{"location":"api/#config","title":"Config","text":"<pre><code>from reroute import Config\n\nclass MyConfig(Config):\n    PORT = 8000\n    HOST = \"0.0.0.0\"\n    API_BASE_PATH = \"/api/v1\"\n    ENABLE_CORS = True\n    CORS_ALLOW_ORIGINS = [\"*\"]\n</code></pre>"},{"location":"api/#adapters","title":"Adapters","text":"<pre><code>from reroute.adapters import FastAPIAdapter, FlaskAdapter\n\n# FastAPI\nadapter = FastAPIAdapter(fastapi_app=app, app_dir=path)\nadapter.register_routes()\n\n# Flask\nadapter = FlaskAdapter(flask_app=app, app_dir=path)\nadapter.register_routes()\n</code></pre>"},{"location":"api/#modules","title":"Modules","text":"<ul> <li><code>reroute.core</code> - Core routing engine</li> <li><code>reroute.adapters</code> - Framework adapters</li> <li><code>reroute.cli</code> - Command-line interface</li> <li><code>reroute.decorators</code> - Built-in decorators</li> <li><code>reroute.config</code> - Configuration system</li> </ul>"},{"location":"api/#type-hints","title":"Type Hints","text":"<p>REROUTE is fully typed and supports type checking with mypy:</p> <pre><code>from typing import Dict, Any\nfrom reroute import RouteBase\n\nclass TypedRoute(RouteBase):\n    def get(self) -&gt; Dict[str, Any]:\n        return {\"status\": \"ok\"}\n</code></pre>"},{"location":"api/#learn-more","title":"Learn More","text":"<ul> <li>RouteBase API - Route class methods and hooks</li> <li>Decorators API - All decorator options</li> <li>Config API - Configuration options</li> <li>Adapters API - Adapter interfaces</li> </ul>"},{"location":"api/adapters/","title":"Adapters API","text":"<p>Framework adapter interfaces.</p>"},{"location":"api/adapters/#fastapiadapter","title":"FastAPIAdapter","text":"<p>Integrate REROUTE with FastAPI.</p> <pre><code>from reroute.adapters import FastAPIAdapter\n\nadapter = FastAPIAdapter(\n    fastapi_app=app,\n    app_dir=path,\n    config=MyConfig\n)\nadapter.register_routes()\n</code></pre> <p>Parameters: - <code>fastapi_app</code> (FastAPI): FastAPI application instance - <code>app_dir</code> (Path): Application directory - <code>config</code> (Config): Configuration class</p>"},{"location":"api/adapters/#flaskadapter","title":"FlaskAdapter","text":"<p>Integrate REROUTE with Flask. Includes OpenAPI documentation via Spectree.</p> <pre><code>from reroute.adapters import FlaskAdapter\n\nadapter = FlaskAdapter(\n    flask_app=app,\n    app_dir=path,\n    config=MyConfig\n)\nadapter.register_routes()\n</code></pre> <p>Parameters: - <code>flask_app</code> (Flask): Flask application instance - <code>app_dir</code> (Path): Application directory - <code>config</code> (Config): Configuration class</p>"},{"location":"api/adapters/#base-adapter","title":"Base Adapter","text":"<p>Create custom adapters by extending <code>BaseAdapter</code>.</p> <pre><code>from reroute.adapters import BaseAdapter\n\nclass MyAdapter(BaseAdapter):\n    def register_routes(self):\n        # Implementation\n        pass\n</code></pre>"},{"location":"api/adapters/#methods","title":"Methods","text":""},{"location":"api/adapters/#register_routes","title":"register_routes()","text":"<p>Register all discovered routes with the framework.</p> <pre><code>adapter.register_routes()\n</code></pre>"},{"location":"api/adapters/#discover_routes","title":"discover_routes()","text":"<p>Scan and discover route files.</p> <pre><code>routes = adapter.discover_routes()\n</code></pre>"},{"location":"api/adapters/#run_server","title":"run_server()","text":"<p>Start the development server with optional parameter overrides.</p> <pre><code># FastAPI\nadapter.run_server(port=8080, reload=True)\n\n# Flask\nadapter.run_server(port=5000, debug=True)\n</code></pre>"},{"location":"api/adapters/#quick-start-examples","title":"Quick Start Examples","text":""},{"location":"api/adapters/#fastapi-recommended-for-async","title":"FastAPI (Recommended for async)","text":"<pre><code>from fastapi import FastAPI\nfrom reroute.adapters import FastAPIAdapter\nfrom pathlib import Path\n\napp = FastAPI(title=\"My API\")\n\nadapter = FastAPIAdapter(\n    fastapi_app=app,\n    app_dir=Path(\"./app\")\n)\nadapter.register_routes()\nadapter.run_server(port=8000)\n</code></pre>"},{"location":"api/adapters/#flask-great-for-traditional-apps","title":"Flask (Great for traditional apps)","text":"<pre><code>from flask import Flask\nfrom reroute.adapters import FlaskAdapter\nfrom pathlib import Path\n\napp = Flask(__name__)\n\nadapter = FlaskAdapter(\n    flask_app=app,\n    app_dir=Path(\"./app\")\n)\nadapter.register_routes()\nadapter.run_server(port=5000)\n</code></pre>"},{"location":"api/adapters/#see-also","title":"See Also","text":"<ul> <li>FastAPI Adapter Guide - Complete FastAPI integration</li> <li>Flask Adapter Guide - Complete Flask integration</li> <li>Configuration - Adapter configuration options</li> <li>Getting Started - First steps with REROUTE</li> </ul>"},{"location":"api/config/","title":"Config API","text":"<p>Configuration class for REROUTE with support for environment variables and nested configuration.</p>"},{"location":"api/config/#basic-usage","title":"Basic Usage","text":"<pre><code>from reroute import Config, DevConfig, ProdConfig\n\n# Use default config\nclass MyConfig(Config):\n    PORT = 8000\n    DEBUG = True\n\n# Or use predefined configs\nDevConfig.load_from_env()  # Loads from .env.dev\nProdConfig.load_from_env()  # Loads from .env.prod\n</code></pre>"},{"location":"api/config/#configuration-structure","title":"Configuration Structure","text":"<p>REROUTE configuration is organized into three parts:</p>"},{"location":"api/config/#1-configinternal-framework-internals-protected","title":"1. Config.Internal (Framework Internals - PROTECTED)","text":"<p>Framework-critical settings that cannot be modified. These ensure REROUTE works correctly.</p> <pre><code>Config.Internal.ROUTES_DIR_NAME  # \"routes\"\nConfig.Internal.ROUTE_FILE_NAME  # \"page.py\"\nConfig.Internal.SUPPORTED_HTTP_METHODS  # [\"get\", \"post\", ...]\nConfig.Internal.IGNORE_FOLDERS  # [\"__pycache__\", \".git\", ...]\n</code></pre> <p>\u26a0\ufe0f Warning: Attempting to override <code>Config.Internal</code> in a child class will raise a <code>TypeError</code>.</p>"},{"location":"api/config/#2-configenv-environment-configuration","title":"2. Config.Env (Environment Configuration)","text":"<p>Controls how environment variables are loaded from <code>.env</code> files.</p> <pre><code>class Config:\n    class Env:\n        file = \".env\"  # Path to .env file\n        auto_load = True  # Automatically load on startup\n        override = True  # Override existing env vars\n</code></pre>"},{"location":"api/config/#3-user-settings-top-level","title":"3. User Settings (Top-level)","text":"<p>All other configuration options that developers can customize.</p>"},{"location":"api/config/#server-options","title":"Server Options","text":""},{"location":"api/config/#port","title":"PORT","text":"<p>Server port number. - Type: <code>int</code> - Default: <code>8000</code></p>"},{"location":"api/config/#host","title":"HOST","text":"<p>Server host address. - Type: <code>str</code> - Default: <code>\"127.0.0.1\"</code></p>"},{"location":"api/config/#debug","title":"DEBUG","text":"<p>Enable debug mode. - Type: <code>bool</code> - Default: <code>False</code></p>"},{"location":"api/config/#auto_reload","title":"AUTO_RELOAD","text":"<p>Auto-reload on code changes. - Type: <code>bool</code> - Default: <code>True</code></p>"},{"location":"api/config/#routing-options","title":"Routing Options","text":""},{"location":"api/config/#api_base_path","title":"API_BASE_PATH","text":"<p>Base path for all routes. - Type: <code>str</code> - Default: <code>\"/\"</code></p>"},{"location":"api/config/#routes_dir","title":"ROUTES_DIR","text":"<p>Routes directory path. - Type: <code>str</code> - Default: <code>\"app/routes\"</code></p>"},{"location":"api/config/#cors-options","title":"CORS Options","text":""},{"location":"api/config/#enable_cors","title":"ENABLE_CORS","text":"<p>Enable CORS. - Type: <code>bool</code> - Default: <code>False</code></p>"},{"location":"api/config/#cors_allow_origins","title":"CORS_ALLOW_ORIGINS","text":"<p>Allowed origins for CORS. - Type: <code>List[str]</code> - Default: <code>[\"*\"]</code></p>"},{"location":"api/config/#cors_allow_methods","title":"CORS_ALLOW_METHODS","text":"<p>Allowed HTTP methods. - Type: <code>List[str]</code> - Default: <code>[\"GET\", \"POST\", \"PUT\", \"DELETE\"]</code></p>"},{"location":"api/config/#cors_allow_headers","title":"CORS_ALLOW_HEADERS","text":"<p>Allowed headers. - Type: <code>List[str]</code> - Default: <code>[\"*\"]</code></p>"},{"location":"api/config/#logging-options","title":"Logging Options","text":""},{"location":"api/config/#verbose_logging","title":"VERBOSE_LOGGING","text":"<p>Enable verbose logging. - Type: <code>bool</code> - Default: <code>False</code></p>"},{"location":"api/config/#log_level","title":"LOG_LEVEL","text":"<p>Logging level. - Type: <code>str</code> - Default: <code>\"INFO\"</code> - Options: <code>\"DEBUG\"</code>, <code>\"INFO\"</code>, <code>\"WARNING\"</code>, <code>\"ERROR\"</code>, <code>\"CRITICAL\"</code></p>"},{"location":"api/config/#health-check-options-v020","title":"Health Check Options (v0.2.0+)","text":"<p>Built-in health check endpoint for monitoring and load balancers.</p>"},{"location":"api/config/#health_check_enabled","title":"HEALTH_CHECK_ENABLED","text":"<p>Enable the health check endpoint. - Type: <code>bool</code> - Default: <code>True</code></p>"},{"location":"api/config/#health_check_path","title":"HEALTH_CHECK_PATH","text":"<p>Path for the health check endpoint. - Type: <code>str</code> - Default: <code>\"/health\"</code></p> <p>Usage: <pre><code>from reroute import Config\n\nclass AppConfig(Config):\n    # Enable health check (default)\n    HEALTH_CHECK_ENABLED = True\n    HEALTH_CHECK_PATH = \"/health\"\n\n# Or disable if using custom health checks\nclass CustomConfig(Config):\n    HEALTH_CHECK_ENABLED = False\n</code></pre></p> <p>Response Format: <pre><code>{\n  \"status\": \"healthy\",\n  \"service\": \"My API\",\n  \"version\": \"1.0.0\"\n}\n</code></pre></p> <p>The health check endpoint is automatically registered with both FastAPI and Flask adapters.</p>"},{"location":"api/config/#environment-variables","title":"Environment Variables","text":""},{"location":"api/config/#loading-from-env-files","title":"Loading from .env Files","text":"<p>REROUTE supports automatic loading of environment variables from <code>.env</code> files:</p> <pre><code># Load from default .env file\nConfig.load_from_env()\n\n# Load from custom file\nConfig.load_from_env(\".env.production\")\n\n# DevConfig loads from .env.dev automatically\nDevConfig.load_from_env()\n\n# ProdConfig loads from .env.prod automatically\nProdConfig.load_from_env()\n</code></pre>"},{"location":"api/config/#environment-variable-format","title":"Environment Variable Format","text":"<p>All environment variables must be prefixed with <code>REROUTE_*</code>:</p> <p>.env Example: <pre><code># Server Configuration\nREROUTE_HOST=0.0.0.0\nREROUTE_PORT=8000\n\n# Framework Behavior\nREROUTE_DEBUG=True\nREROUTE_VERBOSE_LOGGING=True\nREROUTE_LOG_LEVEL=DEBUG\nREROUTE_AUTO_RELOAD=True\n\n# CORS Configuration\nREROUTE_ENABLE_CORS=True\nREROUTE_CORS_ALLOW_ORIGINS=http://localhost:3000,http://localhost:5173\n\n# API Configuration\nREROUTE_API_BASE_PATH=/api/v1\n</code></pre></p>"},{"location":"api/config/#type-conversion","title":"Type Conversion","text":"<p>Environment variables are automatically converted to the correct type:</p> <ul> <li>Boolean: <code>True</code>, <code>true</code>, <code>1</code>, <code>yes</code>, <code>on</code> \u2192 <code>True</code></li> <li>Integer: <code>\"8000\"</code> \u2192 <code>8000</code></li> <li>List: <code>\"a,b,c\"</code> \u2192 <code>[\"a\", \"b\", \"c\"]</code></li> <li>String: Used as-is</li> </ul>"},{"location":"api/config/#custom-env-files-by-environment","title":"Custom .env Files by Environment","text":"<pre><code>class DevConfig(Config):\n    class Env:\n        file = \".env.dev\"\n        auto_load = True\n        override = True  # Override system env vars\n\n    DEBUG = True\n    LOG_LEVEL = \"DEBUG\"\n\nclass ProdConfig(Config):\n    class Env:\n        file = \".env.prod\"\n        auto_load = True\n        override = False  # Don't override system env vars\n\n    DEBUG = False\n    LOG_LEVEL = \"WARNING\"\n</code></pre>"},{"location":"api/config/#requirements","title":"Requirements","text":"<p>Install <code>python-dotenv</code> for <code>.env</code> file support:</p> <pre><code>pip install python-dotenv\n</code></pre> <p>If not installed, REROUTE will only load from system environment variables.</p>"},{"location":"api/config/#protected-settings-configinternal","title":"Protected Settings (Config.Internal)","text":"<p>The following settings are framework-critical and cannot be modified:</p> Setting Value Purpose <code>ROUTES_DIR_NAME</code> <code>\"routes\"</code> Directory name for routes <code>ROUTE_FILE_NAME</code> <code>\"page.py\"</code> File name for route handlers <code>SUPPORTED_HTTP_METHODS</code> <code>[\"get\", \"post\", ...]</code> Supported HTTP methods <code>ALLOWED_ROUTE_EXTENSIONS</code> <code>[\".py\"]</code> Allowed route file extensions <code>ENABLE_PATH_VALIDATION</code> <code>True</code> Enable security path validation <code>IGNORE_FOLDERS</code> <code>[\"__pycache__\", ...]</code> Folders to ignore during route discovery <code>IGNORE_FILES</code> <code>[\"__init__.py\", ...]</code> Files to ignore during route loading <p>Attempting to override these will raise a <code>TypeError</code>:</p> <pre><code># This will FAIL with TypeError\nclass BadConfig(Config):\n    class Internal:\n        ROUTES_DIR_NAME = \"custom\"  # ERROR!\n</code></pre>"},{"location":"api/config/#predefined-configurations","title":"Predefined Configurations","text":""},{"location":"api/config/#devconfig","title":"DevConfig","text":"<p>Optimized for development: - <code>.env.dev</code> file - <code>DEBUG = True</code> - <code>LOG_LEVEL = \"DEBUG\"</code> - <code>AUTO_RELOAD = True</code> - <code>VERBOSE_LOGGING = True</code></p>"},{"location":"api/config/#prodconfig","title":"ProdConfig","text":"<p>Optimized for production: - <code>.env.prod</code> file - <code>DEBUG = False</code> - <code>LOG_LEVEL = \"WARNING\"</code> - <code>AUTO_RELOAD = False</code> - <code>VERBOSE_LOGGING = False</code> - <code>Env.override = False</code> (respects system env vars)</p>"},{"location":"api/decorators/","title":"Decorators API","text":"<p>Built-in decorators for REROUTE routes.</p>"},{"location":"api/decorators/#rate_limit","title":"rate_limit","text":"<p>Limit request rate globally or per IP address.</p> <pre><code>from reroute.decorators import rate_limit\n\n# Global rate limit\n@rate_limit(\"5/min\")\ndef post(self):\n    return {\"created\": True}\n\n# Per-IP rate limit (v0.1.6+)\n@rate_limit(\"10/hour\", per_ip=True)\ndef post(self):\n    return {\"created\": True}\n\n# Custom key function\n@rate_limit(\"100/day\", key_func=lambda self: f\"user_{self.get_user_id()}\")\ndef delete(self):\n    return {\"deleted\": True}\n</code></pre> <p>Parameters: - <code>limit</code> (str): Rate limit string (e.g., \"5/min\", \"100/hour\", \"1000/day\") - <code>key_func</code> (Callable, optional): Function to generate custom rate limit key - <code>per_ip</code> (bool, optional): Enable per-IP rate limiting (default: False). New in v0.1.6</p> <p>Returns: - <code>429 Too Many Requests</code> if rate limit exceeded</p> <p>Note: Per-IP rate limiting automatically extracts client IP from: - Flask: <code>request.remote_addr</code> or <code>X-Forwarded-For</code> header - FastAPI: <code>request.client.host</code> or <code>X-Forwarded-For</code> header</p>"},{"location":"api/decorators/#cache","title":"cache","text":"<p>Cache responses for a duration.</p> <pre><code>from reroute.decorators import cache\n\n@cache(duration=60)\ndef get(self):\n    return {\"data\": \"cached\"}\n</code></pre> <p>Parameters: - <code>duration</code> (int): Cache duration in seconds</p>"},{"location":"api/decorators/#validate","title":"validate","text":"<p>Validate request data with schema, required fields, or custom validators. Fully implemented in v0.1.6.</p> <pre><code>from reroute.decorators import validate\n\n# Schema validation (type checking)\n@validate(schema={\"name\": str, \"age\": int, \"email\": str})\ndef post(self, data):\n    return {\"created\": True}\n\n# Required fields validation\n@validate(required_fields=[\"email\", \"password\"])\ndef post(self, data):\n    return {\"token\": \"abc123\"}\n\n# Custom validator function\n@validate(validator_func=lambda data: (\n    (\"@\" in data.get(\"email\", \"\"), \"Invalid email format\")\n    if \"email\" in data else (True, None)\n))\ndef post(self, data):\n    return {\"registered\": True}\n\n# Combined validation\n@validate(\n    schema={\"name\": str, \"age\": int},\n    required_fields=[\"email\"],\n    validator_func=lambda data: (data[\"age\"] &gt;= 18, \"Must be 18+\")\n)\ndef post(self, data):\n    return {\"account_created\": True}\n</code></pre> <p>Parameters: - <code>schema</code> (Dict[str, type], optional): Type validation schema mapping field names to types - <code>required_fields</code> (List[str], optional): List of required field names - <code>validator_func</code> (Callable, optional): Custom validator returning <code>(bool, error_message)</code> or just <code>bool</code></p> <p>Returns: - <code>400 Bad Request</code> if validation fails with detailed error messages</p> <p>Note: The decorator searches for data in kwargs under common parameter names: <code>data</code>, <code>body</code>, <code>json</code>, <code>payload</code>, <code>user</code>, <code>item</code>, etc. Also supports Pydantic model extraction.</p>"},{"location":"api/decorators/#alternative-pydantic-models-recommended","title":"Alternative: Pydantic Models (Recommended)","text":"<p>For complex validation, use Pydantic models with the params system:</p> <pre><code>from reroute import RouteBase\nfrom reroute.params import Body\nfrom pydantic import BaseModel, field_validator\n\nclass UserCreate(BaseModel):\n    name: str\n    age: int\n\n    @field_validator('age')\n    def validate_age(cls, v):\n        if v &lt; 18:\n            raise ValueError('User must be 18 or older')\n        return v\n\nclass MyRoutes(RouteBase):\n    def post(self, user: UserCreate = Body()):\n        \"\"\"Request body is automatically validated\"\"\"\n        return {\"validated\": True, \"user\": user.model_dump()}\n</code></pre> <p>Advantages of Pydantic: - Automatic validation and error messages - Type hints and IDE autocomplete - OpenAPI schema generation - Advanced field validators</p> <p>See Database Examples for more validation patterns.</p>"},{"location":"api/decorators/#timeout","title":"timeout","text":"<p>Set maximum execution time for route handlers. Enhanced in v0.1.6.</p> <pre><code>from reroute.decorators import timeout\n\n# Async handler (recommended - works everywhere)\n@timeout(5)\nasync def get(self):\n    await asyncio.sleep(10)  # Will timeout after 5 seconds\n    return {\"data\": \"...\"}\n\n# Sync handler\n@timeout(30)\ndef post(self):\n    time.sleep(60)  # Will timeout after 30 seconds\n    return {\"processed\": True}\n</code></pre> <p>Parameters: - <code>seconds</code> (int): Maximum execution time in seconds</p> <p>Returns: - <code>408 Request Timeout</code> if execution exceeds limit</p> <p>Platform Behavior: - Async handlers: Uses <code>asyncio.wait_for()</code> for true timeout (all platforms) - Sync handlers on Unix/Linux/Mac: Uses <code>signal.alarm()</code> for true timeout (execution is stopped) - Sync handlers on Windows: Thread-based timeout (function continues in background)</p> <p>Recommendation</p> <p>Use async handlers for guaranteed timeout behavior across all platforms.</p>"},{"location":"api/decorators/#requires","title":"requires","text":"<p>Authentication and authorization decorator with fail-safe design. Enhanced in v0.2.0.</p> <pre><code>from reroute.decorators import requires\n\n# Role-based authorization with check function\n@requires(\"admin\", check_func=lambda self: self.user.has_role(\"admin\"))\ndef delete(self):\n    return {\"deleted\": True}\n\n# Multiple roles (OR logic) - user needs at least one\n@requires(\"admin\", \"moderator\", check_func=lambda self: self.user.has_any_role([\"admin\", \"moderator\"]))\ndef put(self):\n    return {\"updated\": True}\n\n# Authentication only (no role check)\n@requires(check_func=lambda self: self.is_authenticated())\ndef get(self):\n    return {\"data\": \"...\"}\n</code></pre> <p>Parameters: - <code>*roles</code> (str): Required roles for access - <code>check_func</code> (Callable): Authentication/authorization check function that returns <code>True</code> or <code>False</code></p> <p>Returns: - <code>401 Unauthorized</code> if authentication fails (no roles specified) - <code>403 Forbidden</code> if authorization fails (roles specified but check failed)</p> <p>check_func Required for Role Checks</p> <p>When specifying roles, you must provide a <code>check_func</code> that validates the user's roles. This ensures explicit authorization logic in your application.</p> <p>Example with Flask: <pre><code>from reroute.decorators import requires\nfrom flask import g\n\ndef is_admin(self):\n    return hasattr(g, 'user') and g.user.role == 'admin'\n\n@requires(\"admin\", check_func=is_admin)\ndef delete(self):\n    return {\"deleted\": True}\n</code></pre></p> <p>Example with FastAPI: <pre><code>from reroute.decorators import requires\n\ndef check_auth(self, request=None):\n    # Your JWT/session validation logic\n    return request and hasattr(request.state, 'user')\n\n@requires(check_func=check_auth)\ndef get(self, request):\n    return {\"user\": request.state.user}\n</code></pre></p>"},{"location":"api/decorators/#log_requests","title":"log_requests","text":"<p>Automatic request logging with customizable logger.</p> <pre><code>from reroute.decorators import log_requests\nimport logging\n\n@log_requests()\ndef get(self):\n    return {\"data\": \"...\"}\n\n# With custom logger function\n@log_requests(logger_func=logging.info)\ndef post(self):\n    return {\"created\": True}\n</code></pre> <p>Parameters: - <code>logger_func</code> (Callable, optional): Custom logging function</p>"},{"location":"api/params/","title":"Parameter Injection API","text":"<p>FastAPI-style parameter injection for automatic request data extraction and validation.</p>"},{"location":"api/params/#overview","title":"Overview","text":"<p>REROUTE provides automatic parameter injection similar to FastAPI, allowing you to declare parameters in your route methods and have them automatically extracted, validated, and type-converted from HTTP requests.</p>"},{"location":"api/params/#available-parameters","title":"Available Parameters","text":"Parameter Source Example <code>Query</code> URL query string <code>?limit=10&amp;offset=0</code> <code>Path</code> URL path segments <code>/users/{id}</code> <code>Header</code> HTTP headers <code>Authorization: Bearer token</code> <code>Body</code> JSON request body Pydantic models <code>Cookie</code> HTTP cookies Session cookies <code>Form</code> Form data HTML forms <code>File</code> File uploads Multipart form data"},{"location":"api/params/#import","title":"Import","text":"<pre><code>from reroute.params import Query, Path, Header, Body, Cookie, Form, File\n</code></pre>"},{"location":"api/params/#query-parameters","title":"Query Parameters","text":"<p>Extract data from URL query strings with automatic validation.</p>"},{"location":"api/params/#basic-usage","title":"Basic Usage","text":"<pre><code>from reroute import RouteBase\nfrom reroute.params import Query\n\nclass UsersRoutes(RouteBase):\n    def get(self,\n            limit: int = Query(10, description=\"Maximum results\"),\n            offset: int = Query(0, description=\"Skip results\"),\n            search: str = Query(None, description=\"Search term\")):\n        return {\n            \"limit\": limit,\n            \"offset\": offset,\n            \"search\": search\n        }\n</code></pre> <p>Request: <code>GET /users?limit=20&amp;offset=5&amp;search=john</code></p> <p>Result: <code>{\"limit\": 20, \"offset\": 5, \"search\": \"john\"}</code></p>"},{"location":"api/params/#validation","title":"Validation","text":"<pre><code>def get(self,\n        limit: int = Query(10, ge=1, le=100),  # Between 1 and 100\n        age: int = Query(..., gt=0),  # Greater than 0\n        name: str = Query(..., min_length=3, max_length=50)):  # Length constraints\n    pass\n</code></pre>"},{"location":"api/params/#available-constraints","title":"Available Constraints","text":"Constraint Type Description <code>ge</code> Numeric Greater than or equal <code>gt</code> Numeric Greater than <code>le</code> Numeric Less than or equal <code>lt</code> Numeric Less than <code>min_length</code> String Minimum string length <code>max_length</code> String Maximum string length <code>regex</code> String Regex pattern matching"},{"location":"api/params/#path-parameters","title":"Path Parameters","text":"<p>Extract dynamic segments from URL paths.</p> <pre><code>from reroute.params import Path\n\nclass UserDetailRoutes(RouteBase):\n    def get(self, id: int = Path(..., description=\"User ID\", gt=0)):\n        return {\"user_id\": id}\n</code></pre> <p>Request: <code>GET /users/123</code></p> <p>Result: <code>{\"user_id\": 123}</code></p>"},{"location":"api/params/#header-parameters","title":"Header Parameters","text":"<p>Extract HTTP headers (case-insensitive).</p> <pre><code>from reroute.params import Header\n\nclass SecureRoutes(RouteBase):\n    def post(self,\n             authorization: str = Header(..., description=\"Bearer token\"),\n             user_agent: str = Header(None, description=\"User agent\")):\n        if not authorization.startswith(\"Bearer \"):\n            return {\"error\": \"Invalid auth header\"}\n        return {\"authenticated\": True}\n</code></pre> <p>Request: <pre><code>POST /api/data\nAuthorization: Bearer abc123\nUser-Agent: Mozilla/5.0\n</code></pre></p> <p>Result: Headers automatically extracted and validated</p>"},{"location":"api/params/#body-parameters","title":"Body Parameters","text":"<p>Extract and validate JSON request bodies with Pydantic models.</p>"},{"location":"api/params/#with-pydantic-models","title":"With Pydantic Models","text":"<pre><code>from reroute.params import Body\nfrom pydantic import BaseModel, EmailStr\n\nclass UserCreate(BaseModel):\n    name: str\n    email: EmailStr\n    age: int\n\nclass UsersRoutes(RouteBase):\n    def post(self, user: UserCreate = Body(..., description=\"User data\")):\n        return {\n            \"message\": \"User created\",\n            \"user\": user.model_dump()\n        }\n</code></pre> <p>Request: <pre><code>POST /users\nContent-Type: application/json\n\n{\n  \"name\": \"John Doe\",\n  \"email\": \"john@example.com\",\n  \"age\": 30\n}\n</code></pre></p> <p>Result: Automatic validation and type conversion using Pydantic</p>"},{"location":"api/params/#without-models","title":"Without Models","text":"<pre><code>def post(self, data: dict = Body(...)):\n    return {\"received\": data}\n</code></pre>"},{"location":"api/params/#cookie-parameters","title":"Cookie Parameters","text":"<p>Extract cookie values.</p> <pre><code>from reroute.params import Cookie\n\nclass SessionRoutes(RouteBase):\n    def get(self, session_id: str = Cookie(None, description=\"Session ID\")):\n        if not session_id:\n            return {\"error\": \"No session\"}\n        return {\"session_id\": session_id}\n</code></pre>"},{"location":"api/params/#form-parameters","title":"Form Parameters","text":"<p>Handle HTML form data.</p> <pre><code>from reroute.params import Form\n\nclass FormRoutes(RouteBase):\n    def post(self,\n             username: str = Form(...),\n             password: str = Form(...)):\n        return {\"username\": username}\n</code></pre>"},{"location":"api/params/#file-parameters","title":"File Parameters","text":"<p>Handle file uploads.</p> <p>Framework-Specific</p> <p>File handling differs between frameworks:</p> <ul> <li>FastAPI: Use <code>UploadFile</code> type for streaming large files</li> <li>Flask: Access files via <code>request.files</code></li> </ul>"},{"location":"api/params/#fastapi-example","title":"FastAPI Example","text":"<pre><code>from fastapi import UploadFile\nfrom reroute.params import File\n\nclass UploadRoutes(RouteBase):\n    async def post(self, file: UploadFile = File(..., description=\"Upload file\")):\n        contents = await file.read()\n        return {\n            \"filename\": file.filename,\n            \"size\": len(contents),\n            \"content_type\": file.content_type\n        }\n</code></pre>"},{"location":"api/params/#flask-example","title":"Flask Example","text":"<pre><code>from flask import request\nfrom reroute import RouteBase\n\nclass UploadRoutes(RouteBase):\n    def post(self):\n        file = request.files.get('file')\n        if not file:\n            return {\"error\": \"No file uploaded\"}, 400\n        return {\n            \"filename\": file.filename,\n            \"size\": len(file.read())\n        }\n</code></pre>"},{"location":"api/params/#required-vs-optional","title":"Required vs Optional","text":""},{"location":"api/params/#required-parameters","title":"Required Parameters","text":"<p>Use <code>...</code> (Ellipsis) for required parameters:</p> <pre><code>name: str = Query(...)  # Required\nid: int = Path(...)  # Required\n</code></pre> <p>Missing required parameters will return a validation error.</p>"},{"location":"api/params/#optional-parameters","title":"Optional Parameters","text":"<p>Use <code>None</code> or a default value:</p> <pre><code>search: str = Query(None)  # Optional, defaults to None\nlimit: int = Query(10)  # Optional, defaults to 10\n</code></pre>"},{"location":"api/params/#combining-parameters","title":"Combining Parameters","text":"<p>You can mix multiple parameter types in a single handler:</p> <pre><code>from reroute.params import Query, Path, Header, Body\nfrom app.models.user import UserCreate\n\nclass UserDetailRoutes(RouteBase):\n    def put(self,\n            id: int = Path(..., description=\"User ID\"),\n            user: UserCreate = Body(..., description=\"User data\"),\n            authorization: str = Header(..., description=\"Auth token\"),\n            force: bool = Query(False, description=\"Force update\")):\n\n        # All parameters automatically extracted and validated\n        return {\n            \"id\": id,\n            \"user\": user.model_dump(),\n            \"force\": force\n        }\n</code></pre> <p>Request: <pre><code>PUT /users/123?force=true\nAuthorization: Bearer token123\nContent-Type: application/json\n\n{\n  \"name\": \"Updated Name\",\n  \"email\": \"new@example.com\",\n  \"age\": 31\n}\n</code></pre></p>"},{"location":"api/params/#type-conversion","title":"Type Conversion","text":"<p>Parameters are automatically converted to their annotated types:</p> <pre><code>limit: int = Query(10)  # \"20\" \u2192 20\nis_active: bool = Query(False)  # \"true\" \u2192 True\ntags: List[str] = Query([])  # \"a,b,c\" \u2192 [\"a\", \"b\", \"c\"]\n</code></pre>"},{"location":"api/params/#validation-errors","title":"Validation Errors","text":"<p>When validation fails, REROUTE returns a detailed error response:</p> <pre><code>{\n  \"error\": \"Required query parameter 'id' is missing\",\n  \"type\": \"ValueError\"\n}\n</code></pre>"},{"location":"api/params/#best-practices","title":"Best Practices","text":"<ol> <li> <p>Use Pydantic models for complex body data <pre><code>user: UserCreate = Body(...)  # Better than dict\n</code></pre></p> </li> <li> <p>Add descriptions for API documentation <pre><code>limit: int = Query(10, description=\"Maximum number of results\")\n</code></pre></p> </li> <li> <p>Validate inputs with constraints <pre><code>age: int = Query(..., ge=0, le=150)\n</code></pre></p> </li> <li> <p>Use type hints <pre><code>name: str = Query(...)  # Type hint helps with IDE autocomplete\n</code></pre></p> </li> <li> <p>Combine with Pydantic for complex validation <pre><code>from pydantic import BaseModel, EmailStr, field_validator\n\nclass UserCreate(BaseModel):\n    email: EmailStr\n    age: int\n\n    @field_validator('age')\n    @classmethod\n    def validate_age(cls, v):\n        if v &lt; 18:\n            raise ValueError('Must be 18 or older')\n        return v\n</code></pre></p> </li> </ol>"},{"location":"api/params/#see-also","title":"See Also","text":"<ul> <li>Pydantic Documentation</li> <li>RouteBase API</li> <li>Configuration</li> </ul>"},{"location":"api/routebase/","title":"RouteBase API","text":"<p>Base class for all REROUTE routes.</p>"},{"location":"api/routebase/#class-definition","title":"Class Definition","text":"<pre><code>from reroute import RouteBase\n\nclass MyRoutes(RouteBase):\n    pass\n</code></pre>"},{"location":"api/routebase/#class-attributes","title":"Class Attributes","text":""},{"location":"api/routebase/#tag","title":"tag","text":"<p>Optional Swagger/OpenAPI tag for grouping routes.</p> <pre><code>class UserRoutes(RouteBase):\n    tag = \"User Management\"\n</code></pre>"},{"location":"api/routebase/#http-methods","title":"HTTP Methods","text":""},{"location":"api/routebase/#get","title":"get()","text":"<p>Handle GET requests.</p> <pre><code>def get(self):\n    return {\"data\": \"...\"}\n</code></pre>"},{"location":"api/routebase/#post","title":"post()","text":"<p>Handle POST requests.</p> <pre><code>def post(self):\n    return {\"created\": True}\n</code></pre>"},{"location":"api/routebase/#put","title":"put()","text":"<p>Handle PUT requests.</p> <pre><code>def put(self):\n    return {\"updated\": True}\n</code></pre>"},{"location":"api/routebase/#delete","title":"delete()","text":"<p>Handle DELETE requests.</p> <pre><code>def delete(self):\n    return {\"deleted\": True}\n</code></pre>"},{"location":"api/routebase/#patch","title":"patch()","text":"<p>Handle PATCH requests.</p> <pre><code>def patch(self):\n    return {\"patched\": True}\n</code></pre>"},{"location":"api/routebase/#lifecycle-methods","title":"Lifecycle Methods","text":""},{"location":"api/routebase/#before_request","title":"before_request()","text":"<p>Called before every request.</p> <pre><code>def before_request(self):\n    # Authentication, logging\n    return None  # Continue to handler\n</code></pre>"},{"location":"api/routebase/#after_requestresponse","title":"after_request(response)","text":"<p>Called after successful request.</p> <pre><code>def after_request(self, response):\n    response[\"timestamp\"] = \"...\"\n    return response\n</code></pre>"},{"location":"api/routebase/#on_errorerror","title":"on_error(error)","text":"<p>Called when an error occurs.</p> <pre><code>def on_error(self, error: Exception):\n    return {\"error\": str(error)}\n</code></pre>"},{"location":"cli/","title":"CLI","text":"<p>REROUTE includes a command-line interface for scaffolding and managing your file-based routes.</p>"},{"location":"cli/#installation","title":"Installation","text":"<p>The CLI is installed automatically with REROUTE:</p> <pre><code>pip install reroute\n</code></pre> <p>Verify installation:</p> <pre><code>reroute --version\n</code></pre>"},{"location":"cli/#quick-start","title":"Quick Start","text":""},{"location":"cli/#create-a-new-project","title":"Create a New Project","text":"<pre><code>reroute init my-project --framework fastapi\ncd my-project\n</code></pre>"},{"location":"cli/#create-a-route","title":"Create a Route","text":"<pre><code>reroute create route --path /user --name User\n</code></pre> <p>This creates <code>app/routes/user/page.py</code> with boilerplate code.</p>"},{"location":"cli/#create-a-nested-route","title":"Create a Nested Route","text":"<pre><code>reroute create route --path /user/profile --name UserProfile\n</code></pre> <p>Creates <code>app/routes/user/profile/page.py</code>.</p>"},{"location":"cli/#available-commands","title":"Available Commands","text":"<ul> <li> <p> init</p> <p>Create a new REROUTE project with FastAPI/Flask</p> </li> <li> <p> create route</p> <p>Generate a new route file with HTTP methods</p> </li> <li> <p> create crud</p> <p>Generate full CRUD operations (Create, Read, Update, Delete)</p> </li> <li> <p> create model</p> <p>Generate Pydantic models for data validation</p> </li> </ul>"},{"location":"cli/#cli-options","title":"CLI Options","text":"<p>Global options:</p> <ul> <li><code>-V, --version</code> - Show REROUTE version and exit</li> <li><code>--help</code> - Show help message and exit</li> </ul> <p>All commands also support <code>--help</code> to show command-specific help.</p>"},{"location":"cli/#examples","title":"Examples","text":""},{"location":"cli/#initialize-with-fastapi","title":"Initialize with FastAPI","text":"<pre><code>reroute init my-api --framework fastapi\n</code></pre>"},{"location":"cli/#initialize-with-flask","title":"Initialize with Flask","text":"<pre><code>reroute init my-app --framework flask\n</code></pre>"},{"location":"cli/#create-multiple-routes","title":"Create Multiple Routes","text":"<pre><code>reroute create route --path /user --name User\nreroute create route --path /product --name Product\nreroute create route --path /order --name Order\n</code></pre>"},{"location":"cli/#create-with-custom-methods","title":"Create with Custom Methods","text":"<pre><code>reroute create route --path /user --name User --methods GET,POST,PUT,DELETE\n</code></pre>"},{"location":"cli/#interactive-mode","title":"Interactive Mode","text":"<p>The CLI features an interactive mode with auto-completion:</p> <pre><code>reroute\n</code></pre> <p>Navigate through options with arrow keys and select with Enter.</p>"},{"location":"cli/#configuration","title":"Configuration","text":"<p>CLI behavior can be customized via <code>.rerouterc</code> file:</p> <pre><code>{\n  \"default_framework\": \"fastapi\",\n  \"routes_dir\": \"app/routes\",\n  \"template_style\": \"minimal\"\n}\n</code></pre>"},{"location":"cli/#troubleshooting","title":"Troubleshooting","text":""},{"location":"cli/#problem-1-command-not-found-reroute","title":"Problem 1: Command not found: reroute","text":"<p>Error: <pre><code>bash: reroute: command not found\n</code></pre></p> <p>Solutions: 1. Install REROUTE: <code>pip install reroute</code> 2. Ensure pip bin directory is in PATH:    <pre><code>export PATH=\"$HOME/.local/bin:$PATH\"  # Linux/Mac\n</code></pre> 3. Use python module syntax: <code>python -m reroute --version</code></p>"},{"location":"cli/#problem-2-invalid-value-for-path-path-cannot-contain-invalid-character","title":"Problem 2: Invalid value for '--path': Path cannot contain invalid character","text":"<p>Error: <pre><code>Error: Invalid value for '--path': Path cannot contain invalid character: :\n</code></pre></p> <p>Cause: Trying to use <code>:id</code> syntax in path (not supported on Windows)</p> <p>Solution: Use query parameters instead of path parameters in folder names: <pre><code># Wrong:\nreroute create route --path /users/:id\n\n# Correct:\nreroute create route --path /users --name Users\n# Then use query parameter: user_id: int = Query(...)\n</code></pre></p>"},{"location":"cli/#problem-3-not-in-a-reroute-project-directory","title":"Problem 3: Not in a REROUTE project directory","text":"<p>Error: <pre><code>[ERROR] Not in a REROUTE project directory!\nRun 'reroute init' first to create a project.\n</code></pre></p> <p>Solution: 1. Initialize a project first: <code>reroute init my-api</code> 2. Navigate into the project: <code>cd my-api</code> 3. Then run other commands: <code>reroute create route --path /users --name Users</code></p>"},{"location":"cli/#problem-4-class-already-exists-error","title":"Problem 4: Class already exists error","text":"<p>Error: <pre><code>[ERROR] Class 'Users' already exists in app/routes/users/page.py!\n</code></pre></p> <p>Cause: Trying to create a route with a class name that already exists</p> <p>Solutions: 1. Use a different name: <code>reroute create route --path /users --name UserRoutes</code> 2. Delete the existing route file first 3. Use <code>--methods</code> to add methods to existing route</p>"},{"location":"cli/#problem-5-generated-code-has-incorrect-imports","title":"Problem 5: Generated code has incorrect imports","text":"<p>Symptom: Generated code imports from <code>fastapi</code> instead of <code>reroute.params</code></p> <p>Solution: Update REROUTE to the latest version: <pre><code>pip install --upgrade reroute\n</code></pre></p> <p>Templates were fixed in v0.1.4 to use cross-framework imports.</p>"},{"location":"cli/#learn-more","title":"Learn More","text":"<ul> <li>Command Reference - Detailed command documentation</li> <li>Scaffolding - Project structure and templates</li> </ul>"},{"location":"cli/commands/","title":"CLI Commands","text":"<p>Complete reference for REROUTE CLI commands.</p>"},{"location":"cli/commands/#init","title":"init","text":"<p>Create a new REROUTE project.</p> <pre><code>reroute init [project-name] [OPTIONS]\n</code></pre>"},{"location":"cli/commands/#options","title":"Options","text":"<ul> <li><code>--framework</code> - Framework to use (fastapi, flask)</li> <li><code>--config</code> - Configuration type (dev, prod)</li> <li><code>--host</code> - Server host (default: 0.0.0.0)</li> <li><code>--port</code> - Server port (default: 7376)</li> <li><code>--description</code> - Project description</li> </ul>"},{"location":"cli/commands/#example","title":"Example","text":"<pre><code>reroute init my-api --framework fastapi --config dev\n</code></pre> <p>Interactive mode (no arguments): <pre><code>reroute init\n</code></pre></p>"},{"location":"cli/commands/#generate-create","title":"generate / create","text":"<p>REROUTE provides two command groups for code generation: - <code>reroute generate &lt;type&gt;</code> - Original command - <code>reroute create &lt;type&gt;</code> - Alias (more intuitive)</p> <p>Both work identically. Use whichever you prefer.</p>"},{"location":"cli/commands/#generate-route-create-route","title":"generate route / create route","text":"<p>Generate a new route file.</p> <pre><code>reroute generate route [OPTIONS]\nreroute create route [OPTIONS]\n</code></pre>"},{"location":"cli/commands/#options_1","title":"Options","text":"<ul> <li><code>--path</code> - Route path (e.g., /users or /api/posts)</li> <li><code>--name</code> - Route name (e.g., Users or Posts)</li> <li><code>--methods</code> - HTTP methods (comma-separated, default: GET,POST,PUT,DELETE)</li> <li><code>--http-test</code> - Generate HTTP test file</li> </ul>"},{"location":"cli/commands/#examples","title":"Examples","text":"<pre><code># Interactive mode\nreroute create route\n\n# With options\nreroute create route --path /users --name Users\n\n# Nested route\nreroute create route --path /api/v1/users --name Users\n\n# With specific methods\nreroute create route --path /users --name Users --methods GET,POST\n\n# With HTTP test file\nreroute create route --path /users --name Users --http-test\n</code></pre>"},{"location":"cli/commands/#generate-crud-create-crud","title":"generate crud / create crud","text":"<p>Generate a full CRUD route with Create, Read, Update, Delete operations.</p> <pre><code>reroute generate crud [OPTIONS]\nreroute create crud [OPTIONS]\n</code></pre>"},{"location":"cli/commands/#options_2","title":"Options","text":"<ul> <li><code>--path</code> - Route path (e.g., /users or /api/posts)</li> <li><code>--name</code> - Resource name (singular, e.g., User or Post)</li> <li><code>--http-test</code> - Generate HTTP test file</li> </ul>"},{"location":"cli/commands/#examples_1","title":"Examples","text":"<pre><code># Interactive mode\nreroute create crud\n\n# With options\nreroute create crud --path /users --name User\n\n# With HTTP test file\nreroute create crud --path /users --name User --http-test\n</code></pre>"},{"location":"cli/commands/#generated-crud-operations","title":"Generated CRUD Operations","text":"<p>The CRUD command generates a route with these operations:</p> Method Endpoint Operation GET <code>/users</code> List all users POST <code>/users</code> Create new user GET <code>/users/:id</code> Get user by ID PUT <code>/users/:id</code> Update user DELETE <code>/users/:id</code> Delete user"},{"location":"cli/commands/#generate-model-create-model","title":"generate model / create model","text":"<p>Generate Pydantic models for data validation.</p> <pre><code>reroute generate model [OPTIONS]\nreroute create model [OPTIONS]\n</code></pre>"},{"location":"cli/commands/#options_3","title":"Options","text":"<ul> <li><code>--name</code> - Model name (singular, e.g., User or Post)</li> </ul>"},{"location":"cli/commands/#examples_2","title":"Examples","text":"<pre><code># Interactive mode\nreroute create model\n\n# With name\nreroute create model --name User\nreroute generate model --name Post\n</code></pre>"},{"location":"cli/commands/#generated-model-schemas","title":"Generated Model Schemas","text":"<p>Creates 5 Pydantic model schemas in <code>app/models/&lt;name&gt;.py</code>:</p> Schema Purpose Usage <code>ModelBase</code> Base schema with common fields Shared fields <code>ModelCreate</code> For POST requests Creating resources <code>ModelUpdate</code> For PUT/PATCH requests Updating (all fields optional) <code>ModelInDB</code> Database representation With id, timestamps <code>ModelResponse</code> API response schema GET requests"},{"location":"cli/commands/#example-output","title":"Example Output","text":"<pre><code>$ reroute create model --name User\n\n[OK] Model created: D:\\project\\app\\models\\user.py\n     Model: User\n     Schemas: UserBase, UserCreate, UserUpdate, UserInDB, UserResponse\n\n[NOTE] Generated with default fields: name, description, is_active\n[TIP] Customize the fields in the generated file to match your requirements.\n\n[TIP] Import with: from app.models.user import UserCreate, UserResponse\n</code></pre>"},{"location":"cli/commands/#using-generated-models","title":"Using Generated Models","text":"<pre><code>from app.models.user import UserCreate, UserResponse\nfrom reroute import RouteBase\nfrom reroute.params import Body\n\nclass UsersRoutes(RouteBase):\n    def post(self, user: UserCreate = Body(...)):\n        # Automatic validation with Pydantic\n        return {\"user\": user.model_dump()}\n</code></pre>"},{"location":"cli/commands/#db","title":"db","text":"<p>Database management commands for migrations and versioning.</p> <pre><code>reroute db [COMMAND]\n</code></pre>"},{"location":"cli/commands/#available-commands","title":"Available Commands","text":"Command Description <code>init</code> Initialize database migrations <code>migrate</code> Create a new migration <code>upgrade</code> Apply all pending migrations <code>downgrade</code> Rollback migrations <code>current</code> Show current migration version <code>history</code> Show migration history"},{"location":"cli/commands/#examples_3","title":"Examples","text":"<pre><code># Initialize database\nreroute db init\n\n# Create a migration\nreroute db migrate \"Add users table\"\n\n# Apply migrations\nreroute db upgrade\n\n# Check current version\nreroute db current\n\n# View migration history\nreroute db history\n\n# Rollback last migration\nreroute db downgrade\n</code></pre>"},{"location":"cli/commands/#version","title":"version","text":"<p>Show REROUTE version.</p> <pre><code>reroute --version\n</code></pre>"},{"location":"cli/commands/#help","title":"help","text":"<p>Show help for commands.</p> <pre><code>reroute --help\nreroute &lt;command&gt; --help\n</code></pre>"},{"location":"cli/scaffolding/","title":"Scaffolding","text":"<p>Learn about REROUTE's project structure and templates.</p>"},{"location":"cli/scaffolding/#project-structure","title":"Project Structure","text":"<p>When you run <code>reroute init</code>, you get:</p> <pre><code>my-project/\n\u251c\u2500\u2500 app/\n\u2502   \u2514\u2500\u2500 routes/\n\u2502       \u2514\u2500\u2500 hello/\n\u2502           \u2514\u2500\u2500 page.py\n\u251c\u2500\u2500 main.py\n\u251c\u2500\u2500 requirements.txt\n\u2514\u2500\u2500 .gitignore\n</code></pre>"},{"location":"cli/scaffolding/#route-templates","title":"Route Templates","text":""},{"location":"cli/scaffolding/#basic-template","title":"Basic Template","text":"<pre><code>from reroute import RouteBase\n\nclass HelloRoutes(RouteBase):\n    def get(self):\n        return {\"message\": \"Hello\"}\n</code></pre>"},{"location":"cli/scaffolding/#full-template","title":"Full Template","text":"<pre><code>from reroute import RouteBase\nfrom reroute.decorators import rate_limit, cache\n\nclass FullRoutes(RouteBase):\n    tag = \"Custom Tag\"\n\n    def __init__(self):\n        super().__init__()\n        # Initialize state\n\n    def before_request(self):\n        # Pre-processing\n        return None\n\n    @cache(duration=60)\n    def get(self):\n        return {\"data\": \"...\"}\n\n    @rate_limit(\"5/min\")\n    def post(self):\n        return {\"created\": True}\n\n    def after_request(self, response):\n        # Post-processing\n        return response\n\n    def on_error(self, error):\n        return {\"error\": str(error)}\n</code></pre>"},{"location":"cli/scaffolding/#template-customization","title":"Template Customization","text":"<p>Templates are located in the REROUTE package installation:</p> <pre><code>&lt;python-site-packages&gt;/reroute/cli/templates/\n\u251c\u2500\u2500 class_route.py.j2      # Basic route template\n\u251c\u2500\u2500 crud_route.py.j2       # CRUD operations template\n\u251c\u2500\u2500 model.py.j2            # Pydantic model template\n\u251c\u2500\u2500 fastapi_app.py.j2      # Main FastAPI app\n\u251c\u2500\u2500 config.py.j2           # Configuration file\n\u251c\u2500\u2500 logger.py.j2           # Logger setup\n\u251c\u2500\u2500 test_fastapi.py.j2     # Test template\n\u251c\u2500\u2500 route.http.j2          # HTTP test file\n\u2514\u2500\u2500 crud.http.j2           # CRUD HTTP tests\n</code></pre>"},{"location":"cli/scaffolding/#customizing-templates","title":"Customizing Templates","text":"<p>To customize templates:</p> <ol> <li> <p>Locate your Python installation: <pre><code>python -c \"import reroute; print(reroute.__file__)\"\n</code></pre></p> </li> <li> <p>Navigate to templates: <pre><code>cd &lt;path-to-site-packages&gt;/reroute/cli/templates/\n</code></pre></p> </li> <li> <p>Edit <code>.j2</code> files (Jinja2 templates)</p> </li> </ol> <p>Template Customization Warning</p> <p>Only modify templates if you understand Jinja2 and the template variables!</p> <ul> <li>Templates use Jinja2 syntax with variables like <code>{{ route_name }}</code>, <code>{{ class_name }}</code>, etc.</li> <li>Incorrect modifications can corrupt the library and cause errors in code generation</li> <li>Changes affect ALL projects using this REROUTE installation</li> <li>If you're not familiar with Jinja2 templating, it's safer to:<ol> <li>Generate files with default templates</li> <li>Manually edit the generated files after creation</li> </ol> </li> </ul> <p>Required Knowledge: - Jinja2 template syntax - Template variables used by REROUTE CLI - Python code structure and imports</p> <p>Breaking changes can cause: - Invalid Python code generation - Import errors - Missing required variables - Syntax errors in generated files</p> <p>Alternative: For project-specific customization, manually edit generated files after creation instead of modifying templates.</p>"},{"location":"deployment/","title":"Deployment","text":"<p>Deploy your REROUTE applications to production.</p>"},{"location":"deployment/#deployment-options","title":"Deployment Options","text":"<ul> <li> <p> Production Setup</p> <p>Best practices for production deployment</p> </li> <li> <p> Docker</p> <p>Containerize your REROUTE app</p> </li> </ul>"},{"location":"deployment/#quick-start","title":"Quick Start","text":""},{"location":"deployment/#production-checklist","title":"Production Checklist","text":"<ul> <li>[ ] Set <code>DEBUG = False</code> in configuration</li> <li>[ ] Configure proper CORS origins</li> <li>[ ] Set up rate limiting</li> <li>[ ] Enable logging</li> <li>[ ] Use HTTPS</li> <li>[ ] Set secure headers</li> <li>[ ] Configure environment variables</li> <li>[ ] Set up monitoring</li> </ul>"},{"location":"deployment/#environment-variables","title":"Environment Variables","text":"<pre><code># .env\nREROUTE_PORT=8000\nREROUTE_HOST=0.0.0.0\nREROUTE_DEBUG=False\nREROUTE_CORS_ORIGINS=https://yourdomain.com\n</code></pre>"},{"location":"deployment/#production-configuration","title":"Production Configuration","text":"<pre><code>from reroute import Config\n\nclass ProductionConfig(Config):\n    DEBUG = False\n    PORT = 8000\n    HOST = \"0.0.0.0\"\n    ENABLE_CORS = True\n    CORS_ALLOW_ORIGINS = [\"https://yourdomain.com\"]\n    VERBOSE_LOGGING = True\n</code></pre>"},{"location":"deployment/#deployment-platforms","title":"Deployment Platforms","text":""},{"location":"deployment/#using-uvicorn-fastapi","title":"Using Uvicorn (FastAPI)","text":"<pre><code>uvicorn main:app --host 0.0.0.0 --port 8000 --workers 4\n</code></pre>"},{"location":"deployment/#using-gunicorn-flask","title":"Using Gunicorn (Flask)","text":"<pre><code>gunicorn -w 4 -b 0.0.0.0:8000 app:app\n</code></pre>"},{"location":"deployment/#docker","title":"Docker","text":"<pre><code>FROM python:3.11-slim\n\nWORKDIR /app\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\nCOPY . .\nCMD [\"uvicorn\", \"main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n</code></pre>"},{"location":"deployment/#cloud-platforms","title":"Cloud Platforms","text":"<p>REROUTE works with all major cloud platforms:</p> <ul> <li>AWS - Elastic Beanstalk, ECS, Lambda</li> <li>Google Cloud - Cloud Run, App Engine</li> <li>Azure - App Service, Container Instances</li> <li>Heroku - Direct deployment</li> <li>DigitalOcean - App Platform</li> <li>Railway - One-click deployment</li> <li>Render - Automatic deployments</li> </ul>"},{"location":"deployment/#learn-more","title":"Learn More","text":"<ul> <li>Production Guide - Detailed production setup</li> <li>Docker Guide - Containerization and orchestration</li> </ul>"},{"location":"deployment/docker/","title":"Docker Deployment","text":"<p>Containerize your REROUTE application.</p>"},{"location":"deployment/docker/#dockerfile","title":"Dockerfile","text":"<pre><code>FROM python:3.11-slim\n\nWORKDIR /app\n\n# Install dependencies\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy application\nCOPY . .\n\n# Expose port\nEXPOSE 8000\n\n# Run application\nCMD [\"uvicorn\", \"main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n</code></pre>"},{"location":"deployment/docker/#requirements","title":"Requirements","text":"<p><code>requirements.txt</code>: <pre><code>reroute[fastapi]\nuvicorn[standard]\npython-dotenv\n</code></pre></p>"},{"location":"deployment/docker/#build-and-run","title":"Build and Run","text":"<pre><code># Build image\ndocker build -t reroute-app .\n\n# Run container\ndocker run -p 8000:8000 reroute-app\n</code></pre>"},{"location":"deployment/docker/#docker-compose","title":"Docker Compose","text":"<p><code>docker-compose.yml</code>: <pre><code>version: '3.8'\n\nservices:\n  app:\n    build: .\n    ports:\n      - \"8000:8000\"\n    environment:\n      - REROUTE_PORT=8000\n      - REROUTE_DEBUG=False\n    volumes:\n      - ./app:/app/app\n    restart: unless-stopped\n\n  nginx:\n    image: nginx:alpine\n    ports:\n      - \"80:80\"\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf\n    depends_on:\n      - app\n    restart: unless-stopped\n</code></pre></p>"},{"location":"deployment/docker/#multi-stage-build","title":"Multi-stage Build","text":"<pre><code># Build stage\nFROM python:3.11-slim as builder\n\nWORKDIR /app\nCOPY requirements.txt .\nRUN pip install --user --no-cache-dir -r requirements.txt\n\n# Runtime stage\nFROM python:3.11-slim\n\nWORKDIR /app\nCOPY --from=builder /root/.local /root/.local\nCOPY . .\n\nENV PATH=/root/.local/bin:$PATH\n\nEXPOSE 8000\nCMD [\"uvicorn\", \"main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n</code></pre>"},{"location":"deployment/docker/#docker-commands","title":"Docker Commands","text":"<pre><code># Build\ndocker-compose build\n\n# Run\ndocker-compose up -d\n\n# View logs\ndocker-compose logs -f\n\n# Stop\ndocker-compose down\n</code></pre>"},{"location":"deployment/docker/#production-tips","title":"Production Tips","text":"<ul> <li>Use multi-stage builds</li> <li>Run as non-root user</li> <li>Use .dockerignore</li> <li>Pin dependency versions</li> <li>Enable health checks</li> <li>Set resource limits</li> </ul>"},{"location":"deployment/docker/#dockerignore","title":".dockerignore","text":"<pre><code>__pycache__\n*.pyc\n*.pyo\n*.pyd\n.Python\n.venv\nvenv/\n.git\n.gitignore\n.pytest_cache\n.coverage\n*.log\n</code></pre>"},{"location":"deployment/docker/#health-check","title":"Health Check","text":"<p>Add to Dockerfile: <pre><code>HEALTHCHECK --interval=30s --timeout=3s \\\n  CMD curl -f http://localhost:8000/health || exit 1\n</code></pre></p>"},{"location":"deployment/production/","title":"Production Deployment","text":"<p>Deploy REROUTE applications to production.</p>"},{"location":"deployment/production/#production-configuration","title":"Production Configuration","text":"<pre><code>from reroute import Config\n\nclass ProductionConfig(Config):\n    DEBUG = False\n    PORT = 8000\n    HOST = \"0.0.0.0\"\n\n    # CORS\n    ENABLE_CORS = True\n    CORS_ALLOW_ORIGINS = [\"https://yourdomain.com\"]\n\n    # Logging\n    VERBOSE_LOGGING = True\n    LOG_LEVEL = \"WARNING\"\n</code></pre>"},{"location":"deployment/production/#environment-variables","title":"Environment Variables","text":"<p><code>.env</code>: <pre><code>REROUTE_PORT=8000\nREROUTE_HOST=0.0.0.0\nREROUTE_DEBUG=False\nREROUTE_CORS_ORIGINS=https://yourdomain.com\n</code></pre></p> <p>Load in your app: <pre><code>from dotenv import load_dotenv\nload_dotenv()\n</code></pre></p>"},{"location":"deployment/production/#using-uvicorn-fastapi","title":"Using Uvicorn (FastAPI)","text":"<pre><code># Production server\nuvicorn main:app \\\n    --host 0.0.0.0 \\\n    --port 8000 \\\n    --workers 4 \\\n    --no-access-log\n</code></pre>"},{"location":"deployment/production/#using-gunicorn","title":"Using Gunicorn","text":"<pre><code># With Uvicorn workers\ngunicorn main:app \\\n    -w 4 \\\n    -k uvicorn.workers.UvicornWorker \\\n    -b 0.0.0.0:8000\n</code></pre>"},{"location":"deployment/production/#nginx-configuration","title":"Nginx Configuration","text":"<pre><code>server {\n    listen 80;\n    server_name yourdomain.com;\n\n    location / {\n        proxy_pass http://127.0.0.1:8000;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n    }\n}\n</code></pre>"},{"location":"deployment/production/#systemd-service","title":"Systemd Service","text":"<p><code>/etc/systemd/system/reroute-app.service</code>: <pre><code>[Unit]\nDescription=REROUTE Application\nAfter=network.target\n\n[Service]\nUser=www-data\nWorkingDirectory=/var/www/app\nExecStart=/usr/bin/uvicorn main:app --host 0.0.0.0 --port 8000\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n</code></pre></p> <p>Enable and start: <pre><code>sudo systemctl enable reroute-app\nsudo systemctl start reroute-app\n</code></pre></p>"},{"location":"deployment/production/#security-checklist","title":"Security Checklist","text":"<ul> <li>[ ] Set DEBUG = False</li> <li>[ ] Use HTTPS</li> <li>[ ] Configure proper CORS origins</li> <li>[ ] Set rate limiting</li> <li>[ ] Enable logging</li> <li>[ ] Use environment variables for secrets</li> <li>[ ] Set up monitoring</li> <li>[ ] Configure firewall</li> <li>[ ] Use reverse proxy (Nginx/Apache)</li> <li>[ ] Implement authentication</li> </ul>"},{"location":"deployment/production/#monitoring","title":"Monitoring","text":"<p>Use tools like: - Prometheus + Grafana - Sentry for error tracking - Datadog - New Relic</p>"},{"location":"deployment/production/#performance","title":"Performance","text":"<ul> <li>Use multiple workers</li> <li>Enable caching</li> <li>Use CDN for static files</li> <li>Optimize database queries</li> <li>Enable compression</li> </ul>"},{"location":"examples/","title":"Examples","text":"<p>Real-world examples and patterns for building APIs with REROUTE.</p>"},{"location":"examples/#framework-specific-examples","title":"Framework-Specific Examples","text":"<p>Complete end-to-end examples for each supported framework:</p> <ul> <li> <p> Flask Complete Example</p> <p>Full Flask application with Spectree OpenAPI, validation, and best practices</p> </li> <li> <p> FastAPI Complete Example</p> <p>Async FastAPI application with background tasks, caching, and deployment guide</p> </li> </ul>"},{"location":"examples/#basic-examples","title":"Basic Examples","text":"<ul> <li> <p> Basic CRUD</p> <p>Create, Read, Update, Delete operations</p> </li> <li> <p> Authentication</p> <p>User authentication and authorization</p> </li> <li> <p> Rate Limiting</p> <p>Protect your API with rate limits</p> </li> <li> <p> Caching</p> <p>Improve performance with caching</p> </li> <li> <p> Database Integration</p> <p>Connect to databases with SQLAlchemy, Tortoise ORM, and more</p> </li> </ul>"},{"location":"examples/#patterns","title":"Patterns","text":""},{"location":"examples/#simple-api","title":"Simple API","text":"<pre><code>from reroute import RouteBase\n\nclass UserRoutes(RouteBase):\n    def __init__(self):\n        super().__init__()\n        self.users = []\n\n    def get(self):\n        return {\"users\": self.users}\n\n    def post(self):\n        user = {\"id\": len(self.users) + 1}\n        self.users.append(user)\n        return user\n</code></pre>"},{"location":"examples/#with-decorators","title":"With Decorators","text":"<pre><code>from reroute import RouteBase\nfrom reroute.decorators import rate_limit, cache\n\nclass ProductRoutes(RouteBase):\n    @cache(duration=300)\n    def get(self):\n        # Cached for 5 minutes\n        return {\"products\": [...]}\n\n    @rate_limit(\"10/min\")\n    def post(self):\n        # Max 10 requests per minute\n        return {\"created\": True}\n</code></pre>"},{"location":"examples/#with-lifecycle-hooks","title":"With Lifecycle Hooks","text":"<pre><code>from reroute import RouteBase\n\nclass SecureRoutes(RouteBase):\n    def before_request(self):\n        # Check authentication\n        if not self.is_authenticated():\n            raise Unauthorized(\"Login required\")\n        return None\n\n    def after_request(self, response):\n        # Add security headers\n        response[\"X-API-Version\"] = \"1.0\"\n        return response\n\n    def on_error(self, error):\n        # Custom error handling\n        return {\"error\": str(error), \"status\": 500}\n</code></pre>"},{"location":"examples/#full-examples","title":"Full Examples","text":"<p>Browse complete example applications:</p> <ul> <li>Basic CRUD - User management API</li> <li>Authentication - JWT authentication</li> <li>Rate Limiting - API rate limiting patterns</li> <li>Caching - Response caching strategies</li> <li>Database Integration - SQL and ORM integration (SQLAlchemy, Tortoise ORM)</li> </ul>"},{"location":"examples/#example-repository","title":"Example Repository","text":"<p>Check out the examples folder in the main repository for runnable examples.</p>"},{"location":"examples/#community-examples","title":"Community Examples","text":"<p>Share your examples with the community! Submit a PR to add your example to this page.</p>"},{"location":"examples/authentication/","title":"Authentication Example","text":"<p>Implement authentication with REROUTE.</p>"},{"location":"examples/authentication/#secure-route","title":"Secure Route","text":"<pre><code>from reroute import RouteBase\nfrom reroute.params import Header\nfrom fastapi import HTTPException\n\nclass SecureRoutes(RouteBase):\n    tag = \"Secure Endpoints\"\n\n    def before_request(self):\n        \"\"\"Check authentication before each request\"\"\"\n        # Authentication is handled via Header parameter in route methods\n        return None\n\n    def verify_token(self, token: str) -&gt; bool:\n        \"\"\"Verify JWT token\"\"\"\n        # Implementation here\n        return token == \"valid_token\"\n\n    def delete(self, authorization: str = Header(None)):\n        \"\"\"Admin-only endpoint - requires valid token\"\"\"\n        if not authorization:\n            raise HTTPException(status_code=401, detail=\"Missing authentication\")\n\n        token = authorization.replace(\"Bearer \", \"\")\n        if not self.verify_token(token):\n            raise HTTPException(status_code=401, detail=\"Invalid token\")\n\n        # Additional admin role check would go here\n        return {\"deleted\": True}\n\n    def get(self, authorization: str = Header(None)):\n        \"\"\"Authenticated endpoint\"\"\"\n        if not authorization:\n            raise HTTPException(status_code=401, detail=\"Missing authentication\")\n\n        token = authorization.replace(\"Bearer \", \"\")\n        if not self.verify_token(token):\n            raise HTTPException(status_code=401, detail=\"Invalid token\")\n\n        return {\"data\": \"secure\"}\n</code></pre>"},{"location":"examples/authentication/#jwt-example","title":"JWT Example","text":"<pre><code>import jwt\nfrom datetime import datetime, timedelta\n\nclass AuthRoutes(RouteBase):\n    def post(self):\n        \"\"\"Login endpoint\"\"\"\n        # Verify credentials\n        token = jwt.encode({\n            \"user_id\": 1,\n            \"exp\": datetime.utcnow() + timedelta(hours=24)\n        }, \"secret_key\", algorithm=\"HS256\")\n\n        return {\"token\": token}\n</code></pre>"},{"location":"examples/authentication/#usage","title":"Usage","text":"<pre><code># Login\ncurl -X POST http://localhost:8000/auth\n\n# Access secure endpoint\ncurl -H \"Authorization: Bearer &lt;token&gt;\" http://localhost:8000/secure\n</code></pre>"},{"location":"examples/basic-crud/","title":"Basic CRUD Example","text":"<p>Complete example of CRUD operations with REROUTE.</p>"},{"location":"examples/basic-crud/#route-file","title":"Route File","text":"<p><code>app/routes/user/page.py</code>:</p> <pre><code>from reroute import RouteBase\nfrom reroute.decorators import rate_limit, cache\n\nclass UserRoutes(RouteBase):\n    \"\"\"User CRUD operations\"\"\"\n\n    tag = \"Users\"\n\n    def __init__(self):\n        super().__init__()\n        self.users = [\n            {\"id\": 1, \"name\": \"Alice\", \"email\": \"alice@example.com\"},\n            {\"id\": 2, \"name\": \"Bob\", \"email\": \"bob@example.com\"}\n        ]\n\n    @cache(duration=60)\n    def get(self):\n        \"\"\"Get all users\"\"\"\n        return {\n            \"users\": self.users,\n            \"count\": len(self.users)\n        }\n\n    @rate_limit(\"10/min\")\n    def post(self):\n        \"\"\"Create a new user\"\"\"\n        new_user = {\n            \"id\": len(self.users) + 1,\n            \"name\": \"New User\",\n            \"email\": \"newuser@example.com\"\n        }\n        self.users.append(new_user)\n        return {\"created\": new_user}\n\n    def put(self):\n        \"\"\"Update a user\"\"\"\n        if self.users:\n            self.users[0][\"name\"] = \"Updated Name\"\n            return {\"updated\": self.users[0]}\n        return {\"error\": \"No users to update\"}\n\n    @rate_limit(\"5/min\")\n    def delete(self):\n        \"\"\"Delete a user\"\"\"\n        if self.users:\n            deleted = self.users.pop()\n            return {\"deleted\": deleted}\n        return {\"error\": \"No users to delete\"}\n</code></pre>"},{"location":"examples/basic-crud/#main-application","title":"Main Application","text":"<p><code>main.py</code>:</p> <pre><code>from fastapi import FastAPI\nfrom reroute.adapters import FastAPIAdapter\nfrom pathlib import Path\n\napp = FastAPI(title=\"User CRUD API\")\n\nadapter = FastAPIAdapter(\n    fastapi_app=app,\n    app_dir=Path(__file__).parent / \"app\"\n)\nadapter.register_routes()\n\nif __name__ == \"__main__\":\n    import uvicorn\n    uvicorn.run(app, host=\"0.0.0.0\", port=8000)\n</code></pre>"},{"location":"examples/basic-crud/#testing","title":"Testing","text":"<pre><code># Get all users\ncurl http://localhost:8000/user\n\n# Create user\ncurl -X POST http://localhost:8000/user\n\n# Update user\ncurl -X PUT http://localhost:8000/user\n\n# Delete user\ncurl -X DELETE http://localhost:8000/user\n</code></pre>"},{"location":"examples/basic-crud/#api-documentation","title":"API Documentation","text":"<p>Visit <code>http://localhost:8000/docs</code> for interactive API documentation.</p>"},{"location":"examples/caching/","title":"Caching Example","text":"<p>Improve performance with response caching.</p>"},{"location":"examples/caching/#basic-caching","title":"Basic Caching","text":"<pre><code>from reroute import RouteBase\nfrom reroute.decorators import cache\n\nclass ProductRoutes(RouteBase):\n    @cache(duration=300)\n    def get(self):\n        \"\"\"Cached for 5 minutes\"\"\"\n        # Expensive operation\n        products = self.fetch_from_database()\n        return {\"products\": products}\n</code></pre>"},{"location":"examples/caching/#different-cache-durations","title":"Different Cache Durations","text":"<pre><code>class DataRoutes(RouteBase):\n    @cache(duration=60)\n    def get_recent(self):\n        \"\"\"Cache for 1 minute\"\"\"\n        return {\"data\": \"recent\"}\n\n    @cache(duration=3600)\n    def get_static(self):\n        \"\"\"Cache for 1 hour\"\"\"\n        return {\"data\": \"static\"}\n</code></pre>"},{"location":"examples/caching/#conditional-caching","title":"Conditional Caching","text":"<pre><code>from reroute import RouteBase\nfrom reroute.decorators import cache\nfrom reroute.params import Query\n\nclass SmartCache(RouteBase):\n    def __init__(self):\n        super().__init__()\n        self.data = {\"data\": \"cached\"}\n\n    @cache(duration=60)\n    def get(self, no_cache: bool = Query(False)):\n        \"\"\"Cache can be bypassed with ?no_cache=true\"\"\"\n        if no_cache:\n            # Bypass cache - decorator won't cache this response\n            return {\"data\": \"fresh\", \"cached\": False}\n        return {\"data\": \"cached\", \"cached\": True}\n\n    def fresh_data(self):\n        \"\"\"Helper to fetch fresh data\"\"\"\n        return {\"data\": \"fresh from source\"}\n</code></pre>"},{"location":"examples/caching/#cache-with-manual-control","title":"Cache with Manual Control","text":"<pre><code>from reroute import RouteBase\nfrom reroute.decorators import cache\n\nclass UserRoutes(RouteBase):\n    def __init__(self):\n        super().__init__()\n        self.users = []\n\n    @cache(duration=300)\n    def get(self):\n        \"\"\"Cached user list\"\"\"\n        return {\"users\": self.users}\n\n    def post(self):\n        \"\"\"Creating user - cache will auto-expire after 5 minutes\"\"\"\n        new_user = {\"id\": len(self.users) + 1, \"name\": \"New User\"}\n        self.users.append(new_user)\n        # Note: Cache automatically expires after duration\n        # For immediate invalidation, use cache keys or external cache service\n        return {\"created\": new_user}\n</code></pre>"},{"location":"examples/caching/#testing","title":"Testing","text":"<pre><code># First request - slow (cache miss)\ntime curl http://localhost:8000/products\n\n# Second request - fast (cache hit)\ntime curl http://localhost:8000/products\n</code></pre>"},{"location":"examples/database/","title":"Database Integration","text":"<p>Learn how to integrate databases with REROUTE using popular Python ORMs.</p>"},{"location":"examples/database/#overview","title":"Overview","text":"<p>REROUTE includes built-in database migration commands via <code>reroute db</code> and auto-generates Pydantic models via <code>reroute create model</code>. You can use any Python ORM or database library with REROUTE routes.</p>"},{"location":"examples/database/#quick-start-workflow","title":"Quick Start Workflow","text":"<p>Future Enhancement (v0.2.0)</p> <p><code>reroute init</code> will soon ask about database support during project setup and automatically configure the database connection, initialize migrations, and generate example models!</p> <p>Current Manual Workflow:</p> <pre><code># 1. Generate Pydantic model schemas\nreroute create model --name User\n\n# 2. Initialize database migrations\nreroute db init\n\n# 3. Create migration\nreroute db migrate \"create users table\"\n\n# 4. Apply migrations\nreroute db upgrade\n\n# 5. Generate CRUD route\nreroute create crud --path /users --name User\n</code></pre>"},{"location":"examples/database/#supported-orms","title":"Supported ORMs","text":"<ul> <li>SQLAlchemy - Most popular, works with any SQL database</li> <li>Tortoise ORM - Async-first ORM for FastAPI</li> <li>Peewee - Lightweight ORM</li> <li>Raw SQL - Direct database connections</li> </ul>"},{"location":"examples/database/#sqlalchemy-recommended","title":"SQLAlchemy (Recommended)","text":""},{"location":"examples/database/#quick-start-with-cli","title":"Quick Start with CLI","text":"<p>Use REROUTE CLI to generate models automatically:</p> <pre><code># Generate User model with Pydantic schemas\nreroute create model --name User\n\n# This creates app/models/user.py with:\n# - UserBase, UserCreate, UserUpdate, UserInDB, UserResponse\n</code></pre>"},{"location":"examples/database/#installation","title":"Installation","text":"<pre><code>pip install sqlalchemy\npip install psycopg2-binary  # For PostgreSQL\n# OR\npip install mysql-connector-python  # For MySQL\n</code></pre>"},{"location":"examples/database/#database-setup","title":"Database Setup","text":"app/database.py<pre><code>from sqlalchemy import create_engine\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy.orm import sessionmaker\n\n# Database URL\nDATABASE_URL = \"postgresql://user:password@localhost/dbname\"\n# For SQLite: DATABASE_URL = \"sqlite:///./app.db\"\n# For MySQL: DATABASE_URL = \"mysql+pymysql://user:password@localhost/dbname\"\n\nengine = create_engine(DATABASE_URL)\nSessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=engine)\nBase = declarative_base()\n\n# Dependency for database sessions\ndef get_db():\n    db = SessionLocal()\n    try:\n        yield db\n    finally:\n        db.close()\n</code></pre>"},{"location":"examples/database/#define-models","title":"Define Models","text":"app/models/user.py<pre><code>from sqlalchemy import Column, Integer, String, Boolean\nfrom app.database import Base\n\nclass User(Base):\n    __tablename__ = \"users\"\n\n    id = Column(Integer, primary_key=True, index=True)\n    email = Column(String, unique=True, index=True)\n    name = Column(String)\n    is_active = Column(Boolean, default=True)\n</code></pre>"},{"location":"examples/database/#use-in-routes","title":"Use in Routes","text":"app/routes/users/page.py<pre><code>from reroute import RouteBase\nfrom reroute.params import Query, Body\nfrom app.database import SessionLocal\nfrom app.models.user import User\n\nclass UsersRoutes(RouteBase):\n    tag = \"Users\"\n\n    def get(self, skip: int = Query(0), limit: int = Query(100)):\n        \"\"\"List all users with pagination\"\"\"\n        db = SessionLocal()\n        try:\n            users = db.query(User).offset(skip).limit(limit).all()\n            return {\"users\": [{\"id\": u.id, \"email\": u.email, \"name\": u.name} for u in users]}\n        finally:\n            db.close()\n\n    def post(self, email: str = Body(...), name: str = Body(...)):\n        \"\"\"Create a new user\"\"\"\n        db = SessionLocal()\n        try:\n            user = User(email=email, name=name)\n            db.add(user)\n            db.commit()\n            db.refresh(user)\n            return {\"id\": user.id, \"email\": user.email, \"name\": user.name}\n        finally:\n            db.close()\n</code></pre>"},{"location":"examples/database/#tortoise-orm-async-for-fastapi","title":"Tortoise ORM (Async for FastAPI)","text":""},{"location":"examples/database/#installation_1","title":"Installation","text":"<pre><code>pip install tortoise-orm\npip install aerich  # For migrations\n</code></pre>"},{"location":"examples/database/#database-setup_1","title":"Database Setup","text":"app/database.py<pre><code>from tortoise import Tortoise\n\nasync def init_db():\n    await Tortoise.init(\n        db_url=\"postgres://user:password@localhost/dbname\",\n        modules={\"models\": [\"app.models\"]}\n    )\n    await Tortoise.generate_schemas()\n\nasync def close_db():\n    await Tortoise.close_connections()\n</code></pre>"},{"location":"examples/database/#define-models_1","title":"Define Models","text":"app/models/user.py<pre><code>from tortoise import fields\nfrom tortoise.models import Model\n\nclass User(Model):\n    id = fields.IntField(pk=True)\n    email = fields.CharField(max_length=255, unique=True)\n    name = fields.CharField(max_length=255)\n    is_active = fields.BooleanField(default=True)\n    created_at = fields.DatetimeField(auto_now_add=True)\n\n    class Meta:\n        table = \"users\"\n</code></pre>"},{"location":"examples/database/#use-in-async-routes","title":"Use in Async Routes","text":"app/routes/users/page.py<pre><code>from reroute import RouteBase\nfrom reroute.params import Query, Body\nfrom app.models.user import User\n\nclass UsersRoutes(RouteBase):\n    tag = \"Users\"\n\n    async def get(self, skip: int = Query(0), limit: int = Query(100)):\n        \"\"\"List all users\"\"\"\n        users = await User.all().offset(skip).limit(limit)\n        return {\"users\": [{\"id\": u.id, \"email\": u.email, \"name\": u.name} for u in users]}\n\n    async def post(self, email: str = Body(...), name: str = Body(...)):\n        \"\"\"Create a new user\"\"\"\n        user = await User.create(email=email, name=name)\n        return {\"id\": user.id, \"email\": user.email, \"name\": user.name}\n</code></pre>"},{"location":"examples/database/#database-migrations","title":"Database Migrations","text":""},{"location":"examples/database/#using-reroute-db-commands","title":"Using REROUTE DB Commands","text":"<pre><code># Initialize migrations\nreroute db init\n\n# Create a migration\nreroute db migrate \"create users table\"\n\n# Apply migrations\nreroute db upgrade\n\n# Check current version\nreroute db current\n\n# View history\nreroute db history\n\n# Rollback\nreroute db downgrade\n</code></pre>"},{"location":"examples/database/#using-alembic-sqlalchemy","title":"Using Alembic (SQLAlchemy)","text":"<pre><code># Install\npip install alembic\n\n# Initialize\nalembic init alembic\n\n# Create migration\nalembic revision --autogenerate -m \"Add users table\"\n\n# Apply migrations\nalembic upgrade head\n\n# Rollback\nalembic downgrade -1\n</code></pre>"},{"location":"examples/database/#connection-pooling","title":"Connection Pooling","text":""},{"location":"examples/database/#postgresql-with-pg_pool","title":"PostgreSQL with pg_pool","text":"<pre><code>from sqlalchemy import create_engine\nfrom sqlalchemy.pool import QueuePool\n\nengine = create_engine(\n    \"postgresql://user:password@localhost/dbname\",\n    poolclass=QueuePool,\n    pool_size=20,\n    max_overflow=0,\n    pool_pre_ping=True  # Verify connections before use\n)\n</code></pre>"},{"location":"examples/database/#environment-based-configuration","title":"Environment-based Configuration","text":"app/config.py<pre><code>import os\nfrom reroute import Config\n\nclass DatabaseConfig(Config):\n    # Development\n    DEV_DATABASE_URL = \"sqlite:///./dev.db\"\n\n    # Production\n    PROD_DATABASE_URL = os.getenv(\"DATABASE_URL\", \"postgresql://user:pass@localhost/prod\")\n\n    # Get appropriate URL\n    @classmethod\n    def get_database_url(cls):\n        return cls.PROD_DATABASE_URL if not cls.DEBUG else cls.DEV_DATABASE_URL\n</code></pre>"},{"location":"examples/database/#complete-example-cli-generated-database-app","title":"Complete Example: CLI-Generated Database App","text":""},{"location":"examples/database/#step-by-step","title":"Step-by-Step","text":"<pre><code># 1. Initialize project\nreroute init my-blog --framework fastapi\n\n# 2. Navigate to project\ncd my-blog\n\n# 3. Generate Post model\nreroute create model --name Post\n\n# 4. Generate User model\nreroute create model --name User\n\n# 5. Generate CRUD routes\nreroute create crud --path /posts --name Post --http-test\nreroute create crud --path /users --name User --http-test\n\n# 6. Initialize database\nreroute db init\n\n# 7. Create migration\nreroute db migrate \"initial schema\"\n\n# 8. Apply migration\nreroute db upgrade\n</code></pre>"},{"location":"examples/database/#generated-structure","title":"Generated Structure","text":"<pre><code>my-blog/\n\u251c\u2500\u2500 app/\n\u2502   \u251c\u2500\u2500 models/\n\u2502   \u2502   \u251c\u2500\u2500 post.py      # PostBase, PostCreate, PostUpdate, PostInDB, PostResponse\n\u2502   \u2502   \u2514\u2500\u2500 user.py      # UserBase, UserCreate, UserUpdate, UserInDB, UserResponse\n\u2502   \u2514\u2500\u2500 routes/\n\u2502       \u251c\u2500\u2500 posts/\n\u2502       \u2502   \u2514\u2500\u2500 page.py  # Full CRUD: GET, POST, PUT, DELETE\n\u2502       \u2514\u2500\u2500 users/\n\u2502           \u2514\u2500\u2500 page.py  # Full CRUD operations\n\u251c\u2500\u2500 tests/\n\u2502   \u251c\u2500\u2500 posts.http      # HTTP test file\n\u2502   \u2514\u2500\u2500 users.http      # HTTP test file\n\u251c\u2500\u2500 main.py             # FastAPI app\n\u2514\u2500\u2500 migrations/         # Database migrations\n</code></pre>"},{"location":"examples/database/#using-generated-models","title":"Using Generated Models","text":"<p>The CLI-generated models work seamlessly with your routes:</p> app/routes/posts/page.py<pre><code>from reroute import RouteBase\nfrom reroute.params import Body\nfrom app.models.post import PostCreate, PostResponse\nfrom app.database import get_db\nfrom sqlalchemy.orm import Session\n\nclass PostsRoutes(RouteBase):\n    tag = \"Posts\"\n\n    def post(self, post: PostCreate = Body(...)):\n        \"\"\"Create a new post - using CLI-generated model\"\"\"\n        db: Session = next(get_db())\n        # Your database logic here\n        return PostResponse(**post.model_dump())\n</code></pre>"},{"location":"examples/database/#best-practices","title":"Best Practices","text":""},{"location":"examples/database/#1-use-connection-pooling","title":"1. Use Connection Pooling","text":"<p>Always use connection pools in production to reuse database connections efficiently.</p>"},{"location":"examples/database/#2-handle-transactions","title":"2. Handle Transactions","text":"<pre><code>def post(self, data: dict = Body(...)):\n    db: Session = next(get_db())\n    try:\n        user = User(**data)\n        db.add(user)\n        db.commit()\n        db.refresh(user)\n        return user\n    except Exception as e:\n        db.rollback()\n        raise\n    finally:\n        db.close()\n</code></pre>"},{"location":"examples/database/#3-use-environment-variables","title":"3. Use Environment Variables","text":"<p>Never hardcode database credentials. Use environment variables:</p> <pre><code>import os\n\nDATABASE_URL = os.getenv(\"DATABASE_URL\", \"sqlite:///./default.db\")\n</code></pre>"},{"location":"examples/database/#4-implement-health-checks","title":"4. Implement Health Checks","text":"app/routes/health/page.py<pre><code>from reroute import RouteBase\nfrom app.database import engine\n\nclass HealthRoutes(RouteBase):\n    tag = \"Health\"\n\n    def get(self):\n        \"\"\"Health check with database connectivity\"\"\"\n        try:\n            # Test database connection\n            with engine.connect() as conn:\n                conn.execute(\"SELECT 1\")\n            return {\"status\": \"healthy\", \"database\": \"connected\"}\n        except Exception as e:\n            return {\"status\": \"unhealthy\", \"database\": str(e)}, 503\n</code></pre>"},{"location":"examples/database/#peewee-orm","title":"Peewee ORM","text":"<p>Peewee is a lightweight ORM that's easy to learn and use.</p>"},{"location":"examples/database/#installation_2","title":"Installation","text":"<pre><code>pip install peewee\n</code></pre>"},{"location":"examples/database/#setup","title":"Setup","text":"app/database.py<pre><code>from peewee import *\n\n# SQLite database\ndb = SqliteDatabase('app.db')\n\n# PostgreSQL example\n# db = PostgresqlDatabase('mydb', user='postgres', password='secret', host='localhost', port=5432)\n\nclass BaseModel(Model):\n    class Meta:\n        database = db\n\nclass User(BaseModel):\n    username = CharField(unique=True)\n    email = CharField()\n    created_at = DateTimeField(constraints=[SQL('DEFAULT CURRENT_TIMESTAMP')])\n\n# Create tables\ndb.connect()\ndb.create_tables([User])\n</code></pre>"},{"location":"examples/database/#using-in-routes","title":"Using in Routes","text":"app/routes/users/page.py<pre><code>from reroute import RouteBase\nfrom reroute.params import Body, Query\nfrom app.database import User\nfrom pydantic import BaseModel\n\nclass UserCreate(BaseModel):\n    username: str\n    email: str\n\nclass UsersRoutes(RouteBase):\n    tag = \"Users\"\n\n    def get(self, skip: int = Query(0), limit: int = Query(100)):\n        \"\"\"Get all users with pagination\"\"\"\n        users = list(User.select().offset(skip).limit(limit).dicts())\n        return {\"users\": users, \"total\": User.select().count()}\n\n    def post(self, user: UserCreate = Body()):\n        \"\"\"Create a new user\"\"\"\n        new_user = User.create(**user.model_dump())\n        return {\"id\": new_user.id, **user.model_dump()}\n\n    def delete(self, user_id: int = Query(...)):\n        \"\"\"Delete a user by ID\"\"\"\n        deleted = User.delete_by_id(user_id)\n        if deleted:\n            return {\"deleted\": True, \"id\": user_id}\n        return {\"error\": \"User not found\"}, 404\n</code></pre>"},{"location":"examples/database/#transactions","title":"Transactions","text":"<pre><code>from peewee import Database\n\ndef post(self, user: UserCreate = Body()):\n    \"\"\"Create user with transaction\"\"\"\n    with db.atomic():  # Automatic rollback on exception\n        user = User.create(**user.model_dump())\n        # Other operations...\n        return {\"id\": user.id}\n</code></pre>"},{"location":"examples/database/#raw-sql","title":"Raw SQL","text":"<p>For maximum control, use raw SQL queries with a database driver.</p>"},{"location":"examples/database/#sqlite-example","title":"SQLite Example","text":"app/database.py<pre><code>import sqlite3\nfrom contextlib import contextmanager\n\nDATABASE_PATH = 'app.db'\n\n@contextmanager\ndef get_db():\n    \"\"\"Context manager for database connections\"\"\"\n    conn = sqlite3.connect(DATABASE_PATH)\n    conn.row_factory = sqlite3.Row  # Return rows as dictionaries\n    try:\n        yield conn\n    finally:\n        conn.close()\n\ndef init_db():\n    \"\"\"Initialize database schema\"\"\"\n    with get_db() as conn:\n        conn.execute('''\n            CREATE TABLE IF NOT EXISTS users (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                username TEXT UNIQUE NOT NULL,\n                email TEXT NOT NULL,\n                created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n            )\n        ''')\n        conn.commit()\n</code></pre>"},{"location":"examples/database/#using-in-routes_1","title":"Using in Routes","text":"app/routes/users/page.py<pre><code>from reroute import RouteBase\nfrom reroute.params import Body, Query\nfrom app.database import get_db\nfrom pydantic import BaseModel\n\nclass UserCreate(BaseModel):\n    username: str\n    email: str\n\nclass UsersRoutes(RouteBase):\n    tag = \"Users\"\n\n    def get(self, skip: int = Query(0), limit: int = Query(100)):\n        \"\"\"Get all users with raw SQL\"\"\"\n        with get_db() as conn:\n            cursor = conn.execute(\n                'SELECT * FROM users ORDER BY id LIMIT ? OFFSET ?',\n                (limit, skip)\n            )\n            users = [dict(row) for row in cursor.fetchall()]\n\n            count = conn.execute('SELECT COUNT(*) FROM users').fetchone()[0]\n\n            return {\"users\": users, \"total\": count}\n\n    def post(self, user: UserCreate = Body()):\n        \"\"\"Create user with raw SQL\"\"\"\n        with get_db() as conn:\n            cursor = conn.execute(\n                'INSERT INTO users (username, email) VALUES (?, ?)',\n                (user.username, user.email)\n            )\n            conn.commit()\n            return {\"id\": cursor.lastrowid, **user.model_dump()}\n\n    def delete(self, user_id: int = Query(...)):\n        \"\"\"Delete user by ID\"\"\"\n        with get_db() as conn:\n            cursor = conn.execute('DELETE FROM users WHERE id = ?', (user_id,))\n            conn.commit()\n            if cursor.rowcount &gt; 0:\n                return {\"deleted\": True, \"id\": user_id}\n            return {\"error\": \"User not found\"}, 404\n</code></pre>"},{"location":"examples/database/#postgresql-example-with-psycopg2","title":"PostgreSQL Example with psycopg2","text":"<pre><code>import psycopg2\nfrom psycopg2.extras import RealDictCursor\nfrom contextlib import contextmanager\n\nDATABASE_URL = \"postgresql://user:password@localhost/dbname\"\n\n@contextmanager\ndef get_db():\n    \"\"\"PostgreSQL connection context manager\"\"\"\n    conn = psycopg2.connect(DATABASE_URL, cursor_factory=RealDictCursor)\n    try:\n        yield conn\n    except Exception:\n        conn.rollback()\n        raise\n    else:\n        conn.commit()\n    finally:\n        conn.close()\n\n# Usage in routes (same pattern as SQLite example above)\n</code></pre>"},{"location":"examples/database/#next-steps","title":"Next Steps","text":"<ul> <li>API Reference - Complete API documentation</li> <li>Deployment - Production database setup</li> <li>Configuration - Database configuration options</li> </ul>"},{"location":"examples/fastapi-example/","title":"FastAPI Complete Example","text":"<p>A comprehensive example of building a high-performance async REST API with REROUTE and FastAPI.</p>"},{"location":"examples/fastapi-example/#project-structure","title":"Project Structure","text":"<p>After running <code>reroute init</code> and the commands below:</p> <pre><code>my-fastapi-api/\n\u251c\u2500\u2500 app/\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 root.py                     # Root (/) and health (/health) routes\n\u2502   \u251c\u2500\u2500 models/                     # Created by: reroute create model\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u2514\u2500\u2500 user.py\n\u2502   \u2514\u2500\u2500 routes/\n\u2502       \u251c\u2500\u2500 __init__.py\n\u2502       \u251c\u2500\u2500 hello/                  # Auto-generated example\n\u2502       \u2502   \u2514\u2500\u2500 page.py\n\u2502       \u251c\u2500\u2500 users/                  # Created by: reroute create route\n\u2502       \u2502   \u2514\u2500\u2500 page.py\n\u2502       \u2514\u2500\u2500 products/               # Created by: reroute create route\n\u2502           \u2514\u2500\u2500 page.py\n\u251c\u2500\u2500 tests/\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2514\u2500\u2500 test_main.py\n\u251c\u2500\u2500 config.py\n\u251c\u2500\u2500 logger.py\n\u251c\u2500\u2500 main.py\n\u2514\u2500\u2500 requirements.txt\n</code></pre>"},{"location":"examples/fastapi-example/#installation","title":"Installation","text":"<pre><code># Create a new REROUTE project\nreroute init\n\n# Interactive prompts:\n? Project name: my-fastapi-api\n? Which framework would you like to use? fastapi\n? Would you like to generate test cases? Yes\n\n# Review and confirm:\n# Project Name: my-fastapi-api\n# Framework: FASTAPI\n# Host: 0.0.0.0\n# Port: 7376\n# Include Tests: Yes\n? Does this look correct? Yes\n\n# Navigate to project directory\ncd my-fastapi-api\n\n# Generate user model (Pydantic schemas)\nreroute create model --name User\n\n# Generate user routes (handles both list and individual user operations)\n# Add --http-test flag to generate .http test file automatically\nreroute create route --path /users --name UserRoutes --methods GET,POST,PUT,DELETE --http-test\n\n# Generate product routes with HTTP test file\nreroute create route --path /products --name ProductRoutes --methods GET,POST --http-test\n\n# Your project structure is now ready!\n</code></pre> <p>Note: The <code>--http-test</code> flag is optional. If included, REROUTE automatically generates a <code>.http</code> test file in the <code>tests/</code> directory with pre-configured API test requests for the route.</p> <p>Note: Dynamic path parameters (like <code>user_id</code>) are passed as query parameters in your route methods, not in the folder structure. See the code examples below.</p>"},{"location":"examples/fastapi-example/#configuration","title":"Configuration","text":"<p>config.py</p> <pre><code>from reroute import Config\n\nclass AppConfig(Config):\n    # Server Configuration\n    HOST = \"0.0.0.0\"\n    PORT = 7376\n    AUTO_RELOAD = True\n\n    # OpenAPI Documentation\n    class OpenAPI:\n        ENABLE = True\n        DOCS_PATH = \"/docs\"              # Swagger UI\n        REDOC_PATH = \"/redoc\"            # ReDoc UI\n        JSON_PATH = \"/openapi.json\"\n        TITLE = \"My FastAPI API\"\n        VERSION = \"1.0.0\"\n        DESCRIPTION = \"A high-performance REST API built with REROUTE and FastAPI\"\n\n    # CORS Configuration\n    ENABLE_CORS = True\n    CORS_ALLOW_ORIGINS = [\"http://localhost:3000\"]\n    CORS_ALLOW_METHODS = [\"GET\", \"POST\", \"PUT\", \"DELETE\", \"PATCH\"]\n    CORS_ALLOW_HEADERS = [\"*\"]\n    CORS_ALLOW_CREDENTIALS = False\n</code></pre>"},{"location":"examples/fastapi-example/#main-application","title":"Main Application","text":"<p>main.py</p> <pre><code>from pathlib import Path\nfrom fastapi import FastAPI\nfrom reroute.adapters import FastAPIAdapter\nfrom config import AppConfig\n\n# Create FastAPI app\napp = FastAPI(\n    title=\"My FastAPI API\",\n    description=\"A REST API built with REROUTE and FastAPI\",\n    version=\"1.0.0\"\n)\n\n# Initialize REROUTE adapter\nadapter = FastAPIAdapter(\n    fastapi_app=app,\n    app_dir=Path(__file__).parent / \"app\",\n    config=AppConfig\n)\n\n# Register all file-based routes\nadapter.register_routes()\n\n# Root endpoint\n@app.get(\"/\")\nasync def root():\n    \"\"\"Welcome endpoint showing API information\"\"\"\n    return {\n        \"message\": \"Welcome to My FastAPI API\",\n        \"version\": \"1.0.0\",\n        \"docs\": \"/docs\",\n        \"redoc\": \"/redoc\",\n        \"openapi\": \"/openapi.json\"\n    }\n\n# Health check endpoint\n@app.get(\"/health\")\nasync def health():\n    \"\"\"Health check endpoint\"\"\"\n    return {\n        \"status\": \"healthy\",\n        \"framework\": \"FastAPI + REROUTE\"\n    }\n\nif __name__ == \"__main__\":\n    adapter.run_server()\n</code></pre>"},{"location":"examples/fastapi-example/#pydantic-models","title":"Pydantic Models","text":"<p>app/models/user.py</p> <pre><code>from pydantic import BaseModel, EmailStr, Field\nfrom typing import Optional\nfrom datetime import datetime\n\nclass UserBase(BaseModel):\n    \"\"\"Base user schema with common fields\"\"\"\n    name: str = Field(..., min_length=2, max_length=100)\n    email: EmailStr\n    age: Optional[int] = Field(None, ge=0, le=150)\n\nclass UserCreate(BaseModel):\n    \"\"\"Schema for creating a new user\"\"\"\n    name: str\n    email: EmailStr\n    password: str = Field(..., min_length=8)\n    age: Optional[int] = None\n\nclass UserUpdate(BaseModel):\n    \"\"\"Schema for updating user (all fields optional)\"\"\"\n    name: Optional[str] = None\n    email: Optional[EmailStr] = None\n    age: Optional[int] = None\n\nclass UserResponse(BaseModel):\n    \"\"\"Schema for user responses (without password)\"\"\"\n    id: int\n    name: str\n    email: EmailStr\n    age: Optional[int] = None\n    created_at: datetime\n\n    class Config:\n        from_attributes = True\n</code></pre>"},{"location":"examples/fastapi-example/#file-based-routes","title":"File-Based Routes","text":""},{"location":"examples/fastapi-example/#important-reroute-vs-fastapi-imports","title":"Important: REROUTE vs FastAPI Imports","text":"<p>Use REROUTE's parameter system: <pre><code>from reroute.params import Query, Body, Path, Header, Cookie  # \u2705 Cross-framework compatibility\n</code></pre></p> <p>Use FastAPI's native features: <pre><code>from fastapi import HTTPException, BackgroundTasks, Depends  # \u2705 FastAPI-specific features\n</code></pre></p> <p>Why? - REROUTE's <code>params</code> work with both Flask and FastAPI - FastAPI's exception handling and dependency injection are framework-specific and should be used directly</p>"},{"location":"examples/fastapi-example/#user-routes-async","title":"User Routes (Async)","text":"<p>app/routes/users/page.py</p> <pre><code>import asyncio\nfrom typing import Optional\n\nfrom reroute import RouteBase\nfrom reroute.params import Query, Body  # REROUTE's parameter injection\nfrom fastapi import HTTPException  # FastAPI's exception handling\nfrom app.models.user import UserCreate, UserUpdate, UserResponse\n\n# In-memory storage (use async database in production)\nusers_db = []\nnext_id = 1\n\nclass UserRoutes(RouteBase):\n    \"\"\"User management endpoints - handles both list and individual user operations (async)\"\"\"\n    tag = \"Users\"\n\n    async def get(\n        self,\n        user_id: Optional[int] = Query(default=None, description=\"User ID for specific user\"),\n        page: int = Query(default=1, ge=1, description=\"Page number\"),\n        limit: int = Query(default=10, ge=1, le=100, description=\"Items per page\")\n    ):\n        \"\"\"\n        List all users OR get a specific user (async)\n\n        - If user_id is provided: Returns a specific user\n        - If user_id is None: Returns paginated list of users\n        \"\"\"\n        # Simulate async database call\n        await asyncio.sleep(0.01)\n\n        # Get specific user\n        if user_id is not None:\n            user = next((u for u in users_db if u[\"id\"] == user_id), None)\n            if not user:\n                raise HTTPException(status_code=404, detail=\"User not found\")\n            return user\n\n        # List all users with pagination\n        start = (page - 1) * limit\n        end = start + limit\n        paginated_users = users_db[start:end]\n\n        return {\n            \"page\": page,\n            \"limit\": limit,\n            \"total\": len(users_db),\n            \"users\": paginated_users\n        }\n\n    async def post(self, user: UserCreate = Body(...)):\n        \"\"\"\n        Create a new user (async)\n\n        Creates a new user with the provided information asynchronously.\n        \"\"\"\n        global next_id\n\n        # Check if email already exists\n        if any(u[\"email\"] == user.email for u in users_db):\n            raise HTTPException(status_code=400, detail=\"Email already exists\")\n\n        # Simulate async database save\n        await asyncio.sleep(0.01)\n\n        new_user = {\n            \"id\": next_id,\n            \"name\": user.name,\n            \"email\": user.email,\n            \"age\": user.age,\n            \"created_at\": \"2025-11-21T00:00:00\"\n        }\n        users_db.append(new_user)\n        next_id += 1\n\n        return new_user\n\n    async def put(\n        self,\n        user_id: int = Query(..., description=\"User ID to update\"),\n        user: UserUpdate = Body(...)\n    ):\n        \"\"\"\n        Update user (async)\n\n        Updates an existing user's information asynchronously.\n        \"\"\"\n        user_idx = next(\n            (i for i, u in enumerate(users_db) if u[\"id\"] == user_id),\n            None\n        )\n\n        if user_idx is None:\n            raise HTTPException(status_code=404, detail=\"User not found\")\n\n        # Simulate async database update\n        await asyncio.sleep(0.01)\n\n        # Update only provided fields\n        if user.name is not None:\n            users_db[user_idx][\"name\"] = user.name\n        if user.email is not None:\n            users_db[user_idx][\"email\"] = user.email\n        if user.age is not None:\n            users_db[user_idx][\"age\"] = user.age\n\n        return users_db[user_idx]\n\n    async def delete(self, user_id: int = Query(..., description=\"User ID to delete\")):\n        \"\"\"\n        Delete user (async)\n\n        Deletes a user by their ID asynchronously.\n        \"\"\"\n        user_idx = next(\n            (i for i, u in enumerate(users_db) if u[\"id\"] == user_id),\n            None\n        )\n\n        if user_idx is None:\n            raise HTTPException(status_code=404, detail=\"User not found\")\n\n        # Simulate async database delete\n        await asyncio.sleep(0.01)\n\n        deleted_user = users_db.pop(user_idx)\n        return {\"message\": \"User deleted\", \"user\": deleted_user}\n</code></pre>"},{"location":"examples/fastapi-example/#product-routes-with-background-tasks","title":"Product Routes with Background Tasks","text":"<p>app/routes/products/page.py</p> <pre><code>import asyncio\n\nfrom reroute import RouteBase\nfrom reroute.decorators import cache\nfrom reroute.params import Query  # REROUTE's parameter injection\nfrom fastapi import BackgroundTasks  # FastAPI's background tasks\n\nclass ProductRoutes(RouteBase):\n    \"\"\"Product management endpoints with caching\"\"\"\n    tag = \"Products\"\n\n    @cache(duration=300)  # Cache for 5 minutes\n    async def get(\n        self,\n        category: str = Query(default=None, description=\"Filter by category\"),\n        min_price: float = Query(default=None, ge=0, description=\"Minimum price\")\n    ):\n        \"\"\"\n        List products with optional filters (async + cached)\n\n        Returns a list of products, optionally filtered by category and price.\n        Results are cached for 5 minutes.\n        \"\"\"\n        # Simulate async database query\n        await asyncio.sleep(0.05)\n\n        products = [\n            {\"id\": 1, \"name\": \"Laptop\", \"price\": 999.99, \"category\": \"Electronics\"},\n            {\"id\": 2, \"name\": \"Mouse\", \"price\": 29.99, \"category\": \"Electronics\"},\n            {\"id\": 3, \"name\": \"Desk\", \"price\": 299.99, \"category\": \"Furniture\"},\n        ]\n\n        # Apply filters\n        if category:\n            products = [p for p in products if p[\"category\"] == category]\n        if min_price is not None:\n            products = [p for p in products if p[\"price\"] &gt;= min_price]\n\n        return {\"products\": products}\n\n    async def post(self, background_tasks: BackgroundTasks):\n        \"\"\"\n        Create a new product (async with background task)\n\n        Creates a new product and sends notifications in the background.\n        \"\"\"\n        # Add background task\n        background_tasks.add_task(send_notification, \"New product created\")\n\n        return {\"message\": \"Product created\", \"notification\": \"sent in background\"}, 201\n\nasync def send_notification(message: str):\n    \"\"\"Background task to send notifications\"\"\"\n    await asyncio.sleep(2)  # Simulate email sending\n    print(f\"Notification sent: {message}\")\n</code></pre>"},{"location":"examples/fastapi-example/#running-the-application","title":"Running the Application","text":"<pre><code># Development (with auto-reload)\npython main.py\n\n# Production with multiple workers\nadapter.run_server(workers=4, reload=False, log_level=\"warning\")\n</code></pre>"},{"location":"examples/fastapi-example/#api-documentation","title":"API Documentation","text":"<p>Once running, access the documentation at:</p> <ul> <li>Swagger UI: http://localhost:7376/docs</li> <li>ReDoc UI: http://localhost:7376/redoc</li> <li>OpenAPI JSON: http://localhost:7376/openapi.json</li> </ul>"},{"location":"examples/fastapi-example/#testing","title":"Testing","text":"<p>REROUTE can automatically generate <code>.http</code> test files when you use the <code>--http-test</code> flag. These files contain pre-configured HTTP requests for testing your API directly in VS Code (with REST Client extension) or other HTTP clients.</p>"},{"location":"examples/fastapi-example/#auto-generated-http-test-files","title":"Auto-Generated HTTP Test Files","text":"<p>If you used <code>--http-test</code> when creating routes, you'll have test files in the <code>tests/</code> directory with ready-to-use requests:</p> <p>tests/users.http (auto-generated) <pre><code>### List all users\nGET http://localhost:7376/users\n\n### Create a new user\nPOST http://localhost:7376/users\nContent-Type: application/json\n\n{\n  \"name\": \"Test User\",\n  \"email\": \"test@example.com\",\n  \"password\": \"password123\",\n  \"age\": 25\n}\n\n### Get specific user\nGET http://localhost:7376/users?user_id=1\n\n### Update user\nPUT http://localhost:7376/users?user_id=1\nContent-Type: application/json\n\n{\n  \"name\": \"Updated Name\",\n  \"age\": 30\n}\n\n### Delete user\nDELETE http://localhost:7376/users?user_id=1\n</code></pre></p>"},{"location":"examples/fastapi-example/#manual-http-files","title":"Manual .http Files","text":"<p>You can also create custom test files manually:</p> <p>test_users.http</p> <pre><code>### Get all users\nGET http://localhost:7376/users\n\n### Create a new user\nPOST http://localhost:7376/users\nContent-Type: application/json\n\n{\n  \"name\": \"John Doe\",\n  \"email\": \"john@example.com\",\n  \"password\": \"securepass123\",\n  \"age\": 30\n}\n\n### Get specific user (using query parameter)\nGET http://localhost:7376/users?user_id=1\n\n### Update user (using query parameter)\nPUT http://localhost:7376/users?user_id=1\nContent-Type: application/json\n\n{\n  \"name\": \"John Updated\",\n  \"age\": 31\n}\n\n### Delete user (using query parameter)\nDELETE http://localhost:7376/users?user_id=1\n\n### Test products with filters\nGET http://localhost:7376/products?category=Electronics&amp;min_price=50\n</code></pre>"},{"location":"examples/fastapi-example/#how-to-use-http-files","title":"How to Use .http Files","text":"<p>VS Code (Recommended): 1. Install the REST Client extension 2. Open any <code>.http</code> file 3. Click \"Send Request\" above each request or press <code>Ctrl+Alt+R</code></p> <p>Other Clients: - IntelliJ IDEA / PyCharm (built-in support) - Postman (import as collection) - Insomnia (import as workspace)</p>"},{"location":"examples/fastapi-example/#using-curl","title":"Using curl","text":"<pre><code># List users\ncurl http://localhost:7376/users\n\n# Create user\ncurl -X POST http://localhost:7376/users \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"name\":\"Jane\",\"email\":\"jane@example.com\",\"password\":\"pass123\",\"age\":25}'\n\n# Get user by ID (using query parameter)\ncurl \"http://localhost:7376/users?user_id=1\"\n\n# Update user (using query parameter)\ncurl -X PUT \"http://localhost:7376/users?user_id=1\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"name\":\"Jane Updated\"}'\n\n# Delete user (using query parameter)\ncurl -X DELETE \"http://localhost:7376/users?user_id=1\"\n\n# Get products with filter\ncurl \"http://localhost:7376/products?category=Electronics\"\n</code></pre>"},{"location":"examples/fastapi-example/#key-features-demonstrated","title":"Key Features Demonstrated","text":"<ol> <li>Async/Await - Full async support for high concurrency</li> <li>OpenAPI Documentation - Automatic Swagger UI and ReDoc</li> <li>Request Validation - Pydantic models for type safety</li> <li>Query Parameters - Pagination and filtering</li> <li>Body Validation - Structured request bodies</li> <li>Background Tasks - Non-blocking operations</li> <li>Caching - Improve performance for expensive operations</li> <li>CORS - Cross-origin requests for frontend integration</li> <li>HTTPException - Proper error handling</li> <li>Auto-Reload - Automatic module detection for development</li> <li>File-Based Routing - Organized route structure</li> <li>Auto-Generated HTTP Tests - <code>.http</code> files with <code>--http-test</code> flag</li> </ol>"},{"location":"examples/fastapi-example/#performance-tips","title":"Performance Tips","text":"<ol> <li>Use async for I/O operations: Database calls, API requests, file operations</li> <li>Enable multiple workers in production: <code>adapter.run_server(workers=4)</code></li> <li>Cache expensive operations: Use <code>@cache()</code> decorator</li> <li>Use background tasks: For non-critical operations like emails</li> <li>Disable docs in production: Set <code>OpenAPI.ENABLE = False</code></li> </ol>"},{"location":"examples/fastapi-example/#deployment","title":"Deployment","text":""},{"location":"examples/fastapi-example/#docker","title":"Docker","text":"<p>Dockerfile</p> <pre><code>FROM python:3.11-slim\n\nWORKDIR /app\n\n# Install dependencies\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy application\nCOPY . .\n\n# Run with uvicorn\nCMD [\"python\", \"-m\", \"uvicorn\", \"main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\", \"--workers\", \"4\"]\n</code></pre>"},{"location":"examples/fastapi-example/#kubernetes","title":"Kubernetes","text":"<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: fastapi-deployment\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: fastapi\n  template:\n    metadata:\n      labels:\n        app: fastapi\n    spec:\n      containers:\n      - name: fastapi\n        image: my-fastapi-api:latest\n        ports:\n        - containerPort: 8000\n        env:\n        - name: WORKERS\n          value: \"2\"\n</code></pre>"},{"location":"examples/fastapi-example/#troubleshooting","title":"Troubleshooting","text":""},{"location":"examples/fastapi-example/#problem-1-indentationerror-in-configpy","title":"Problem 1: IndentationError in config.py","text":"<p>Error: <pre><code>IndentationError: unexpected indent\n</code></pre></p> <p>Solution: This is caused by a bug in earlier versions of the REROUTE template. Update REROUTE to the latest version: <pre><code>pip install --upgrade reroute\n</code></pre></p> <p>Or manually fix <code>config.py</code> by ensuring each line under <code>class OpenAPI:</code> is properly indented with 8 spaces.</p>"},{"location":"examples/fastapi-example/#problem-2-auto-reload-not-working","title":"Problem 2: Auto-reload not working","text":"<p>Symptom: Changes to route files don't trigger server restart</p> <p>Solutions: 1. Ensure <code>AUTO_RELOAD = True</code> in <code>config.py</code>: <pre><code>class AppConfig(Config):\n    AUTO_RELOAD = True\n</code></pre></p> <ol> <li> <p>Run with reload enabled: <pre><code>adapter.run_server(reload=True)\n</code></pre></p> </li> <li> <p>Check uvicorn is installed: <code>pip install uvicorn[standard]</code></p> </li> </ol>"},{"location":"examples/fastapi-example/#problem-3-runtimewarning-coroutine-was-never-awaited","title":"Problem 3: RuntimeWarning: coroutine was never awaited","text":"<p>Error: <pre><code>RuntimeWarning: coroutine 'UserRoutes.get' was never awaited\n</code></pre></p> <p>Solution: Ensure async route methods are called with <code>await</code>: <pre><code># Correct:\nasync def get(self):\n    result = await some_async_function()\n    return result\n\n# Wrong:\ndef get(self):  # Missing 'async'\n    result = await some_function()  # Can't await in non-async function\n</code></pre></p>"},{"location":"examples/fastapi-example/#problem-4-httpexception-not-returning-proper-status-codes","title":"Problem 4: HTTPException not returning proper status codes","text":"<p>Symptom: All errors return 500 instead of specified status codes</p> <p>Solution: Use FastAPI's <code>HTTPException</code> for error handling: <pre><code>from fastapi import HTTPException  # FastAPI-specific\n\nasync def get(self, user_id: int):\n    user = await get_user(user_id)\n    if not user:\n        raise HTTPException(status_code=404, detail=\"User not found\")\n    return user\n</code></pre></p> <p>Don't return tuples like Flask - FastAPI uses <code>HTTPException</code>.</p>"},{"location":"examples/fastapi-example/#problem-5-pydantic-validation-errors","title":"Problem 5: Pydantic validation errors","text":"<p>Error: <pre><code>pydantic.error_wrappers.ValidationError: 1 validation error\n</code></pre></p> <p>Common Causes: 1. Missing required fields: Request body doesn't include all required fields 2. Wrong data types: Sending string where int is expected 3. Email validation: Invalid email format when using <code>EmailStr</code></p> <p>Solution: 1. Check your Pydantic model requirements: <pre><code>class UserCreate(BaseModel):\n    name: str  # Required\n    email: EmailStr  # Required and must be valid email\n    age: Optional[int] = None  # Optional\n</code></pre></p> <ol> <li> <p>Send correct data in requests: <pre><code>{\n  \"name\": \"John\",\n  \"email\": \"valid@email.com\",\n  \"age\": 30\n}\n</code></pre></p> </li> <li> <p>Install email validation: <code>pip install pydantic[email]</code></p> </li> </ol>"},{"location":"examples/fastapi-example/#next-steps","title":"Next Steps","text":"<ul> <li>Add async database integration (Tortoise ORM, SQLAlchemy with asyncpg)</li> <li>Implement JWT authentication</li> <li>Add WebSocket support for real-time features</li> <li>Set up Redis for distributed caching</li> <li>Add comprehensive error handling</li> <li>Implement request/response logging</li> <li>Deploy with Docker and Kubernetes</li> </ul>"},{"location":"examples/fastapi-example/#see-also","title":"See Also","text":"<ul> <li>FastAPI Adapter Documentation</li> <li>Flask Example</li> <li>Configuration Guide</li> <li>Async Best Practices</li> </ul>"},{"location":"examples/flask-example/","title":"Flask Complete Example","text":"<p>A comprehensive example of building a REST API with REROUTE and Flask.</p>"},{"location":"examples/flask-example/#project-structure","title":"Project Structure","text":"<p>After running <code>reroute init</code> and the commands below:</p> <pre><code>my-flask-api/\n\u251c\u2500\u2500 app/\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 root.py                     # Root (/) and health (/health) routes\n\u2502   \u251c\u2500\u2500 models/                     # Created by: reroute create model\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u2514\u2500\u2500 user.py\n\u2502   \u2514\u2500\u2500 routes/\n\u2502       \u251c\u2500\u2500 __init__.py\n\u2502       \u251c\u2500\u2500 hello/                  # Auto-generated example\n\u2502       \u2502   \u2514\u2500\u2500 page.py\n\u2502       \u251c\u2500\u2500 users/                  # Created by: reroute create route\n\u2502       \u2502   \u2514\u2500\u2500 page.py\n\u2502       \u2514\u2500\u2500 products/               # Created by: reroute create route\n\u2502           \u2514\u2500\u2500 page.py\n\u251c\u2500\u2500 tests/\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2514\u2500\u2500 test_main.py\n\u251c\u2500\u2500 config.py\n\u251c\u2500\u2500 logger.py\n\u251c\u2500\u2500 main.py\n\u2514\u2500\u2500 requirements.txt\n</code></pre>"},{"location":"examples/flask-example/#installation","title":"Installation","text":"<pre><code># Create a new REROUTE project\nreroute init\n\n# Interactive prompts:\n? Project name: my-flask-api\n? Which framework would you like to use? flask\n? Would you like to generate test cases? Yes\n\n# Review and confirm:\n# Project Name: my-flask-api\n# Framework: FLASK\n# Host: 0.0.0.0\n# Port: 7376\n# Include Tests: Yes\n? Does this look correct? Yes\n\n# Navigate to project directory\ncd my-flask-api\n\n# Generate user model (Pydantic schemas)\nreroute create model --name User\n\n# Generate user routes (handles both list and individual user operations)\n# Add --http-test flag to generate .http test file automatically\nreroute create route --path /users --name UserRoutes --methods GET,POST,PUT,DELETE --http-test\n\n# Generate product routes with HTTP test file\nreroute create route --path /products --name ProductRoutes --methods GET,POST --http-test\n\n# Your project structure is now ready!\n</code></pre> <p>Note: The <code>--http-test</code> flag is optional. If included, REROUTE automatically generates a <code>.http</code> test file in the <code>tests/</code> directory with pre-configured API test requests for the route.</p> <p>Note: Dynamic path parameters (like <code>user_id</code>) are handled in your route methods, not in the folder structure. See the code examples below.</p>"},{"location":"examples/flask-example/#configuration","title":"Configuration","text":"<p>config.py</p> <pre><code>from reroute import Config\n\nclass AppConfig(Config):\n    # Server Configuration\n    HOST = \"0.0.0.0\"\n    PORT = 7376\n    DEBUG = True\n\n    # OpenAPI Documentation\n    class OpenAPI:\n        ENABLE = True\n        DOCS_PATH = \"/docs\"              # Swagger UI\n        REDOC_PATH = None                # ReDoc disabled\n        JSON_PATH = \"/openapi.json\"\n        TITLE = \"My Flask API\"\n        VERSION = \"1.0.0\"\n        DESCRIPTION = \"A REST API built with REROUTE and Flask\"\n\n    # CORS Configuration\n    ENABLE_CORS = True\n    CORS_ALLOW_ORIGINS = [\"http://localhost:3000\"]\n    CORS_ALLOW_METHODS = [\"GET\", \"POST\", \"PUT\", \"DELETE\", \"PATCH\"]\n    CORS_ALLOW_HEADERS = [\"*\"]\n    CORS_ALLOW_CREDENTIALS = False\n</code></pre>"},{"location":"examples/flask-example/#main-application","title":"Main Application","text":"<p>main.py</p> <pre><code>from pathlib import Path\nfrom flask import Flask\nfrom reroute.adapters import FlaskAdapter\nfrom config import AppConfig\n\n# Create Flask app\napp = Flask(__name__)\n\n# Initialize REROUTE adapter\nadapter = FlaskAdapter(\n    flask_app=app,\n    app_dir=Path(__file__).parent / \"app\",\n    config=AppConfig\n)\n\n# Register all file-based routes\nadapter.register_routes()\n\n# Root endpoint\n@adapter.get('/')\ndef root():\n    \"\"\"Welcome endpoint showing API information\"\"\"\n    return {\n        \"message\": \"Welcome to My Flask API\",\n        \"version\": \"1.0.0\",\n        \"docs\": \"/swagger/\",\n        \"openapi\": \"/openapi.json\"\n    }\n\n# Health check endpoint\n@adapter.get('/health')\ndef health():\n    \"\"\"Health check endpoint\"\"\"\n    return {\n        \"status\": \"healthy\",\n        \"framework\": \"Flask + REROUTE\"\n    }\n\nif __name__ == \"__main__\":\n    adapter.run_server()\n</code></pre>"},{"location":"examples/flask-example/#pydantic-models","title":"Pydantic Models","text":"<p>app/models/user.py</p> <pre><code>from pydantic import BaseModel, EmailStr, Field\nfrom typing import Optional\nfrom datetime import datetime\n\nclass UserBase(BaseModel):\n    \"\"\"Base user schema with common fields\"\"\"\n    name: str = Field(..., min_length=2, max_length=100)\n    email: EmailStr\n    age: Optional[int] = Field(None, ge=0, le=150)\n\nclass UserCreate(BaseModel):\n    \"\"\"Schema for creating a new user\"\"\"\n    name: str\n    email: EmailStr\n    password: str = Field(..., min_length=8)\n    age: Optional[int] = None\n\nclass UserUpdate(BaseModel):\n    \"\"\"Schema for updating user (all fields optional)\"\"\"\n    name: Optional[str] = None\n    email: Optional[EmailStr] = None\n    age: Optional[int] = None\n\nclass UserResponse(BaseModel):\n    \"\"\"Schema for user responses (without password)\"\"\"\n    id: int\n    name: str\n    email: EmailStr\n    age: Optional[int] = None\n    created_at: datetime\n</code></pre>"},{"location":"examples/flask-example/#file-based-routes","title":"File-Based Routes","text":""},{"location":"examples/flask-example/#important-using-reroutes-parameter-system","title":"Important: Using REROUTE's Parameter System","text":"<p>Always use REROUTE's parameter injection: <pre><code>from reroute.params import Query, Body, Path, Header, Cookie  # \u2705 Works with Flask and FastAPI\n</code></pre></p> <p>Why? - REROUTE provides a unified parameter system that works across both Flask and FastAPI - Ensures your code is portable and framework-agnostic - Automatic validation and OpenAPI documentation generation</p>"},{"location":"examples/flask-example/#user-routes","title":"User Routes","text":"<p>app/routes/users/page.py</p> <pre><code>from reroute import RouteBase\nfrom reroute.params import Query, Body\nfrom app.models.user import UserCreate, UserUpdate, UserResponse\nfrom typing import Optional\n\n# In-memory storage (use database in production)\nusers_db = []\nnext_id = 1\n\nclass UserRoutes(RouteBase):\n    \"\"\"User management endpoints - handles both list and individual user operations\"\"\"\n    tag = \"Users\"\n\n    def get(\n        self,\n        user_id: Optional[int] = Query(default=None, description=\"User ID for specific user\"),\n        page: int = Query(default=1, ge=1, description=\"Page number\"),\n        limit: int = Query(default=10, ge=1, le=100, description=\"Items per page\")\n    ):\n        \"\"\"\n        List all users OR get a specific user\n\n        - If user_id is provided: Returns a specific user\n        - If user_id is None: Returns paginated list of users\n        \"\"\"\n        # Get specific user\n        if user_id is not None:\n            user = next((u for u in users_db if u[\"id\"] == user_id), None)\n            if not user:\n                return {\"error\": \"User not found\"}, 404\n            return user\n\n        # List all users with pagination\n        start = (page - 1) * limit\n        end = start + limit\n        paginated_users = users_db[start:end]\n\n        return {\n            \"page\": page,\n            \"limit\": limit,\n            \"total\": len(users_db),\n            \"users\": paginated_users\n        }\n\n    def post(self, user: UserCreate = Body()):\n        \"\"\"\n        Create a new user\n\n        Creates a new user with the provided information.\n        \"\"\"\n        global next_id\n\n        # Check if email already exists\n        if any(u[\"email\"] == user.email for u in users_db):\n            return {\"error\": \"Email already exists\"}, 400\n\n        new_user = {\n            \"id\": next_id,\n            \"name\": user.name,\n            \"email\": user.email,\n            \"age\": user.age,\n            \"created_at\": \"2025-11-21T00:00:00\"\n        }\n        users_db.append(new_user)\n        next_id += 1\n\n        return new_user, 201\n\n    def put(\n        self,\n        user_id: int = Query(description=\"User ID to update\"),\n        user: UserUpdate = Body()\n    ):\n        \"\"\"\n        Update user\n\n        Updates an existing user's information.\n        \"\"\"\n        user_idx = next(\n            (i for i, u in enumerate(users_db) if u[\"id\"] == user_id),\n            None\n        )\n\n        if user_idx is None:\n            return {\"error\": \"User not found\"}, 404\n\n        # Update only provided fields\n        if user.name is not None:\n            users_db[user_idx][\"name\"] = user.name\n        if user.email is not None:\n            users_db[user_idx][\"email\"] = user.email\n        if user.age is not None:\n            users_db[user_idx][\"age\"] = user.age\n\n        return users_db[user_idx]\n\n    def delete(self, user_id: int = Query(description=\"User ID to delete\")):\n        \"\"\"\n        Delete user\n\n        Deletes a user by their ID.\n        \"\"\"\n        user_idx = next(\n            (i for i, u in enumerate(users_db) if u[\"id\"] == user_id),\n            None\n        )\n\n        if user_idx is None:\n            return {\"error\": \"User not found\"}, 404\n\n        deleted_user = users_db.pop(user_idx)\n        return {\"message\": \"User deleted\", \"user\": deleted_user}\n</code></pre>"},{"location":"examples/flask-example/#product-routes","title":"Product Routes","text":"<p>app/routes/products/page.py</p> <pre><code>from reroute import RouteBase\nfrom reroute.decorators import cache, rate_limit\nfrom reroute.params import Query\n\nclass ProductRoutes(RouteBase):\n    \"\"\"Product management endpoints\"\"\"\n    tag = \"Products\"\n\n    @cache(duration=300)  # Cache for 5 minutes\n    def get(\n        self,\n        category: str = Query(default=None, description=\"Filter by category\"),\n        min_price: float = Query(default=None, ge=0, description=\"Minimum price\")\n    ):\n        \"\"\"\n        List products with optional filters\n\n        Returns a list of products, optionally filtered by category and price.\n        \"\"\"\n        products = [\n            {\"id\": 1, \"name\": \"Laptop\", \"price\": 999.99, \"category\": \"Electronics\"},\n            {\"id\": 2, \"name\": \"Mouse\", \"price\": 29.99, \"category\": \"Electronics\"},\n            {\"id\": 3, \"name\": \"Desk\", \"price\": 299.99, \"category\": \"Furniture\"},\n        ]\n\n        # Apply filters\n        if category:\n            products = [p for p in products if p[\"category\"] == category]\n        if min_price is not None:\n            products = [p for p in products if p[\"price\"] &gt;= min_price]\n\n        return {\"products\": products}\n\n    @rate_limit(\"10/min\")  # Max 10 requests per minute\n    def post(self):\n        \"\"\"\n        Create a new product\n\n        Creates a new product (rate limited to prevent abuse).\n        \"\"\"\n        return {\"message\": \"Product created\"}, 201\n</code></pre>"},{"location":"examples/flask-example/#running-the-application","title":"Running the Application","text":"<pre><code># Development (with auto-reload)\npython main.py\n\n# Production\nadapter.run_server(debug=False, threaded=True)\n</code></pre>"},{"location":"examples/flask-example/#api-documentation","title":"API Documentation","text":"<p>Once running, access the documentation at:</p> <ul> <li>Swagger UI: http://localhost:7376/swagger/</li> <li>Scalar UI: http://localhost:7376/scalar/</li> <li>OpenAPI JSON: http://localhost:7376/openapi.json</li> </ul>"},{"location":"examples/flask-example/#testing","title":"Testing","text":"<p>REROUTE can automatically generate <code>.http</code> test files when you use the <code>--http-test</code> flag. These files contain pre-configured HTTP requests for testing your API directly in VS Code (with REST Client extension) or other HTTP clients.</p>"},{"location":"examples/flask-example/#auto-generated-http-test-files","title":"Auto-Generated HTTP Test Files","text":"<p>If you used <code>--http-test</code> when creating routes, you'll have test files in the <code>tests/</code> directory with ready-to-use requests:</p> <p>tests/users.http (auto-generated) <pre><code>### List all users\nGET http://localhost:7376/users\n\n### Create a new user\nPOST http://localhost:7376/users\nContent-Type: application/json\n\n{\n  \"name\": \"Test User\",\n  \"email\": \"test@example.com\",\n  \"password\": \"password123\",\n  \"age\": 25\n}\n\n### Get specific user\nGET http://localhost:7376/users?user_id=1\n\n### Update user\nPUT http://localhost:7376/users?user_id=1\nContent-Type: application/json\n\n{\n  \"name\": \"Updated Name\",\n  \"age\": 30\n}\n\n### Delete user\nDELETE http://localhost:7376/users?user_id=1\n</code></pre></p>"},{"location":"examples/flask-example/#manual-http-files","title":"Manual .http Files","text":"<p>You can also create custom test files manually:</p> <p>test_users.http</p> <pre><code>### Get all users\nGET http://localhost:7376/users\n\n### Create a new user\nPOST http://localhost:7376/users\nContent-Type: application/json\n\n{\n  \"name\": \"John Doe\",\n  \"email\": \"john@example.com\",\n  \"password\": \"securepass123\",\n  \"age\": 30\n}\n\n### Get specific user (using query parameter)\nGET http://localhost:7376/users?user_id=1\n\n### Update user (using query parameter)\nPUT http://localhost:7376/users?user_id=1\nContent-Type: application/json\n\n{\n  \"name\": \"John Updated\",\n  \"age\": 31\n}\n\n### Delete user (using query parameter)\nDELETE http://localhost:7376/users?user_id=1\n</code></pre>"},{"location":"examples/flask-example/#how-to-use-http-files","title":"How to Use .http Files","text":"<p>VS Code (Recommended): 1. Install the REST Client extension 2. Open any <code>.http</code> file 3. Click \"Send Request\" above each request or press <code>Ctrl+Alt+R</code></p> <p>Other Clients: - IntelliJ IDEA / PyCharm (built-in support) - Postman (import as collection) - Insomnia (import as workspace)</p>"},{"location":"examples/flask-example/#using-curl","title":"Using curl","text":"<pre><code># List users\ncurl http://localhost:7376/users\n\n# Create user\ncurl -X POST http://localhost:7376/users \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"name\":\"Jane\",\"email\":\"jane@example.com\",\"password\":\"pass123\",\"age\":25}'\n\n# Get user by ID (using query parameter)\ncurl \"http://localhost:7376/users?user_id=1\"\n\n# Update user (using query parameter)\ncurl -X PUT \"http://localhost:7376/users?user_id=1\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"name\":\"Jane Updated\"}'\n\n# Delete user (using query parameter)\ncurl -X DELETE \"http://localhost:7376/users?user_id=1\"\n</code></pre>"},{"location":"examples/flask-example/#key-features-demonstrated","title":"Key Features Demonstrated","text":"<ol> <li>OpenAPI Documentation - Automatic Swagger UI with Spectree</li> <li>Request Validation - Pydantic models for type safety</li> <li>Query Parameters - Pagination and filtering</li> <li>Body Validation - Structured request bodies</li> <li>Rate Limiting - Protect endpoints from abuse</li> <li>Caching - Improve performance for expensive operations</li> <li>CORS - Cross-origin requests for frontend integration</li> <li>Error Handling - Proper HTTP status codes</li> <li>File-Based Routing - Organized route structure</li> <li>Auto-Generated HTTP Tests - <code>.http</code> files with <code>--http-test</code> flag</li> </ol>"},{"location":"examples/flask-example/#troubleshooting","title":"Troubleshooting","text":""},{"location":"examples/flask-example/#problem-1-indentationerror-in-configpy","title":"Problem 1: IndentationError in config.py","text":"<p>Error: <pre><code>IndentationError: unexpected indent\n</code></pre></p> <p>Solution: This is caused by a bug in earlier versions of the REROUTE template. Update REROUTE to the latest version: <pre><code>pip install --upgrade reroute\n</code></pre></p> <p>Or manually fix <code>config.py</code> by ensuring each line under <code>class OpenAPI:</code> is properly indented with 8 spaces.</p>"},{"location":"examples/flask-example/#problem-2-modulenotfounderror-no-module-named-spectree","title":"Problem 2: ModuleNotFoundError: No module named 'spectree'","text":"<p>Error: <pre><code>ModuleNotFoundError: No module named 'spectree'\n</code></pre></p> <p>Solution: Flask adapter requires Spectree for OpenAPI support. Install it: <pre><code>pip install spectree\n</code></pre></p> <p>Or install with Flask extras: <pre><code>pip install reroute[flask]\n</code></pre></p>"},{"location":"examples/flask-example/#problem-3-routes-not-being-registered","title":"Problem 3: Routes not being registered","text":"<p>Symptom: Routes defined in <code>app/routes/</code> are not accessible (404 errors)</p> <p>Common Causes: 1. Missing page.py file: Route files must be named <code>page.py</code> 2. Wrong directory structure: Ensure routes are in <code>app/routes/</code> 3. Class not inheriting RouteBase: Route class must inherit from <code>reroute.RouteBase</code></p> <p>Solution: <pre><code># Correct structure:\n# app/routes/users/page.py\nfrom reroute import RouteBase\n\nclass UserRoutes(RouteBase):  # Must inherit RouteBase\n    def get(self):\n        return {\"message\": \"Users\"}\n</code></pre></p>"},{"location":"examples/flask-example/#problem-4-swagger-ui-shows-404","title":"Problem 4: Swagger UI shows 404","text":"<p>Symptom: Accessing <code>/swagger/</code> returns 404</p> <p>Solutions: 1. Check <code>config.py</code> has OpenAPI enabled: <pre><code>class OpenAPI:\n    ENABLE = True\n    DOCS_PATH = \"/docs\"\n</code></pre></p> <ol> <li> <p>Ensure Spectree is installed: <code>pip install spectree</code></p> </li> <li> <p>Verify Flask app is using the adapter: <pre><code>adapter = FlaskAdapter(flask_app=app, app_dir=\"./app\", config=AppConfig)\nadapter.register_routes()\n</code></pre></p> </li> </ol>"},{"location":"examples/flask-example/#problem-5-cors-errors-in-browser","title":"Problem 5: CORS errors in browser","text":"<p>Error: <code>Access-Control-Allow-Origin</code> header missing</p> <p>Solution: Enable CORS in <code>config.py</code>: <pre><code>class AppConfig(Config):\n    ENABLE_CORS = True\n    CORS_ALLOW_ORIGINS = [\"http://localhost:3000\"]  # Add your frontend URL\n    CORS_ALLOW_METHODS = [\"GET\", \"POST\", \"PUT\", \"DELETE\"]\n</code></pre></p> <p>Or install Flask-CORS manually if not working: <pre><code>pip install flask-cors\n</code></pre></p>"},{"location":"examples/flask-example/#next-steps","title":"Next Steps","text":"<ul> <li>Add database integration (SQLAlchemy, Peewee)</li> <li>Implement authentication (JWT, OAuth2)</li> <li>Add input sanitization</li> <li>Set up logging and monitoring</li> <li>Deploy to production</li> </ul>"},{"location":"examples/flask-example/#see-also","title":"See Also","text":"<ul> <li>Flask Adapter Documentation</li> <li>FastAPI Example</li> <li>Configuration Guide</li> </ul>"},{"location":"examples/rate-limiting/","title":"Rate Limiting Example","text":"<p>Protect your API with rate limiting.</p>"},{"location":"examples/rate-limiting/#basic-rate-limiting","title":"Basic Rate Limiting","text":"<pre><code>from reroute import RouteBase\nfrom reroute.decorators import rate_limit\n\nclass APIRoutes(RouteBase):\n    @rate_limit(\"5/min\")\n    def post(self):\n        \"\"\"Max 5 requests per minute\"\"\"\n        return {\"created\": True}\n\n    @rate_limit(\"100/hour\")\n    def get(self):\n        \"\"\"Max 100 requests per hour\"\"\"\n        return {\"data\": \"...\"}\n</code></pre>"},{"location":"examples/rate-limiting/#different-limits-per-method","title":"Different Limits per Method","text":"<pre><code>class UserRoutes(RouteBase):\n    @rate_limit(\"100/min\")\n    def get(self):\n        \"\"\"Generous limit for reads\"\"\"\n        return {\"users\": []}\n\n    @rate_limit(\"10/min\")\n    def post(self):\n        \"\"\"Stricter limit for writes\"\"\"\n        return {\"created\": True}\n\n    @rate_limit(\"3/min\")\n    def delete(self):\n        \"\"\"Very strict for deletions\"\"\"\n        return {\"deleted\": True}\n</code></pre>"},{"location":"examples/rate-limiting/#how-rate-limiting-works","title":"How Rate Limiting Works","text":"<p>When a rate limit is exceeded, REROUTE automatically returns a <code>429 Too Many Requests</code> response:</p> <pre><code>{\n  \"error\": \"Rate limit exceeded\",\n  \"limit\": \"5/min\",\n  \"retry_after\": 42\n}\n</code></pre> <p>The <code>@rate_limit</code> decorator tracks requests per IP address and returns the error response automatically - no custom error handling needed!</p>"},{"location":"examples/rate-limiting/#testing","title":"Testing","text":"<pre><code># Hit endpoint multiple times\nfor i in {1..10}; do\n    curl http://localhost:8000/api\ndone\n</code></pre>"},{"location":"getting-started/","title":"Getting Started","text":"<p>Welcome to REROUTE!</p> <p>Here's where you'll learn how to get started with REROUTE and build your first file-based routed API.</p> <p>This tutorial will guide you through installation, your first route, and core concepts step by step.</p>"},{"location":"getting-started/#what-is-reroute","title":"What is REROUTE?","text":"<p>REROUTE is a modern routing framework that brings Next.js-style file-based routing to Python web frameworks. Instead of manually registering routes, you organize them in folders and files - REROUTE handles the rest.</p>"},{"location":"getting-started/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.8 or higher</li> <li>A web framework (FastAPI or Flask)</li> <li>Basic understanding of REST APIs</li> </ul>"},{"location":"getting-started/#installation-options","title":"Installation Options","text":""},{"location":"getting-started/#from-pypi-recommended","title":"From PyPI (Recommended)","text":"<pre><code>pip install reroute\n</code></pre>"},{"location":"getting-started/#with-specific-framework-support","title":"With specific framework support","text":"FastAPIFlaskAll frameworks <pre><code>pip install reroute[fastapi]\n</code></pre> <pre><code>pip install reroute[flask]\n</code></pre> <pre><code>pip install reroute[all]\n</code></pre>"},{"location":"getting-started/#from-source","title":"From Source","text":"<pre><code>git clone https://github.com/cbsajan/reroute.git\ncd reroute\npip install -e .\n</code></pre>"},{"location":"getting-started/#next-steps","title":"Next Steps","text":"<ul> <li> <p>Quick Start</p> <p>Build your first REROUTE app in 5 minutes.</p> <p> Quick Start</p> </li> <li> <p>First Route</p> <p>Create your first file-based route.</p> <p> First Route</p> </li> </ul>"},{"location":"getting-started/first-route/","title":"Your First Route","text":"<p>Let's create your first file-based route with REROUTE.</p>"},{"location":"getting-started/first-route/#understanding-file-based-routing","title":"Understanding File-based Routing","text":"<p>In REROUTE, the folder structure determines your API routes:</p> <pre><code>app/routes/\n\u2514\u2500\u2500 user/\n    \u2514\u2500\u2500 page.py  \u2192 /user endpoint\n</code></pre> <p>The <code>page.py</code> file contains the route logic as a class.</p>"},{"location":"getting-started/first-route/#creating-a-simple-route","title":"Creating a Simple Route","text":""},{"location":"getting-started/first-route/#1-create-the-file-structure","title":"1. Create the File Structure","text":"<pre><code>mkdir -p app/routes/hello\n</code></pre>"},{"location":"getting-started/first-route/#2-create-the-route-handler","title":"2. Create the Route Handler","text":"<p>Create <code>app/routes/hello/page.py</code>:</p> <pre><code>from reroute import RouteBase\n\nclass HelloRoutes(RouteBase):\n    \"\"\"Simple hello world route\"\"\"\n\n    def get(self):\n        \"\"\"Handle GET requests\"\"\"\n        return {\"message\": \"Hello, REROUTE!\"}\n</code></pre>"},{"location":"getting-started/first-route/#3-register-with-your-app","title":"3. Register with Your App","text":"<p>In your <code>main.py</code>:</p> <pre><code>from fastapi import FastAPI\nfrom reroute.adapters import FastAPIAdapter\nfrom pathlib import Path\n\napp = FastAPI()\nadapter = FastAPIAdapter(\n    fastapi_app=app,\n    app_dir=Path(__file__).parent / \"app\"\n)\nadapter.register_routes()\n</code></pre>"},{"location":"getting-started/first-route/#4-test-it","title":"4. Test It","text":"<pre><code>curl http://localhost:8000/hello\n# {\"message\": \"Hello, REROUTE!\"}\n</code></pre>"},{"location":"getting-started/first-route/#adding-multiple-http-methods","title":"Adding Multiple HTTP Methods","text":"<p>Handle different HTTP methods with corresponding class methods:</p> <pre><code>from reroute import RouteBase\n\nclass TodoRoutes(RouteBase):\n    \"\"\"Todo management routes\"\"\"\n\n    tag = \"Todos\"\n\n    def __init__(self):\n        super().__init__()\n        self.todos = []\n\n    def get(self):\n        \"\"\"Get all todos\"\"\"\n        return {\"todos\": self.todos}\n\n    def post(self):\n        \"\"\"Create a todo\"\"\"\n        todo = {\"id\": len(self.todos) + 1, \"title\": \"New Todo\"}\n        self.todos.append(todo)\n        return {\"created\": todo}\n\n    def put(self):\n        \"\"\"Update a todo\"\"\"\n        return {\"message\": \"Todo updated\"}\n\n    def delete(self):\n        \"\"\"Delete a todo\"\"\"\n        if self.todos:\n            deleted = self.todos.pop()\n            return {\"deleted\": deleted}\n        return {\"message\": \"No todos to delete\"}\n</code></pre>"},{"location":"getting-started/first-route/#adding-custom-swagger-tags","title":"Adding Custom Swagger Tags","text":"<p>Organize your API documentation with custom tags:</p> <pre><code>class UserRoutes(RouteBase):\n    tag = \"User Management\"  # Shows in Swagger UI\n\n    def get(self):\n        return {\"users\": []}\n</code></pre>"},{"location":"getting-started/first-route/#using-state","title":"Using State","text":"<p>Store state in your route class:</p> <pre><code>class CounterRoutes(RouteBase):\n    \"\"\"Simple counter API\"\"\"\n\n    def __init__(self):\n        super().__init__()\n        self.count = 0\n\n    def get(self):\n        \"\"\"Get current count\"\"\"\n        return {\"count\": self.count}\n\n    def post(self):\n        \"\"\"Increment count\"\"\"\n        self.count += 1\n        return {\"count\": self.count}\n</code></pre>"},{"location":"getting-started/first-route/#route-method-signatures","title":"Route Method Signatures","text":"<p>Each HTTP method can accept different parameters based on your framework:</p> FastAPIFlask <pre><code>from fastapi import Request, Response\n\nclass MyRoutes(RouteBase):\n    def get(self, request: Request):\n        return {\"ip\": request.client.host}\n\n    async def post(self, request: Request):\n        body = await request.json()\n        return {\"received\": body}\n</code></pre> <pre><code>from flask import request\n\nclass MyRoutes(RouteBase):\n    def get(self):\n        return {\"ip\": request.remote_addr}\n\n    def post(self):\n        body = request.get_json()\n        return {\"received\": body}\n</code></pre>"},{"location":"getting-started/first-route/#next-steps","title":"Next Steps","text":"<ul> <li> <p> File-based Routing</p> <p>Learn nested routes and dynamic segments</p> </li> <li> <p> Decorators</p> <p>Add rate limiting, caching, and validation</p> </li> <li> <p> Lifecycle Hooks</p> <p>Control request/response flow</p> </li> </ul>"},{"location":"getting-started/installation/","title":"Installation","text":"<p>Learn how to install REROUTE in your Python project.</p> <p>Current Version</p> <p>Latest Release: v0.2.4 Python Support: 3.8, 3.9, 3.10, 3.11, 3.12</p>"},{"location":"getting-started/installation/#requirements","title":"Requirements","text":"<ul> <li>Python: 3.8 or higher</li> <li>Framework: FastAPI or Flask (at least one)</li> </ul>"},{"location":"getting-started/installation/#basic-installation","title":"Basic Installation","text":"pipuv (Recommended) <pre><code>pip install reroute\n</code></pre> <p>This installs the core REROUTE package without framework dependencies.</p> <pre><code>uv pip install reroute\n</code></pre> <p>uv is an ultra-fast Python package installer written in Rust. It's 10-100x faster than pip.</p> <p>Install uv first: <pre><code># macOS/Linux\ncurl -LsSf https://astral.sh/uv/install.sh | sh\n\n# Windows\npowershell -c \"irm https://astral.sh/uv/install.ps1 | iex\"\n\n# Or with pip\npip install uv\n</code></pre></p> <p>Lazy Loading</p> <p>REROUTE uses lazy imports for framework adapters. You only need to install the framework you're actually using.</p> <p>pyproject.toml Support</p> <p>REROUTE projects include <code>pyproject.toml</code> for modern dependency management with uv.</p>"},{"location":"getting-started/installation/#framework-specific-installation","title":"Framework-Specific Installation","text":"<p>Install REROUTE with support for your specific framework:</p> FastAPI (pip)FastAPI (uv)Flask (pip)Flask (uv) <pre><code>pip install reroute[fastapi]\n</code></pre> <p>This includes FastAPI and Uvicorn.</p> <pre><code>uv pip install reroute[fastapi]\n</code></pre> <p>Faster installation with uv.</p> <pre><code>pip install reroute[flask]\n</code></pre> <p>This includes Flask, Flask-CORS, and Spectree.</p> <pre><code>uv pip install reroute[flask]\n</code></pre> <p>Faster installation with uv.</p>"},{"location":"getting-started/installation/#development-installation","title":"Development Installation","text":"<p>For contributing to REROUTE:</p> pipuv (Faster) <pre><code># Clone the repository\ngit clone https://github.com/cbsajan/reroute.git\ncd reroute\n\n# Create virtual environment\npython -m venv venv\nsource venv/bin/activate  # On Windows: venv\\Scripts\\activate\n\n# Install in editable mode with dev dependencies\npip install -e \".[dev]\"\n</code></pre> <pre><code># Clone the repository\ngit clone https://github.com/cbsajan/reroute.git\ncd reroute\n\n# Create virtual environment with uv\nuv venv\nsource .venv/bin/activate  # On Windows: .venv\\Scripts\\activate\n\n# Install in editable mode with dev dependencies\nuv pip install -e \".[dev]\"\n</code></pre>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<p>Check that REROUTE is installed correctly:</p> <pre><code>python -c \"import reroute; print(reroute.__version__)\"\n</code></pre> <p>Or use the CLI:</p> <pre><code>reroute --version\n# Output: REROUTE CLI v0.2.3\n</code></pre> <p>Update Notifications</p> <p>REROUTE automatically checks for updates when you run CLI commands. You'll see a notification if a newer version is available.</p>"},{"location":"getting-started/installation/#update-reroute","title":"Update REROUTE","text":"<p>To update to the latest version:</p> <pre><code>pip install --upgrade reroute\n</code></pre>"},{"location":"getting-started/installation/#uninstall","title":"Uninstall","text":"<p>To remove REROUTE:</p> <pre><code>pip uninstall reroute\n</code></pre>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<ul> <li>Quick Start Guide - Build your first app</li> <li>First Route - Create your first route</li> </ul>"},{"location":"getting-started/quickstart/","title":"Quick Start","text":"<p>Build your first REROUTE application in 5 minutes using CLI commands.</p>"},{"location":"getting-started/quickstart/#step-1-install-reroute","title":"Step 1: Install REROUTE","text":"pipuv (faster) <pre><code>pip install reroute[fastapi]\n</code></pre> <pre><code>uv pip install reroute[fastapi]\n</code></pre>"},{"location":"getting-started/quickstart/#step-2-initialize-your-project","title":"Step 2: Initialize Your Project","text":"<p>Use the REROUTE CLI to create your project structure automatically:</p> <pre><code>$ reroute init my-reroute-app --framework fastapi\n\n==================================================\nREROUTE Project Initialization\n==================================================\n\n? Would you like to generate test cases? Yes\n? Would you like to set up a database? No\n\n==================================================\nProject Configuration Review\n==================================================\n  Project Name: my-reroute-app\n  Framework: FASTAPI\n  Host: 0.0.0.0\n  Port: 7376\n  Include Tests: Yes\n==================================================\n\n? Does this look correct? Yes\n\nCreating project: my-reroute-app\n\n  [ OK ] Creating project structure\n  [ OK ] Creating config.py\n  [ OK ] Creating logger.py\n  [ OK ] Generating FASTAPI application\n  [ OK ] Creating example route\n  [ OK ] Creating root and health routes\n  [ OK ] Creating test cases\n  [ OK ] Creating .env.example\n  [ OK ] Creating requirements.txt\n  [ OK ] Creating pyproject.toml\n\n==================================================\n[SUCCESS] Project created successfully!\n==================================================\n\n  Project: my-reroute-app\n  Framework: FASTAPI\n  Location: /path/to/my-reroute-app\n\nNext Steps:\n  1. cd my-reroute-app\n  2. uv venv\n  3. uv sync\n  4. uv run main.py\n\nHappy Coding!\n\nAPI Docs: http://localhost:7376/docs\n</code></pre> <p>This creates a complete project structure:</p> <pre><code>my-reroute-app/\n    app/\n        __init__.py\n        routes/\n            __init__.py\n    main.py           # Auto-generated entry point\n    pyproject.toml    # Modern dependency management\n    .gitignore\n</code></pre> <p>Optional: Install project dependencies:</p> pipuv (faster) <pre><code>pip install -e .\n</code></pre> <pre><code>uv pip install -e .\n</code></pre> <p>Modern Python Packaging</p> <p>REROUTE projects include <code>pyproject.toml</code> for modern dependency management. Use <code>uv</code> for faster installations.</p>"},{"location":"getting-started/quickstart/#step-3-generate-a-route","title":"Step 3: Generate a Route","text":"<p>Use the CLI to generate your first route:</p> <pre><code>$ reroute create route --path /user --name User --methods GET,POST\n\n  [ OK ] Creating route directory\n  [ OK ] Generating route file\n\n==================================================\n[SUCCESS] Route created successfully!\n==================================================\n\n  Route: /user\n  File: app/routes/user/page.py\n  Methods: GET, POST\n  Tag: User\n</code></pre> <p>This creates <code>app/routes/user/page.py</code> with GET and POST methods:</p> <pre><code>from reroute import RouteBase\nfrom reroute.decorators import rate_limit, cache\n\nclass UserRoutes(RouteBase):\n    \"\"\"UserRoutes handles /user endpoints.\"\"\"\n\n    tag = \"User\"\n\n    def __init__(self):\n        super().__init__()\n        self.data = []\n\n    @cache(duration=60)\n    def get(self):\n        \"\"\"Handle GET requests - retrieve user\"\"\"\n        return {\n            \"users\": [\n                {\"id\": 1, \"name\": \"Alice\"},\n                {\"id\": 2, \"name\": \"Bob\"}\n            ]\n        }\n\n    @rate_limit(\"10/min\")\n    def post(self):\n        \"\"\"Handle POST requests - create new user\"\"\"\n        return {\"message\": \"User created\", \"id\": 3}\n</code></pre> <p>Customize</p> <p>Edit the generated file to customize the response data and add your business logic.</p>"},{"location":"getting-started/quickstart/#step-4-your-application-is-ready","title":"Step 4: Your Application is Ready","text":"<p>The <code>reroute init</code> command already created <code>main.py</code> for you:</p> <pre><code>from fastapi import FastAPI\nfrom reroute.adapters import FastAPIAdapter\nfrom pathlib import Path\n\napp = FastAPI(title=\"My REROUTE App\")\n\nadapter = FastAPIAdapter(\n    fastapi_app=app,\n    app_dir=Path(__file__).parent / \"app\"\n)\nadapter.register_routes()\n\nif __name__ == \"__main__\":\n    import uvicorn\n    uvicorn.run(app, host=\"0.0.0.0\", port=8000)\n</code></pre> <p>No manual setup required. Everything is configured and ready to run.</p>"},{"location":"getting-started/quickstart/#step-5-run-the-application","title":"Step 5: Run the Application","text":"<pre><code>$ python main.py\nINFO:     Started server process [12345]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)\n</code></pre> <p>Visit:</p> <ul> <li>API Docs: http://localhost:8000/docs</li> <li>Users endpoint: http://localhost:8000/user</li> </ul>"},{"location":"getting-started/quickstart/#step-6-test-your-api","title":"Step 6: Test Your API","text":"<pre><code>// Get users\n$ curl http://localhost:8000/user\n{\"users\":[{\"id\":1,\"name\":\"Alice\"},{\"id\":2,\"name\":\"Bob\"}]}\n\n// Create user\n$ curl -X POST http://localhost:8000/user\n{\"message\":\"User created\",\"id\":3}\n</code></pre>"},{"location":"getting-started/quickstart/#add-more-features","title":"Add More Features","text":""},{"location":"getting-started/quickstart/#rate-limiting","title":"Rate Limiting","text":"<pre><code>from reroute import RouteBase\nfrom reroute.decorators import rate_limit\n\nclass UserRoutes(RouteBase):\n    @rate_limit(\"5/min\")  # Limit to 5 requests per minute\n    def post(self):\n        return {\"message\": \"User created\"}\n</code></pre>"},{"location":"getting-started/quickstart/#caching","title":"Caching","text":"<pre><code>from reroute import RouteBase\nfrom reroute.decorators import cache\n\nclass UserRoutes(RouteBase):\n    @cache(duration=60)  # Cache for 60 seconds\n    def get(self):\n        return {\"users\": [...]}\n</code></pre>"},{"location":"getting-started/quickstart/#lifecycle-hooks","title":"Lifecycle Hooks","text":"<pre><code>class UserRoutes(RouteBase):\n    def before_request(self):\n        print(\"Authenticating user...\")\n        return None  # Continue to handler\n\n    def after_request(self, response):\n        response[\"timestamp\"] = \"2024-01-15T10:30:00Z\"\n        return response\n</code></pre>"},{"location":"getting-started/quickstart/#next-steps","title":"Next Steps","text":"<ul> <li> <p>File-based Routing</p> <p>Learn how folder structure maps to routes.</p> <p> File Routing</p> </li> <li> <p>Decorators</p> <p>Master rate limiting, caching, and more.</p> <p> Decorators</p> </li> <li> <p>API Reference</p> <p>Explore all REROUTE features.</p> <p> API Reference</p> </li> </ul>"},{"location":"guides/","title":"Guides","text":"<p>Comprehensive guides to master REROUTE's features.</p>"},{"location":"guides/#core-concepts","title":"Core Concepts","text":"<ul> <li> <p>File-based Routing</p> <p>Learn how folder structure maps to API routes.</p> <p> File Routing</p> </li> <li> <p>Class-based Routes</p> <p>Build routes using Python classes.</p> <p> Class Routes</p> </li> <li> <p>Decorators</p> <p>Rate limiting, caching, validation, and more.</p> <p> Decorators</p> </li> <li> <p>Lifecycle Hooks</p> <p>Control request/response flow.</p> <p> Lifecycle Hooks</p> </li> </ul>"},{"location":"guides/#configuration","title":"Configuration","text":"<ul> <li> <p>Configuration</p> <p>Customize REROUTE's behavior.</p> <p> Configuration</p> </li> <li> <p>CORS Setup</p> <p>Configure cross-origin requests.</p> <p> CORS</p> </li> <li> <p>Security</p> <p>Security headers and best practices.</p> <p> Security</p> </li> <li> <p>Troubleshooting</p> <p>Common issues and solutions.</p> <p> Troubleshooting</p> </li> </ul>"},{"location":"guides/#topics","title":"Topics","text":"Guide Description File-based Routing Organize routes by filesystem Class-based Routes HTTP methods as class methods Decorators Built-in and custom decorators Lifecycle Hooks before_request, after_request, on_error Configuration Custom configuration options CORS Setup Enable and configure CORS Security Security headers and best practices Error Handling Handle errors gracefully Testing Test your REROUTE applications Troubleshooting Common issues and solutions"},{"location":"guides/#whats-next","title":"What's Next?","text":"<p>After reading the guides, check out:</p> <ul> <li>Adapters - Framework-specific integration</li> <li>Examples - Real-world patterns</li> <li>API Reference - Complete API documentation</li> </ul>"},{"location":"guides/class-routes/","title":"Class-based Routes","text":"<p>Build routes using Python classes with HTTP methods.</p>"},{"location":"guides/class-routes/#basic-structure","title":"Basic Structure","text":"<pre><code>from reroute import RouteBase\n\nclass MyRoutes(RouteBase):\n    def get(self):\n        \"\"\"Handle GET requests\"\"\"\n        return {\"message\": \"GET\"}\n\n    def post(self):\n        \"\"\"Handle POST requests\"\"\"\n        return {\"message\": \"POST\"}\n</code></pre>"},{"location":"guides/class-routes/#http-methods","title":"HTTP Methods","text":"<p>Supported methods: - <code>get()</code> - GET requests - <code>post()</code> - POST requests - <code>put()</code> - PUT requests - <code>delete()</code> - DELETE requests - <code>patch()</code> - PATCH requests</p>"},{"location":"guides/class-routes/#constructor","title":"Constructor","text":"<p>Initialize state in <code>__init__</code>:</p> <pre><code>class UserRoutes(RouteBase):\n    def __init__(self):\n        super().__init__()\n        self.users = []\n</code></pre>"},{"location":"guides/class-routes/#custom-tags","title":"Custom Tags","text":"<p>Set Swagger tags:</p> <pre><code>class UserRoutes(RouteBase):\n    tag = \"User Management\"\n</code></pre>"},{"location":"guides/class-routes/#learn-more","title":"Learn More","text":"<ul> <li>Lifecycle Hooks</li> <li>Decorators</li> </ul>"},{"location":"guides/configuration/","title":"Configuration","text":"<p>Customize REROUTE's behavior with configuration options.</p>"},{"location":"guides/configuration/#basic-configuration","title":"Basic Configuration","text":"<pre><code>from reroute import Config\n\nclass MyConfig(Config):\n    PORT = 8000\n    HOST = \"0.0.0.0\"\n    DEBUG = True\n</code></pre>"},{"location":"guides/configuration/#available-options","title":"Available Options","text":""},{"location":"guides/configuration/#server-settings","title":"Server Settings","text":"<ul> <li><code>PORT</code> - Server port (default: 8000)</li> <li><code>HOST</code> - Server host (default: \"127.0.0.1\")</li> <li><code>DEBUG</code> - Debug mode (default: False)</li> <li><code>AUTO_RELOAD</code> - Auto-reload on changes (default: True)</li> </ul>"},{"location":"guides/configuration/#routing","title":"Routing","text":"<ul> <li><code>API_BASE_PATH</code> - Base path for routes (default: \"/\")</li> <li><code>ROUTES_DIR</code> - Routes directory (default: \"app/routes\")</li> </ul>"},{"location":"guides/configuration/#cors","title":"CORS","text":"<ul> <li><code>ENABLE_CORS</code> - Enable CORS (default: False)</li> <li><code>CORS_ALLOW_ORIGINS</code> - Allowed origins</li> <li><code>CORS_ALLOW_METHODS</code> - Allowed methods</li> <li><code>CORS_ALLOW_HEADERS</code> - Allowed headers</li> </ul>"},{"location":"guides/configuration/#logging","title":"Logging","text":"<ul> <li><code>VERBOSE_LOGGING</code> - Verbose logs (default: False)</li> <li><code>LOG_LEVEL</code> - Log level (default: \"INFO\")</li> </ul>"},{"location":"guides/configuration/#openapi-documentation","title":"OpenAPI Documentation","text":"<p>Configure API documentation using the <code>OpenAPI</code> nested class:</p> <pre><code>class MyConfig(Config):\n    class OpenAPI:\n        ENABLE = True                    # Enable/disable OpenAPI docs\n        TITLE = \"My API\"                 # API title\n        VERSION = \"1.0.0\"                # API version\n        DESCRIPTION = \"My API docs\"      # API description\n        DOCS_PATH = \"/docs\"              # Swagger UI path\n        REDOC_PATH = \"/redoc\"            # ReDoc path (set to None to disable)\n        JSON_PATH = \"/openapi.json\"      # OpenAPI JSON specification path\n</code></pre>"},{"location":"guides/configuration/#adapter-specific-behavior","title":"Adapter-Specific Behavior","text":"<p>FastAPI:</p> <ul> <li><code>JSON_PATH</code> is fully customizable and defines the exact URL endpoint</li> <li>Required when <code>ENABLE = True</code> (application exits with error if <code>None</code>)</li> </ul> <pre><code>JSON_PATH = \"/api/v1/openapi.json\"  # Spec available at this exact URL\n</code></pre> <p>Flask (Spectree):</p> <ul> <li><code>JSON_PATH</code> setting is not used</li> <li>The JSON specification path is automatically derived from <code>DOCS_PATH</code></li> </ul> <pre><code>DOCS_PATH = \"/docs\"   # JSON spec available at: /docs/openapi.json\nDOCS_PATH = \"/api\"    # JSON spec available at: /api/openapi.json\n</code></pre>"},{"location":"guides/configuration/#usage","title":"Usage","text":"<pre><code>from reroute.adapters import FastAPIAdapter\n\nadapter = FastAPIAdapter(\n    fastapi_app=app,\n    app_dir=path,\n    config=MyConfig\n)\n</code></pre>"},{"location":"guides/cors/","title":"CORS Setup","text":"<p>Configure Cross-Origin Resource Sharing (CORS) for your API.</p>"},{"location":"guides/cors/#basic-setup","title":"Basic Setup","text":"<pre><code>from reroute import Config\n\nclass MyConfig(Config):\n    ENABLE_CORS = True\n    CORS_ALLOW_ORIGINS = [\"*\"]\n</code></pre>"},{"location":"guides/cors/#production-configuration","title":"Production Configuration","text":"<pre><code>class ProductionConfig(Config):\n    ENABLE_CORS = True\n    CORS_ALLOW_ORIGINS = [\n        \"https://yourdomain.com\",\n        \"https://app.yourdomain.com\"\n    ]\n    CORS_ALLOW_METHODS = [\"GET\", \"POST\", \"PUT\", \"DELETE\"]\n    CORS_ALLOW_HEADERS = [\"Content-Type\", \"Authorization\"]\n    CORS_ALLOW_CREDENTIALS = True\n</code></pre>"},{"location":"guides/cors/#options","title":"Options","text":"<ul> <li><code>ENABLE_CORS</code> - Enable/disable CORS</li> <li><code>CORS_ALLOW_ORIGINS</code> - Allowed origins</li> <li><code>CORS_ALLOW_METHODS</code> - Allowed HTTP methods</li> <li><code>CORS_ALLOW_HEADERS</code> - Allowed headers</li> <li><code>CORS_ALLOW_CREDENTIALS</code> - Allow credentials</li> <li><code>CORS_MAX_AGE</code> - Preflight cache duration</li> </ul>"},{"location":"guides/cors/#security-note","title":"Security Note","text":"<p>Never use <code>[\"*\"]</code> for origins in production. Always specify exact domains.</p>"},{"location":"guides/decorators/","title":"Decorators","text":"<p>Use decorators to add functionality to your routes without modifying handler logic.</p>"},{"location":"guides/decorators/#rate-limiting","title":"Rate Limiting","text":"<p>Control request frequency per endpoint.</p> <pre><code>from reroute import RouteBase\nfrom reroute.decorators import rate_limit\n\nclass MyRoutes(RouteBase):\n    # Global rate limit\n    @rate_limit(\"5/min\")\n    def post(self):\n        return {\"created\": True}\n\n    # Per-IP rate limit (v0.1.6+)\n    @rate_limit(\"10/hour\", per_ip=True)\n    def get(self):\n        return {\"data\": \"...\"}\n\n    # Custom key function\n    @rate_limit(\"100/day\", key_func=lambda self: f\"user_{self.user_id}\")\n    def delete(self):\n        return {\"deleted\": True}\n</code></pre> <p>Supported periods: <code>sec</code>, <code>min</code>, <code>hour</code>, <code>day</code></p> <p>New in v0.1.6: Per-IP rate limiting with automatic IP extraction from request headers.</p>"},{"location":"guides/decorators/#caching","title":"Caching","text":"<p>Cache responses to improve performance.</p> <pre><code>from reroute import RouteBase\nfrom reroute.decorators import cache\n\nclass MyRoutes(RouteBase):\n    @cache(duration=60)  # Cache for 60 seconds\n    def get(self):\n        return {\"data\": \"expensive_operation_result\"}\n\n    # Custom cache key\n    @cache(duration=300, key_func=lambda self: f\"user_{self.user_id}\")\n    def get(self):\n        return {\"user_data\": \"...\"}\n</code></pre> <p>Note: Cache is in-memory. For production, consider using Redis or a distributed cache system.</p>"},{"location":"guides/decorators/#request-validation","title":"Request Validation","text":""},{"location":"guides/decorators/#option-1-validate-decorator-new-in-v016","title":"Option 1: @validate Decorator (New in v0.1.6)","text":"<p>Simple validation for basic use cases.</p> <pre><code>from reroute import RouteBase\nfrom reroute.decorators import validate\n\nclass MyRoutes(RouteBase):\n    # Type validation\n    @validate(schema={\"name\": str, \"age\": int, \"email\": str})\n    def post(self, data):\n        return {\"created\": True, \"data\": data}\n\n    # Required fields\n    @validate(required_fields=[\"email\", \"password\"])\n    def post(self, data):\n        return {\"authenticated\": True}\n\n    # Custom validator\n    @validate(validator_func=lambda data: (\n        (\"@\" in data.get(\"email\", \"\"), \"Invalid email format\")\n    ))\n    def post(self, data):\n        return {\"validated\": True}\n\n    # Combined validation\n    @validate(\n        schema={\"name\": str, \"age\": int},\n        required_fields=[\"email\"],\n        validator_func=lambda data: (data[\"age\"] &gt;= 18, \"Must be 18+\")\n    )\n    def post(self, data):\n        return {\"account_created\": True}\n</code></pre> <p>When to use: - Simple type checking - Required field validation - Quick custom validators</p>"},{"location":"guides/decorators/#option-2-pydantic-models-recommended","title":"Option 2: Pydantic Models (Recommended)","text":"<p>For complex validation with better type safety and IDE support.</p> <pre><code>from reroute import RouteBase\nfrom reroute.params import Body\nfrom pydantic import BaseModel, field_validator, EmailStr\n\nclass UserCreate(BaseModel):\n    name: str\n    age: int\n    email: EmailStr\n\n    @field_validator('age')\n    def validate_age(cls, v):\n        if v &lt; 18:\n            raise ValueError('User must be 18 or older')\n        return v\n\nclass MyRoutes(RouteBase):\n    def post(self, user: UserCreate = Body()):\n        \"\"\"Automatically validates request body\"\"\"\n        return {\"validated\": True, \"user\": user.model_dump()}\n</code></pre> <p>Advantages: - Automatic validation and detailed error messages - Type hints and IDE autocomplete - OpenAPI schema generation - Advanced field validators - Nested model support</p>"},{"location":"guides/decorators/#request-timeout","title":"Request Timeout","text":"<p>Prevent long-running requests from blocking your application.</p> <pre><code>from reroute import RouteBase\nfrom reroute.decorators import timeout\nimport asyncio\nimport time\n\nclass MyRoutes(RouteBase):\n    # Async handler (recommended - works everywhere)\n    @timeout(5)\n    async def get(self):\n        await asyncio.sleep(10)  # Will timeout\n        return {\"data\": \"...\"}\n\n    # Sync handler (Unix: true timeout, Windows: best effort)\n    @timeout(30)\n    def post(self):\n        time.sleep(60)  # Will timeout\n        return {\"processed\": True}\n</code></pre> <p>Platform Support: - Async handlers: Full timeout support on all platforms (recommended) - Sync handlers on Unix/Linux/Mac: True timeout using signals - Sync handlers on Windows: Returns timeout response but function continues in background</p> <p>Best Practice</p> <p>Use async handlers (<code>async def</code>) for guaranteed timeout behavior across all platforms.</p>"},{"location":"guides/decorators/#authentication-authorization","title":"Authentication &amp; Authorization","text":"<p>Protect routes with role-based access control.</p> <pre><code>from reroute import RouteBase\nfrom reroute.decorators import requires\n\nclass MyRoutes(RouteBase):\n    # Role-based authorization\n    @requires(\"admin\")\n    def delete(self):\n        return {\"deleted\": True}\n\n    # Multiple roles (OR logic)\n    @requires(\"admin\", \"moderator\")\n    def put(self):\n        return {\"updated\": True}\n\n    # Custom authentication check\n    @requires(check_func=lambda self: self.is_authenticated())\n    def get(self):\n        return {\"data\": \"protected\"}\n</code></pre> <p>Returns: - <code>401 Unauthorized</code> if authentication fails - <code>403 Forbidden</code> if user lacks required role</p> <p>Note: Requires integration with your authentication system.</p>"},{"location":"guides/decorators/#request-logging","title":"Request Logging","text":"<p>Automatically log request details.</p> <pre><code>from reroute import RouteBase\nfrom reroute.decorators import log_requests\nimport logging\n\nlogger = logging.getLogger(__name__)\n\nclass MyRoutes(RouteBase):\n    # Default logging (prints to console)\n    @log_requests()\n    def get(self):\n        return {\"data\": \"...\"}\n\n    # Custom logger\n    @log_requests(logger_func=logger.info)\n    def post(self):\n        return {\"created\": True}\n</code></pre>"},{"location":"guides/decorators/#combining-decorators","title":"Combining Decorators","text":"<p>Stack multiple decorators for comprehensive route protection.</p> <pre><code>from reroute import RouteBase\nfrom reroute.decorators import rate_limit, cache, validate, timeout, requires\nfrom reroute.params import Body\nfrom pydantic import BaseModel\n\nclass UserCreate(BaseModel):\n    email: str\n    name: str\n    age: int\n\nclass MyRoutes(RouteBase):\n    # Multiple decorators on read endpoint\n    @rate_limit(\"10/min\", per_ip=True)\n    @cache(duration=30)\n    @timeout(5)\n    async def get(self):\n        \"\"\"Rate-limited, cached, with timeout\"\"\"\n        return {\"data\": \"...\"}\n\n    # Protected write endpoint with validation\n    @requires(\"admin\")\n    @rate_limit(\"5/min\")\n    @validate(required_fields=[\"email\", \"name\"])\n    @timeout(10)\n    def post(self, data):\n        \"\"\"Admin-only, rate-limited, validated, with timeout\"\"\"\n        return {\"created\": True, \"data\": data}\n\n    # Best practice: Pydantic validation + decorators\n    @rate_limit(\"10/min\", per_ip=True)\n    @requires(\"user\")\n    @timeout(15)\n    async def put(self, user: UserCreate = Body()):\n        \"\"\"Authenticated, rate-limited, fully validated, with timeout\"\"\"\n        return {\"updated\": True, \"user\": user.model_dump()}\n</code></pre> <p>Decorator Execution Order:</p> <p>Decorators are applied from bottom to top (closest to function first):</p> <pre><code>@cache(60)        # 3. Response cached\n@rate_limit(\"5/min\")  # 2. Check rate limit\n@timeout(10)      # 1. Start timeout timer\ndef get(self):\n    return {\"data\": \"...\"}\n</code></pre> <p>Decorator Order Matters</p> <p>Place <code>@timeout</code> closest to the function for accurate timeout measurement. Place <code>@cache</code> outermost to cache the final response (after rate limits pass).</p>"},{"location":"guides/decorators/#best-practices","title":"Best Practices","text":""},{"location":"guides/decorators/#1-choose-the-right-validation-approach","title":"1. Choose the Right Validation Approach","text":"<ul> <li>@validate decorator: Quick type checks and required fields</li> <li>Pydantic models: Complex validation, nested data, OpenAPI docs</li> </ul>"},{"location":"guides/decorators/#2-use-async-handlers-when-possible","title":"2. Use Async Handlers When Possible","text":"<pre><code># \u2705 Good: Async with timeout\n@timeout(5)\nasync def get(self):\n    await asyncio.sleep(1)\n    return {\"data\": \"...\"}\n\n# \u26a0\ufe0f OK on Unix, limited on Windows\n@timeout(5)\ndef get(self):\n    time.sleep(1)\n    return {\"data\": \"...\"}\n</code></pre>"},{"location":"guides/decorators/#3-layer-security-decorators","title":"3. Layer Security Decorators","text":"<pre><code>@requires(\"admin\")        # Authentication first\n@rate_limit(\"5/min\")      # Then rate limiting\n@validate(schema={...})   # Then validation\n@timeout(10)              # Finally timeout\ndef sensitive_operation(self, data):\n    return {\"status\": \"success\"}\n</code></pre>"},{"location":"guides/decorators/#4-per-ip-rate-limiting-for-public-apis","title":"4. Per-IP Rate Limiting for Public APIs","text":"<pre><code># \u2705 Good: Prevent abuse per client\n@rate_limit(\"100/hour\", per_ip=True)\ndef public_api(self):\n    return {\"data\": \"...\"}\n\n# \u274c Bad: Single shared limit for all users\n@rate_limit(\"100/hour\")\ndef public_api(self):\n    return {\"data\": \"...\"}\n</code></pre>"},{"location":"guides/decorators/#5-cache-expensive-operations","title":"5. Cache Expensive Operations","text":"<pre><code>@cache(duration=300)  # 5 minutes\nasync def expensive_query(self):\n    # Database query, API call, etc.\n    return await self.fetch_from_database()\n</code></pre>"},{"location":"guides/decorators/#learn-more","title":"Learn More","text":"<ul> <li>API Reference - Complete decorator documentation</li> <li>Security Guide - Best practices for securing routes</li> <li>Testing Guide - How to test decorated routes</li> </ul>"},{"location":"guides/error-handling/","title":"Error Handling","text":"<p>Learn how to properly handle errors in your REROUTE applications for robust, production-ready APIs.</p>"},{"location":"guides/error-handling/#overview","title":"Overview","text":"<p>REROUTE provides multiple ways to handle errors:</p> <ol> <li><code>on_error()</code> hook - Class-level error handling</li> <li>Framework-native exceptions - FastAPI/Flask exception handling</li> <li>Try-catch blocks - Standard Python error handling</li> <li>Global error handlers - Application-wide error handling</li> </ol>"},{"location":"guides/error-handling/#using-the-on_error-hook","title":"Using the on_error Hook","text":"<p>The <code>on_error()</code> hook is called automatically when any exception occurs in your route handlers.</p>"},{"location":"guides/error-handling/#basic-usage","title":"Basic Usage","text":"<pre><code>from reroute import RouteBase\n\nclass UserRoutes(RouteBase):\n    \"\"\"User routes with custom error handling.\"\"\"\n\n    def on_error(self, error: Exception) -&gt; dict:\n        \"\"\"\n        Handle all errors for this route class.\n\n        Args:\n            error: The exception that occurred\n\n        Returns:\n            dict: Error response (will be converted to JSON)\n        \"\"\"\n        # Log the error\n        print(f\"Error in UserRoutes: {type(error).__name__}: {error}\")\n\n        # Return user-friendly error response\n        return {\n            \"error\": \"An error occurred\",\n            \"message\": str(error),\n            \"type\": type(error).__name__\n        }\n\n    def get(self, user_id: int):\n        # This will trigger on_error if user not found\n        user = self.get_user_by_id(user_id)\n        if not user:\n            raise ValueError(f\"User {user_id} not found\")\n        return user\n</code></pre>"},{"location":"guides/error-handling/#returning-custom-status-codes","title":"Returning Custom Status Codes","text":"<pre><code>def on_error(self, error: Exception) -&gt; tuple[dict, int]:\n    \"\"\"Return custom status codes based on error type.\"\"\"\n\n    if isinstance(error, ValueError):\n        return {\"error\": \"Invalid input\", \"details\": str(error)}, 400\n\n    elif isinstance(error, KeyError):\n        return {\"error\": \"Resource not found\", \"details\": str(error)}, 404\n\n    elif isinstance(error, PermissionError):\n        return {\"error\": \"Forbidden\", \"details\": str(error)}, 403\n\n    else:\n        # Internal server error for unknown exceptions\n        return {\"error\": \"Internal server error\"}, 500\n</code></pre>"},{"location":"guides/error-handling/#framework-native-exception-handling","title":"Framework-Native Exception Handling","text":""},{"location":"guides/error-handling/#fastapi-httpexception","title":"FastAPI HTTPException","text":"<pre><code>from fastapi import HTTPException\nfrom reroute import RouteBase\n\nclass ProductRoutes(RouteBase):\n    \"\"\"Product routes using FastAPI exceptions.\"\"\"\n\n    def get(self, product_id: int):\n        product = self.find_product(product_id)\n\n        if not product:\n            raise HTTPException(\n                status_code=404,\n                detail=f\"Product {product_id} not found\"\n            )\n\n        if not self.user_has_access(product):\n            raise HTTPException(\n                status_code=403,\n                detail=\"You don't have permission to view this product\"\n            )\n\n        return product\n\n    def post(self, product_data: dict):\n        if not self.validate_product_data(product_data):\n            raise HTTPException(\n                status_code=400,\n                detail=\"Invalid product data\",\n                headers={\"X-Error-Code\": \"INVALID_DATA\"}\n            )\n\n        return self.create_product(product_data)\n</code></pre>"},{"location":"guides/error-handling/#flask-abort","title":"Flask abort()","text":"<pre><code>from flask import abort\nfrom reroute import RouteBase\n\nclass OrderRoutes(RouteBase):\n    \"\"\"Order routes using Flask abort.\"\"\"\n\n    def get(self, order_id: int):\n        order = self.find_order(order_id)\n\n        if not order:\n            abort(404, description=f\"Order {order_id} not found\")\n\n        if not self.user_owns_order(order):\n            abort(403, description=\"Access denied\")\n\n        return order\n</code></pre>"},{"location":"guides/error-handling/#try-catch-blocks","title":"Try-Catch Blocks","text":""},{"location":"guides/error-handling/#handling-specific-exceptions","title":"Handling Specific Exceptions","text":"<pre><code>from reroute import RouteBase\nimport requests\n\nclass ExternalAPIRoutes(RouteBase):\n    \"\"\"Routes that call external APIs.\"\"\"\n\n    def get(self):\n        try:\n            # Call external API\n            response = requests.get(\n                \"https://api.example.com/data\",\n                timeout=5\n            )\n            response.raise_for_status()\n            return response.json()\n\n        except requests.Timeout:\n            return {\"error\": \"External API timeout\"}, 504\n\n        except requests.HTTPError as e:\n            return {\n                \"error\": \"External API error\",\n                \"status_code\": e.response.status_code\n            }, 502\n\n        except requests.RequestException as e:\n            return {\"error\": \"Failed to connect to external API\"}, 503\n</code></pre>"},{"location":"guides/error-handling/#database-error-handling","title":"Database Error Handling","text":"<pre><code>from reroute import RouteBase\nfrom sqlalchemy.exc import IntegrityError, OperationalError\n\nclass DatabaseRoutes(RouteBase):\n    \"\"\"Routes with database operations.\"\"\"\n\n    def post(self, user_data: dict):\n        try:\n            user = User(**user_data)\n            db.session.add(user)\n            db.session.commit()\n            return {\"id\": user.id, \"created\": True}\n\n        except IntegrityError as e:\n            db.session.rollback()\n            return {\n                \"error\": \"Duplicate entry\",\n                \"message\": \"User with this email already exists\"\n            }, 409\n\n        except OperationalError as e:\n            db.session.rollback()\n            return {\n                \"error\": \"Database error\",\n                \"message\": \"Could not connect to database\"\n            }, 503\n\n        except Exception as e:\n            db.session.rollback()\n            return {\"error\": \"Failed to create user\"}, 500\n</code></pre>"},{"location":"guides/error-handling/#global-error-handlers","title":"Global Error Handlers","text":""},{"location":"guides/error-handling/#fastapi-global-exception-handler","title":"FastAPI Global Exception Handler","text":"<pre><code>from fastapi import FastAPI, Request\nfrom fastapi.responses import JSONResponse\nfrom reroute.adapters import FastAPIAdapter\n\napp = FastAPI()\n\n# Global exception handler\n@app.exception_handler(ValueError)\nasync def value_error_handler(request: Request, exc: ValueError):\n    return JSONResponse(\n        status_code=400,\n        content={\"error\": \"Invalid value\", \"detail\": str(exc)}\n    )\n\n@app.exception_handler(Exception)\nasync def global_exception_handler(request: Request, exc: Exception):\n    # Log the error\n    print(f\"Unhandled exception: {type(exc).__name__}: {exc}\")\n\n    return JSONResponse(\n        status_code=500,\n        content={\"error\": \"Internal server error\"}\n    )\n\n# Register REROUTE routes\nadapter = FastAPIAdapter(fastapi_app=app, app_dir=\"./app\")\nadapter.register_routes()\n</code></pre>"},{"location":"guides/error-handling/#flask-global-error-handler","title":"Flask Global Error Handler","text":"<pre><code>from flask import Flask, jsonify\nfrom reroute.adapters import FlaskAdapter\n\napp = Flask(__name__)\n\n# Global error handlers\n@app.errorhandler(404)\ndef not_found(error):\n    return jsonify({\"error\": \"Not found\", \"message\": str(error)}), 404\n\n@app.errorhandler(500)\ndef internal_error(error):\n    # Log the error\n    print(f\"Internal error: {error}\")\n    return jsonify({\"error\": \"Internal server error\"}), 500\n\n@app.errorhandler(Exception)\ndef handle_exception(error):\n    # Log all unhandled exceptions\n    print(f\"Unhandled exception: {type(error).__name__}: {error}\")\n\n    return jsonify({\n        \"error\": \"An error occurred\",\n        \"type\": type(error).__name__\n    }), 500\n\n# Register REROUTE routes\nadapter = FlaskAdapter(flask_app=app, app_dir=\"./app\")\nadapter.register_routes()\n</code></pre>"},{"location":"guides/error-handling/#validation-errors","title":"Validation Errors","text":""},{"location":"guides/error-handling/#pydantic-validation","title":"Pydantic Validation","text":"<pre><code>from reroute import RouteBase\nfrom reroute.params import Body\nfrom pydantic import BaseModel, Field, ValidationError\n\nclass UserCreate(BaseModel):\n    username: str = Field(..., min_length=3, max_length=50)\n    email: str = Field(..., regex=r'^[\\w\\.-]+@[\\w\\.-]+\\.\\w+$')\n    age: int = Field(..., ge=0, le=150)\n\nclass UserRoutes(RouteBase):\n    \"\"\"User routes with Pydantic validation.\"\"\"\n\n    def post(self, user: UserCreate = Body()):\n        \"\"\"\n        Pydantic automatically validates the request body.\n        Returns 422 Unprocessable Entity if validation fails.\n        \"\"\"\n        # If we reach here, validation passed\n        return self.create_user(user.model_dump())\n\n    def on_error(self, error: Exception):\n        \"\"\"Handle validation errors.\"\"\"\n        if isinstance(error, ValidationError):\n            return {\n                \"error\": \"Validation failed\",\n                \"details\": error.errors()\n            }, 422\n\n        return {\"error\": \"Internal server error\"}, 500\n</code></pre>"},{"location":"guides/error-handling/#best-practices","title":"Best Practices","text":""},{"location":"guides/error-handling/#1-dont-expose-internal-details","title":"1. Don't Expose Internal Details","text":"<p>\u274c Bad: <pre><code>def on_error(self, error: Exception):\n    return {\"error\": str(error), \"traceback\": traceback.format_exc()}, 500\n</code></pre></p> <p>\u2705 Good: <pre><code>def on_error(self, error: Exception):\n    # Log full error internally\n    logger.error(f\"Error: {error}\", exc_info=True)\n\n    # Return safe error to user\n    return {\"error\": \"An error occurred\"}, 500\n</code></pre></p>"},{"location":"guides/error-handling/#2-use-specific-error-messages","title":"2. Use Specific Error Messages","text":"<p>\u274c Bad: <pre><code>raise ValueError(\"Error\")\n</code></pre></p> <p>\u2705 Good: <pre><code>raise ValueError(f\"Invalid user ID: {user_id}. Must be a positive integer.\")\n</code></pre></p>"},{"location":"guides/error-handling/#3-log-all-errors","title":"3. Log All Errors","text":"<pre><code>import logging\n\nlogger = logging.getLogger(__name__)\n\nclass MyRoutes(RouteBase):\n    def on_error(self, error: Exception):\n        # Log with context\n        logger.error(\n            f\"Error in {self.__class__.__name__}: {error}\",\n            exc_info=True,\n            extra={\"route_class\": self.__class__.__name__}\n        )\n\n        return {\"error\": \"An error occurred\"}, 500\n</code></pre>"},{"location":"guides/error-handling/#4-use-appropriate-http-status-codes","title":"4. Use Appropriate HTTP Status Codes","text":"<ul> <li>400 Bad Request - Client sent invalid data</li> <li>401 Unauthorized - Not authenticated</li> <li>403 Forbidden - Authenticated but not authorized</li> <li>404 Not Found - Resource doesn't exist</li> <li>409 Conflict - Resource conflict (e.g., duplicate entry)</li> <li>422 Unprocessable Entity - Validation failed</li> <li>500 Internal Server Error - Unexpected server error</li> <li>502 Bad Gateway - External service error</li> <li>503 Service Unavailable - Service temporarily down</li> <li>504 Gateway Timeout - External service timeout</li> </ul>"},{"location":"guides/error-handling/#5-graceful-degradation","title":"5. Graceful Degradation","text":"<pre><code>class DataRoutes(RouteBase):\n    def get(self):\n        try:\n            # Try primary data source\n            data = self.fetch_from_primary_db()\n        except Exception as e:\n            logger.warning(f\"Primary DB failed: {e}\")\n\n            try:\n                # Fall back to cache\n                data = self.fetch_from_cache()\n            except Exception:\n                # Last resort - return empty result\n                data = []\n\n        return {\"data\": data}\n</code></pre>"},{"location":"guides/error-handling/#error-response-format","title":"Error Response Format","text":""},{"location":"guides/error-handling/#standard-format","title":"Standard Format","text":"<p>Use a consistent error response format across your API:</p> <pre><code>{\n    \"error\": \"Brief error description\",\n    \"message\": \"Detailed error message\",\n    \"code\": \"ERROR_CODE\",\n    \"details\": {},  // Optional additional context\n    \"timestamp\": \"2025-11-23T10:30:00Z\"\n}\n</code></pre>"},{"location":"guides/error-handling/#implementation","title":"Implementation","text":"<pre><code>from datetime import datetime\n\nclass BaseRoute(RouteBase):\n    \"\"\"Base class with standardized error handling.\"\"\"\n\n    def on_error(self, error: Exception):\n        error_response = {\n            \"error\": self._get_error_title(error),\n            \"message\": str(error),\n            \"code\": self._get_error_code(error),\n            \"timestamp\": datetime.utcnow().isoformat() + \"Z\"\n        }\n\n        status_code = self._get_status_code(error)\n        return error_response, status_code\n\n    def _get_error_title(self, error: Exception) -&gt; str:\n        mapping = {\n            ValueError: \"Invalid Input\",\n            KeyError: \"Resource Not Found\",\n            PermissionError: \"Access Denied\",\n        }\n        return mapping.get(type(error), \"Internal Error\")\n\n    def _get_error_code(self, error: Exception) -&gt; str:\n        return type(error).__name__.upper()\n\n    def _get_status_code(self, error: Exception) -&gt; int:\n        mapping = {\n            ValueError: 400,\n            KeyError: 404,\n            PermissionError: 403,\n        }\n        return mapping.get(type(error), 500)\n</code></pre>"},{"location":"guides/error-handling/#testing-error-handling","title":"Testing Error Handling","text":"<pre><code>import pytest\nfrom fastapi.testclient import TestClient\n\ndef test_error_handling():\n    # Test 404 error\n    response = client.get(\"/users/99999\")\n    assert response.status_code == 404\n    assert \"error\" in response.json()\n\n    # Test validation error\n    response = client.post(\"/users\", json={\"age\": -5})\n    assert response.status_code == 422\n\n    # Test server error handling\n    with pytest.raises(Exception):\n        response = client.get(\"/broken-endpoint\")\n</code></pre>"},{"location":"guides/error-handling/#next-steps","title":"Next Steps","text":"<ul> <li>Security Best Practices - Secure your error handling</li> <li>Testing - Test your error handlers</li> </ul>"},{"location":"guides/file-routing/","title":"File-based Routing","text":"<p>Learn how REROUTE maps your folder structure to API routes.</p>"},{"location":"guides/file-routing/#basic-concept","title":"Basic Concept","text":"<p>REROUTE uses your filesystem to define routes, similar to Next.js:</p> <pre><code>app/routes/\n\u251c\u2500\u2500 user/\n\u2502   \u2514\u2500\u2500 page.py        \u2192 /user\n\u2514\u2500\u2500 product/\n    \u2514\u2500\u2500 page.py        \u2192 /product\n</code></pre>"},{"location":"guides/file-routing/#nested-routes","title":"Nested Routes","text":"<p>Create nested paths with folders:</p> <pre><code>app/routes/\n\u2514\u2500\u2500 api/\n    \u2514\u2500\u2500 v1/\n        \u2514\u2500\u2500 user/\n            \u2514\u2500\u2500 page.py  \u2192 /api/v1/user\n</code></pre>"},{"location":"guides/file-routing/#dynamic-segments","title":"Dynamic Segments","text":"<p>Use brackets for dynamic route segments:</p> <pre><code>app/routes/\n\u2514\u2500\u2500 user/\n    \u2514\u2500\u2500 [id]/\n        \u2514\u2500\u2500 page.py      \u2192 /user/:id\n</code></pre>"},{"location":"guides/file-routing/#route-files","title":"Route Files","text":"<p>Each <code>page.py</code> exports a class extending <code>RouteBase</code>:</p> <pre><code>from reroute import RouteBase\n\nclass UserRoutes(RouteBase):\n    def get(self):\n        return {\"users\": []}\n</code></pre>"},{"location":"guides/file-routing/#learn-more","title":"Learn More","text":"<ul> <li>Class-based Routes</li> <li>First Route Guide</li> </ul>"},{"location":"guides/lifecycle-hooks/","title":"Lifecycle Hooks","text":"<p>Control request/response flow with lifecycle methods.</p>"},{"location":"guides/lifecycle-hooks/#before_request","title":"before_request","text":"<p>Run before every request:</p> <pre><code>class MyRoutes(RouteBase):\n    def before_request(self):\n        # Authentication, logging, etc.\n        print(\"Request received\")\n        return None  # Continue\n</code></pre>"},{"location":"guides/lifecycle-hooks/#after_request","title":"after_request","text":"<p>Process responses:</p> <pre><code>def after_request(self, response):\n    response[\"timestamp\"] = \"2024-01-15\"\n    return response\n</code></pre>"},{"location":"guides/lifecycle-hooks/#on_error","title":"on_error","text":"<p>Handle errors:</p> <pre><code>def on_error(self, error):\n    return {\n        \"error\": str(error),\n        \"status\": 500\n    }\n</code></pre>"},{"location":"guides/lifecycle-hooks/#complete-example","title":"Complete Example","text":"<pre><code>from reroute import RouteBase\n\nclass SecureRoutes(RouteBase):\n    def before_request(self):\n        if not self.check_auth():\n            raise Unauthorized()\n        return None\n\n    def after_request(self, response):\n        response[\"version\"] = \"1.0\"\n        return response\n\n    def on_error(self, error):\n        return {\"error\": str(error)}\n\n    def get(self):\n        return {\"data\": \"secure\"}\n</code></pre>"},{"location":"guides/security/","title":"Security Guide","text":"<p>Build secure REROUTE applications with comprehensive OWASP-compliant protection out of the box.</p>"},{"location":"guides/security/#overview","title":"Overview","text":"<p>REROUTE provides comprehensive security headers by default with environment-specific configurations. Maximum protection in production, developer-friendly in development. This guide covers:</p> <ul> <li>Comprehensive Security by Default: OWASP-compliant security headers applied automatically</li> <li>Environment-Aware Protection: Development-friendly policies that become strict in production</li> <li>Full Customization: Configure all aspects through the Config class</li> <li>Advanced Features: CDN domains, API whitelisting, custom headers</li> <li>Input validation and sanitization</li> <li>Authentication and authorization</li> <li>SQL injection prevention</li> <li>XSS protection</li> <li>CORS configuration (using REROUTE's built-in settings)</li> <li>API security</li> <li>Secret management</li> <li>Common vulnerabilities</li> </ul>"},{"location":"guides/security/#comprehensive-security-headers-applied-by-default","title":"Comprehensive Security Headers (Applied by Default)","text":"<p>REROUTE automatically applies these OWASP-compliant security headers in both FastAPI and Flask adapters:</p>"},{"location":"guides/security/#active-headers","title":"Active Headers","text":"Header Environment Value Purpose <code>Content-Security-Policy</code> All Environment-aware Prevents XSS, data injection, mixed content <code>X-Content-Type-Options</code> All <code>nosniff</code> Prevents MIME-type sniffing <code>X-Frame-Options</code> All <code>DENY</code> (Production) / <code>SAMEORIGIN</code> (Dev) Clickjacking protection <code>Strict-Transport-Security</code> Production Only <code>max-age=31536000; includeSubDomains</code> HTTPS enforcement <code>X-XSS-Protection</code> All <code>1; mode=block</code> Legacy browser XSS filtering <code>Referrer-Policy</code> All <code>strict-origin-when-cross-origin</code> Privacy-focused referrer control <code>Permissions-Policy</code> All Feature-specific Browser feature access control"},{"location":"guides/security/#environment-specific-behavior","title":"Environment-Specific Behavior","text":"<p>Development Environment: - Permissive CSP with <code>unsafe-inline</code> and <code>unsafe-eval</code> for development tools - HSTS disabled (no HTTPS in development) - Frame options set to <code>SAMEORIGIN</code> for dev tool compatibility - Maximum flexibility for development workflows</p> <p>Production Environment: - Strict CSP with no unsafe directives - HSTS enabled with 1-year max-age and preload support - Frame options set to <code>DENY</code> for maximum protection - OWASP-comprehensive security configuration</p>"},{"location":"guides/security/#implementation-details","title":"Implementation Details","text":"<p>FastAPI Adapter: <pre><code># reroute/adapters/fastapi.py - SecurityHeadersMiddleware\nclass SecurityHeadersMiddleware(BaseHTTPMiddleware):\n    def __init__(self, app, security_config: SecurityHeadersConfig):\n        super().__init__(app)\n        self.security_config = security_config\n\n    async def dispatch(self, request: Request, call_next):\n        response = await call_next(request)\n        # Apply all OWASP-compliant security headers\n        security_headers = self.security_config.get_security_headers()\n        for header_name, header_value in security_headers.items():\n            response.headers[header_name] = header_value\n        return response\n</code></pre></p> <p>Flask Adapter: <pre><code># reroute/adapters/flask.py - FlaskSecurityHeadersMiddleware\nclass FlaskSecurityHeadersMiddleware:\n    def __init__(self, app, security_config: SecurityHeadersConfig):\n        self.app = app\n        self.security_config = security_config\n        self.app.after_request(self._add_security_headers)\n\n    def _add_security_headers(self, response):\n        security_headers = self.security_config.get_security_headers()\n        for header_name, header_value in security_headers.items():\n            response.headers[header_name] = header_value\n        return response\n</code></pre></p>"},{"location":"guides/security/#configuration","title":"Configuration","text":"<p>Basic Configuration (Automatic): <pre><code>from reroute import Config\n\n# Security headers are applied automatically - no configuration needed\nclass MyAppConfig(Config):\n    # All security headers work out of the box\n    pass\n</code></pre></p> <p>Advanced Configuration: <pre><code>class ProductionConfig(Config):\n    # CDN domains for your assets\n    SECURITY_CDN_DOMAINS = [\"https://cdn.example.com\", \"https://assets.example.com\"]\n\n    # API endpoints for your backend\n    SECURITY_API_DOMAINS = [\"https://api.example.com\"]\n\n    # Custom security headers\n    SECURITY_CUSTOM_HEADERS = {\n        \"X-Custom-Security\": \"value\",\n        \"X-API-Version\": \"v1\"\n    }\n\n    # Strict CSP in production\n    SECURITY_X_FRAME_OPTIONS = \"DENY\"\n    SECURITY_HSTS_PRELOAD = True\n</code></pre></p>"},{"location":"guides/security/#customization-examples","title":"Customization Examples","text":"<p>Single Page Application (SPA): <pre><code># Using the factory for SPA-specific configuration\nfrom reroute.security import SecurityHeadersFactory\n\nconfig = SecurityHeadersFactory.create_for_single_page_app()\n# Automatically configured for React/Vue/Angular applications\n</code></pre></p> <pre><code># FastAPI middleware example\nfrom fastapi import FastAPI\nfrom fastapi.middleware.cors import CORSMiddleware\n\napp = FastAPI()\n\n# Add CORS (if needed)\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=[\"https://yourdomain.com\"],  # Restrict origins\n    allow_credentials=True,\n    allow_methods=[\"GET\", \"POST\"],\n    allow_headers=[\"*\"],\n)\n\n@app.middleware(\"http\")\nasync def add_security_headers(request, call_next):\n    response = await call_next(request)\n    # Additional security headers for production\n    response.headers[\"Strict-Transport-Security\"] = \"max-age=31536000; includeSubDomains\"\n    response.headers[\"Content-Security-Policy\"] = \"default-src 'self'\"\n    response.headers[\"X-XSS-Protection\"] = \"1; mode=block\"\n    return response\n</code></pre> <pre><code># Flask example\nfrom flask import Flask\nfrom flask_cors import CORS\n\napp = Flask(__name__)\n\n# Add CORS (if needed)\nCORS(app, origins=[\"https://yourdomain.com\"])\n\n@app.after_request\ndef add_security_headers(response):\n    # Additional security headers for production\n    response.headers[\"Strict-Transport-Security\"] = \"max-age=31536000; includeSubDomains\"\n    response.headers[\"Content-Security-Policy\"] = \"default-src 'self'\"\n    response.headers[\"X-XSS-Protection\"] = \"1; mode=block\"\n    return response\n</code></pre> <p>Add Security When Needed</p> <p>REROUTE provides the foundation - you add security based on your specific requirements. This approach ensures: - Development workflows aren't blocked by restrictive policies - Production security is tailored to your application's needs - You understand exactly what security measures are in place</p>"},{"location":"guides/security/#additional-security-features-available","title":"Additional Security Features Available","text":"<p>While REROUTE provides only basic security by default, you can enhance your application security with these available features:</p>"},{"location":"guides/security/#built-in-security-features-v020","title":"Built-in Security Features (v0.2.0+)","text":"<p>REROUTE includes enterprise-grade security features that protect your applications by default.</p>"},{"location":"guides/security/#1-column-validated-database-queries","title":"1. Column-Validated Database Queries","text":"<p>The <code>Model.get_all()</code> method includes built-in column validation for the <code>order_by</code> parameter, ensuring only valid database columns are accepted:</p> <pre><code>from reroute.db.models import Model\nfrom sqlalchemy import Column, String\n\nclass User(Model):\n    __tablename__ = 'users'\n    name = Column(String(100))\n    email = Column(String(100))\n\n# Valid column names work seamlessly\nusers = User.get_all(session, order_by='name')  # Works\nusers = User.get_all(session, order_by='created_at')  # Works\n\n# Invalid column names are rejected with helpful errors\nusers = User.get_all(session, order_by='invalid_column')  # Raises ValueError\n</code></pre> <p>The error message provides developer guidance: <pre><code>ValueError: Invalid order_by column: 'invalid_column'.\nValid columns are: created_at, email, id, name, updated_at\n</code></pre></p>"},{"location":"guides/security/#2-input-validated-cli-commands","title":"2. Input-Validated CLI Commands","text":"<p>All CLI commands include input validation to ensure safe operation:</p> <pre><code># Database migration commands accept validated inputs\nreroute db downgrade --steps 1  # Valid (integer 1-100)\nreroute db downgrade --steps 5  # Valid\n\n# Invalid inputs are rejected\nreroute db downgrade --steps 0    # Error: must be &gt;= 1\nreroute db downgrade --steps 101  # Error: max 100 steps\n</code></pre>"},{"location":"guides/security/#3-bounded-cache-with-lru-eviction","title":"3. Bounded Cache with LRU Eviction","text":"<p>The <code>@cache</code> decorator includes automatic memory management with configurable limits:</p> <pre><code>from reroute.decorators import cache\n\n@cache(duration=300)\ndef expensive_operation(key):\n    return perform_calculation(key)\n</code></pre> <p>Built-in cache management: - Maximum size: 1000 entries (prevents unbounded growth) - Eviction strategy: LRU (Least Recently Used) - Background cleanup: Every 60 seconds - Full observability: Errors are logged for monitoring</p>"},{"location":"guides/security/#4-fail-safe-authorization-with-requires","title":"4. Fail-Safe Authorization with @requires","text":"<p>The <code>@requires</code> decorator implements a fail-safe authorization pattern - access is denied by default unless explicitly granted:</p> <pre><code>from reroute.decorators import requires\n\n# Authentication check (returns 401 if fails)\n@requires(check_func=lambda self: self.is_authenticated())\ndef get(self):\n    return {\"data\": \"protected\"}\n\n# Role-based authorization (returns 403 if fails)\ndef is_admin(self):\n    return self.current_user.get('role') == 'admin'\n\n@requires(\"admin\", check_func=is_admin)\ndef delete_user(self, user_id: int):\n    return {\"deleted\": True}\n</code></pre> <p>Authorization response codes: - <code>401 Unauthorized</code> - Authentication failed - <code>403 Forbidden</code> - Role/permission check failed - <code>500 Internal Server Error</code> - Misconfigured decorator (fail-safe)</p> <p>Explicit Authorization Required</p> <p>When specifying roles, you must provide a <code>check_func</code> that implements your authorization logic. This ensures security is explicitly defined in your application.</p>"},{"location":"guides/security/#security-logging-owasp-a09","title":"Security Logging (OWASP A09)","text":"<p>REROUTE v0.2.0 includes a comprehensive security logging system for monitoring and SIEM integration.</p>"},{"location":"guides/security/#securitylogger","title":"SecurityLogger","text":"<p>The <code>SecurityLogger</code> provides structured JSON logging for security-relevant events:</p> <pre><code>from reroute.logging import security_logger\n\n# Log authentication events\nsecurity_logger.log_auth_success(user=\"john@example.com\", ip_address=\"192.168.1.1\")\nsecurity_logger.log_auth_failure(user=\"unknown\", reason=\"Invalid password\", ip_address=\"192.168.1.1\")\n\n# Log authorization events\nsecurity_logger.log_authz_failure(\n    user=\"john@example.com\",\n    resource=\"/admin/users\",\n    required_roles=[\"admin\"],\n    ip_address=\"192.168.1.1\"\n)\n\n# Log rate limiting\nsecurity_logger.log_rate_limit(endpoint=\"/api/login\", ip_address=\"10.0.0.1\", limit=\"5/min\")\n\n# Log validation failures\nsecurity_logger.log_validation_failure(endpoint=\"/api/users\", errors=[\"Invalid email format\"])\n\n# Log suspicious activity\nsecurity_logger.log_suspicious(description=\"Unusual request pattern detected\", ip_address=\"10.0.0.1\")\n</code></pre>"},{"location":"guides/security/#security-event-types","title":"Security Event Types","text":"Event Type Severity Use Case <code>AUTH_SUCCESS</code> INFO Successful login <code>AUTH_FAILURE</code> MEDIUM Failed login attempt <code>AUTHZ_FAILURE</code> MEDIUM Permission denied <code>RATE_LIMIT_EXCEEDED</code> MEDIUM Rate limit hit <code>VALIDATION_FAILURE</code> LOW Invalid input <code>SUSPICIOUS_REQUEST</code> HIGH Anomaly detected"},{"location":"guides/security/#automatic-sensitive-data-redaction","title":"Automatic Sensitive Data Redaction","text":"<p>The security logger automatically redacts sensitive fields from logs:</p> <pre><code># These fields are automatically redacted\nSENSITIVE_FIELDS = {\n    'password', 'secret', 'token', 'api_key', 'credit_card',\n    'ssn', 'private_key', 'connection_string', ...\n}\n\n# Example: password is automatically redacted\nsecurity_logger.log_auth_failure(user=\"john\", password=\"secret123\")\n# Output: {\"user\": \"john\", \"password\": \"[REDACTED]\", ...}\n</code></pre>"},{"location":"guides/security/#json-output-for-siem-integration","title":"JSON Output for SIEM Integration","text":"<p>All security events are logged in JSON format for easy integration with security tools:</p> <pre><code>{\n  \"timestamp\": \"2025-11-28T10:30:00.000Z\",\n  \"event_type\": \"auth_failure\",\n  \"severity\": \"MEDIUM\",\n  \"message\": \"Authentication failed: Invalid password\",\n  \"details\": {\n    \"user\": \"john@example.com\",\n    \"ip_address\": \"192.168.1.100\",\n    \"reason\": \"Invalid password\"\n  }\n}\n</code></pre>"},{"location":"guides/security/#integration-with-decorators","title":"Integration with Decorators","text":"<p>Security logging is automatically integrated with REROUTE decorators:</p> <pre><code>from reroute.decorators import rate_limit, requires\n\n# Rate limit events are automatically logged\n@rate_limit(\"5/min\", per_ip=True)\ndef post(self):\n    return {\"created\": True}\n# When limit exceeded: security_logger.log_rate_limit() is called\n\n# Authorization failures are automatically logged\n@requires(\"admin\", check_func=is_admin)\ndef delete(self):\n    return {\"deleted\": True}\n# When denied: security_logger.log_authz_failure() is called\n</code></pre>"},{"location":"guides/security/#input-validation","title":"Input Validation","text":""},{"location":"guides/security/#always-validate-user-input","title":"Always Validate User Input","text":"<p>\u274c Dangerous: <pre><code>from reroute import RouteBase\n\nclass UserRoutes(RouteBase):\n    def get(self, user_id: int):\n        # Direct database query - SQL injection risk!\n        query = f\"SELECT * FROM users WHERE id = {user_id}\"\n        result = db.execute(query)\n        return result\n</code></pre></p> <p>\u2705 Safe: <pre><code>from reroute import RouteBase\nfrom reroute.params import Query\nfrom pydantic import BaseModel, Field, field_validator\n\nclass UserQuery(BaseModel):\n    user_id: int = Field(..., ge=1, le=999999)\n\n    @field_validator('user_id')\n    @classmethod\n    def validate_user_id(cls, v):\n        if v &lt; 0:\n            raise ValueError('User ID must be positive')\n        return v\n\nclass UserRoutes(RouteBase):\n    def get(self, query: UserQuery = Query()):\n        # Parameterized query - safe from SQL injection\n        result = db.execute(\n            \"SELECT * FROM users WHERE id = :id\",\n            {\"id\": query.user_id}\n        )\n        return result\n</code></pre></p>"},{"location":"guides/security/#pydantic-validation","title":"Pydantic Validation","text":"<pre><code>from pydantic import BaseModel, Field, field_validator, EmailStr\nfrom reroute import RouteBase\nfrom reroute.params import Body\n\nclass UserCreate(BaseModel):\n    username: str = Field(..., min_length=3, max_length=50, pattern=r'^[a-zA-Z0-9_]+$')\n    email: EmailStr\n    password: str = Field(..., min_length=8)\n    age: int = Field(..., ge=13, le=120)\n\n    @field_validator('password')\n    @classmethod\n    def validate_password(cls, v):\n        if not any(c.isupper() for c in v):\n            raise ValueError('Password must contain uppercase letter')\n        if not any(c.isdigit() for c in v):\n            raise ValueError('Password must contain number')\n        return v\n\nclass UserRoutes(RouteBase):\n    def post(self, user: UserCreate = Body()):\n        # Input is validated automatically\n        hashed_password = self.hash_password(user.password)\n        return self.create_user(user.username, user.email, hashed_password)\n</code></pre>"},{"location":"guides/security/#sql-injection-prevention","title":"SQL Injection Prevention","text":""},{"location":"guides/security/#use-parameterized-queries","title":"Use Parameterized Queries","text":"<p>\u274c Vulnerable: <pre><code>def search(self, query: str):\n    # NEVER do this!\n    sql = f\"SELECT * FROM products WHERE name LIKE '%{query}%'\"\n    return db.execute(sql)\n</code></pre></p> <p>\u2705 Safe - SQLAlchemy: <pre><code>from sqlalchemy import text\n\ndef search(self, query: str):\n    # Parameterized query\n    sql = text(\"SELECT * FROM products WHERE name LIKE :query\")\n    return db.execute(sql, {\"query\": f\"%{query}%\"})\n</code></pre></p> <p>\u2705 Safe - Raw SQL with psycopg2: <pre><code>import psycopg2\n\ndef search(self, query: str):\n    cursor = conn.cursor()\n    # Parameterized query\n    cursor.execute(\n        \"SELECT * FROM products WHERE name LIKE %s\",\n        (f\"%{query}%\",)\n    )\n    return cursor.fetchall()\n</code></pre></p>"},{"location":"guides/security/#orm-best-practices","title":"ORM Best Practices","text":"<pre><code>from sqlalchemy.orm import Session\nfrom models import User\n\nclass UserRoutes(RouteBase):\n    def get(self, username: str, db: Session):\n        # ORM handles parameterization\n        user = db.query(User).filter(User.username == username).first()\n        return user\n</code></pre>"},{"location":"guides/security/#xss-cross-site-scripting-prevention","title":"XSS (Cross-Site Scripting) Prevention","text":""},{"location":"guides/security/#sanitize-html-input","title":"Sanitize HTML Input","text":"<pre><code>import bleach\nfrom reroute import RouteBase\nfrom reroute.params import Body\n\nALLOWED_TAGS = ['p', 'br', 'strong', 'em', 'a']\nALLOWED_ATTRIBUTES = {'a': ['href', 'title']}\n\nclass PostRoutes(RouteBase):\n    def post(self, content: str = Body()):\n        # Sanitize HTML content\n        clean_content = bleach.clean(\n            content,\n            tags=ALLOWED_TAGS,\n            attributes=ALLOWED_ATTRIBUTES,\n            strip=True\n        )\n\n        return self.create_post(clean_content)\n</code></pre>"},{"location":"guides/security/#escape-user-content","title":"Escape User Content","text":"<pre><code>import html\n\nclass CommentRoutes(RouteBase):\n    def post(self, comment: str = Body()):\n        # Escape HTML entities\n        safe_comment = html.escape(comment)\n        return self.create_comment(safe_comment)\n</code></pre>"},{"location":"guides/security/#cors-configuration","title":"CORS Configuration","text":""},{"location":"guides/security/#using-reroutes-built-in-cors-settings","title":"Using REROUTE's Built-in CORS Settings","text":"<p>REROUTE provides built-in CORS configuration through the <code>Config</code> class.</p> <p>\u274c Insecure Default: <pre><code># config.py\nfrom reroute import Config\n\nclass AppConfig(Config):\n    # Default CORS settings - INSECURE for production!\n    ENABLE_CORS = True\n    CORS_ALLOW_ORIGINS = [\"*\"]  # Allows ALL origins!\n    CORS_ALLOW_METHODS = [\"GET\", \"POST\", \"PUT\", \"DELETE\", \"PATCH\", \"OPTIONS\"]\n    CORS_ALLOW_HEADERS = [\"*\"]\n    CORS_ALLOW_CREDENTIALS = False\n</code></pre></p> <p>\u2705 Secure Production Configuration: <pre><code># config.py\nfrom reroute import Config\n\nclass AppConfig(Config):\n    # Secure CORS for production\n    ENABLE_CORS = True\n    CORS_ALLOW_ORIGINS = [\n        \"https://yourdomain.com\",\n        \"https://app.yourdomain.com\"\n    ]\n    CORS_ALLOW_METHODS = [\"GET\", \"POST\", \"PUT\", \"DELETE\"]\n    CORS_ALLOW_HEADERS = [\"Authorization\", \"Content-Type\"]\n    CORS_ALLOW_CREDENTIALS = True  # Allow cookies/auth headers\n</code></pre></p>"},{"location":"guides/security/#environment-specific-cors","title":"Environment-Specific CORS","text":"<pre><code># config.py\nfrom reroute import Config\nimport os\n\nclass AppConfig(Config):\n    # Load CORS origins from environment variable\n    CORS_ALLOW_ORIGINS = os.getenv(\n        \"CORS_ORIGINS\",\n        \"http://localhost:3000\"  # Default for development\n    ).split(\",\")\n\n    CORS_ALLOW_METHODS = [\"GET\", \"POST\", \"PUT\", \"DELETE\"]\n    CORS_ALLOW_HEADERS = [\"Authorization\", \"Content-Type\"]\n    CORS_ALLOW_CREDENTIALS = True\n</code></pre>"},{"location":"guides/security/#env-file","title":".env File","text":"<pre><code># .env.production\nCORS_ORIGINS=https://yourdomain.com,https://app.yourdomain.com\n\n# .env.development\nCORS_ORIGINS=http://localhost:3000,http://localhost:8080\n</code></pre>"},{"location":"guides/security/#disable-cors-internal-apis","title":"Disable CORS (Internal APIs)","text":"<pre><code>class InternalAPIConfig(Config):\n    # Disable CORS for internal-only APIs\n    ENABLE_CORS = False\n</code></pre> <p>Security Risk</p> <p>NEVER use <code>CORS_ALLOW_ORIGINS = [\"*\"]</code> with <code>CORS_ALLOW_CREDENTIALS = True</code> in production! This allows any website to make authenticated requests to your API.</p>"},{"location":"guides/security/#authentication","title":"Authentication","text":""},{"location":"guides/security/#jwt-authentication","title":"JWT Authentication","text":"<pre><code>import jwt\nfrom datetime import datetime, timedelta\nfrom reroute import RouteBase\nfrom reroute.params import Header\nfrom fastapi import HTTPException\n\nSECRET_KEY = \"your-secret-key\"  # Load from environment!\nALGORITHM = \"HS256\"\n\nclass AuthRoutes(RouteBase):\n    def post(self, username: str, password: str):\n        \"\"\"Login endpoint.\"\"\"\n        # Verify credentials\n        user = self.authenticate_user(username, password)\n        if not user:\n            raise HTTPException(status_code=401, detail=\"Invalid credentials\")\n\n        # Create JWT token\n        payload = {\n            \"user_id\": user.id,\n            \"username\": user.username,\n            \"exp\": datetime.utcnow() + timedelta(hours=1)\n        }\n        token = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\n\n        return {\"access_token\": token, \"token_type\": \"bearer\"}\n\nclass ProtectedRoutes(RouteBase):\n    \"\"\"Routes requiring authentication.\"\"\"\n\n    def before_request(self):\n        \"\"\"Verify JWT token before processing request.\"\"\"\n        token = self.get_auth_token()\n\n        if not token:\n            return {\"error\": \"Missing authentication token\"}, 401\n\n        try:\n            payload = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])\n            self.current_user = payload\n            return None  # Continue to handler\n\n        except jwt.ExpiredSignatureError:\n            return {\"error\": \"Token expired\"}, 401\n\n        except jwt.InvalidTokenError:\n            return {\"error\": \"Invalid token\"}, 401\n\n    def get_auth_token(self):\n        \"\"\"Extract token from Authorization header.\"\"\"\n        from flask import request\n        auth_header = request.headers.get('Authorization')\n\n        if auth_header and auth_header.startswith('Bearer '):\n            return auth_header[7:]\n        return None\n\n    def get(self):\n        # Access authenticated user\n        return {\"user\": self.current_user}\n</code></pre>"},{"location":"guides/security/#password-hashing","title":"Password Hashing","text":"<pre><code>import bcrypt\n\nclass UserRoutes(RouteBase):\n    def post(self, username: str, password: str):\n        # Hash password before storing\n        salt = bcrypt.gensalt()\n        hashed = bcrypt.hashpw(password.encode('utf-8'), salt)\n\n        user = self.create_user(username, hashed.decode('utf-8'))\n        return {\"id\": user.id, \"username\": user.username}\n\n    def verify_password(self, plain_password: str, hashed_password: str) -&gt; bool:\n        \"\"\"Verify password against hash.\"\"\"\n        return bcrypt.checkpw(\n            plain_password.encode('utf-8'),\n            hashed_password.encode('utf-8')\n        )\n</code></pre>"},{"location":"guides/security/#authorization","title":"Authorization","text":""},{"location":"guides/security/#role-based-access-control-rbac","title":"Role-Based Access Control (RBAC)","text":"<pre><code>from functools import wraps\nfrom fastapi import HTTPException\n\ndef require_role(role: str):\n    \"\"\"Decorator to require specific role.\"\"\"\n    def decorator(func):\n        @wraps(func)\n        def wrapper(self, *args, **kwargs):\n            if not hasattr(self, 'current_user'):\n                raise HTTPException(status_code=401, detail=\"Not authenticated\")\n\n            user_roles = self.current_user.get('roles', [])\n            if role not in user_roles:\n                raise HTTPException(\n                    status_code=403,\n                    detail=f\"Requires {role} role\"\n                )\n\n            return func(self, *args, **kwargs)\n        return wrapper\n    return decorator\n\nclass AdminRoutes(RouteBase):\n    @require_role('admin')\n    def delete(self, user_id: int):\n        \"\"\"Only admins can delete users.\"\"\"\n        self.delete_user(user_id)\n        return {\"deleted\": True}\n\n    @require_role('moderator')\n    def put(self, user_id: int, banned: bool):\n        \"\"\"Moderators can ban users.\"\"\"\n        self.update_user(user_id, banned=banned)\n        return {\"updated\": True}\n</code></pre>"},{"location":"guides/security/#permission-checks","title":"Permission Checks","text":"<pre><code>class ResourceRoutes(RouteBase):\n    def get(self, resource_id: int):\n        resource = self.find_resource(resource_id)\n\n        # Check ownership\n        if resource.owner_id != self.current_user['user_id']:\n            raise HTTPException(status_code=403, detail=\"Access denied\")\n\n        return resource\n\n    def put(self, resource_id: int, data: dict):\n        resource = self.find_resource(resource_id)\n\n        # Check if user can edit\n        if not self.can_user_edit(self.current_user, resource):\n            raise HTTPException(\n                status_code=403,\n                detail=\"You don't have permission to edit this resource\"\n            )\n\n        return self.update_resource(resource_id, data)\n</code></pre>"},{"location":"guides/security/#api-security","title":"API Security","text":""},{"location":"guides/security/#rate-limiting","title":"Rate Limiting","text":"<p>Use REROUTE's built-in <code>@rate_limit</code> decorator:</p> <pre><code>from reroute.decorators import rate_limit\n\nclass APIRoutes(RouteBase):\n    @rate_limit(\"100/hour\")\n    def get(self):\n        \"\"\"Limit to 100 requests per hour per IP.\"\"\"\n        return {\"data\": \"...\"}\n\n    @rate_limit(\"5/min\")\n    def post(self):\n        \"\"\"Limit POST to 5 requests per minute.\"\"\"\n        return {\"created\": True}\n</code></pre>"},{"location":"guides/security/#api-key-authentication","title":"API Key Authentication","text":"<pre><code>import secrets\n\nclass APIKeyRoutes(RouteBase):\n    VALID_API_KEYS = {\n        \"key_prod_xxx\": {\"name\": \"Production App\", \"rate_limit\": \"1000/hour\"},\n        \"key_dev_yyy\": {\"name\": \"Development\", \"rate_limit\": \"100/hour\"}\n    }\n\n    def before_request(self):\n        \"\"\"Verify API key.\"\"\"\n        api_key = self.get_api_key()\n\n        if not api_key or api_key not in self.VALID_API_KEYS:\n            return {\"error\": \"Invalid API key\"}, 401\n\n        # Store API key info for rate limiting\n        self.api_key_info = self.VALID_API_KEYS[api_key]\n        return None\n\n    def get_api_key(self):\n        from flask import request\n        return request.headers.get('X-API-Key')\n\n    def get(self):\n        return {\n            \"data\": \"...\",\n            \"api_key\": self.api_key_info['name']\n        }\n</code></pre>"},{"location":"guides/security/#generate-secure-api-keys","title":"Generate Secure API Keys","text":"<pre><code>def generate_api_key() -&gt; str:\n    \"\"\"Generate cryptographically secure API key.\"\"\"\n    return f\"key_{secrets.token_urlsafe(32)}\"\n</code></pre>"},{"location":"guides/security/#secret-management","title":"Secret Management","text":""},{"location":"guides/security/#environment-variables","title":"Environment Variables","text":"<p>\u274c Never hardcode secrets: <pre><code>SECRET_KEY = \"my-secret-key-123\"  # NEVER!\nDATABASE_URL = \"postgresql://user:pass@localhost/db\"  # NEVER!\n</code></pre></p> <p>\u2705 Use environment variables: <pre><code>import os\n\nSECRET_KEY = os.getenv(\"SECRET_KEY\")\nDATABASE_URL = os.getenv(\"DATABASE_URL\")\n\nif not SECRET_KEY:\n    raise ValueError(\"SECRET_KEY environment variable not set\")\n</code></pre></p>"},{"location":"guides/security/#using-python-dotenv","title":"Using python-dotenv","text":"<pre><code># .env file (DO NOT commit to git!)\nSECRET_KEY=your-secret-key-here\nDATABASE_URL=postgresql://user:pass@localhost/mydb\nJWT_SECRET=another-secret-key\n\n# main.py\nfrom dotenv import load_dotenv\nimport os\n\nload_dotenv()  # Load .env file\n\nSECRET_KEY = os.getenv(\"SECRET_KEY\")\nDATABASE_URL = os.getenv(\"DATABASE_URL\")\n</code></pre>"},{"location":"guides/security/#gitignore","title":".gitignore","text":"<pre><code># .gitignore\n.env\n.env.local\n.env.production\n*.key\n*.pem\nsecrets/\n</code></pre>"},{"location":"guides/security/#httpstls","title":"HTTPS/TLS","text":""},{"location":"guides/security/#force-https-in-production","title":"Force HTTPS in Production","text":"<pre><code>from fastapi import Request\nfrom fastapi.responses import RedirectResponse\nimport os\n\nasync def https_redirect_middleware(request: Request, call_next):\n    \"\"\"Redirect HTTP to HTTPS in production.\"\"\"\n    if os.getenv(\"ENV\") == \"production\":\n        if request.url.scheme != \"https\":\n            url = request.url.replace(scheme=\"https\")\n            return RedirectResponse(url, status_code=301)\n\n    return await call_next(request)\n\napp.middleware(\"http\")(https_redirect_middleware)\n</code></pre>"},{"location":"guides/security/#hsts-headers","title":"HSTS Headers","text":"<pre><code>@app.middleware(\"http\")\nasync def add_security_headers(request: Request, call_next):\n    response = await call_next(request)\n\n    # Strict-Transport-Security\n    response.headers[\"Strict-Transport-Security\"] = \"max-age=31536000; includeSubDomains\"\n\n    # Additional security headers\n    response.headers[\"X-Content-Type-Options\"] = \"nosniff\"\n    response.headers[\"X-Frame-Options\"] = \"DENY\"\n    response.headers[\"X-XSS-Protection\"] = \"1; mode=block\"\n\n    return response\n</code></pre>"},{"location":"guides/security/#common-vulnerabilities","title":"Common Vulnerabilities","text":""},{"location":"guides/security/#1-mass-assignment","title":"1. Mass Assignment","text":"<p>\u274c Vulnerable: <pre><code>def put(self, user_id: int, data: dict):\n    # User can set any field, including is_admin!\n    user = User.query.get(user_id)\n    for key, value in data.items():\n        setattr(user, key, value)\n    db.session.commit()\n</code></pre></p> <p>\u2705 Safe: <pre><code>from pydantic import BaseModel\n\nclass UserUpdate(BaseModel):\n    username: str\n    email: str\n    # is_admin is NOT in this model\n\ndef put(self, user_id: int, data: UserUpdate):\n    user = User.query.get(user_id)\n    user.username = data.username\n    user.email = data.email\n    # is_admin cannot be modified\n    db.session.commit()\n</code></pre></p>"},{"location":"guides/security/#2-insecure-direct-object-references-idor","title":"2. Insecure Direct Object References (IDOR)","text":"<p>\u274c Vulnerable: <pre><code>def get(self, order_id: int):\n    # Any user can access any order!\n    return Order.query.get(order_id)\n</code></pre></p> <p>\u2705 Safe: <pre><code>def get(self, order_id: int):\n    order = Order.query.get(order_id)\n\n    # Verify ownership\n    if order.user_id != self.current_user['user_id']:\n        raise HTTPException(status_code=403, detail=\"Access denied\")\n\n    return order\n</code></pre></p>"},{"location":"guides/security/#3-server-side-request-forgery-ssrf","title":"3. Server-Side Request Forgery (SSRF)","text":"<p>\u274c Vulnerable: <pre><code>import requests\n\ndef fetch(self, url: str):\n    # Can access internal services!\n    response = requests.get(url)\n    return response.text\n</code></pre></p> <p>\u2705 Safe: <pre><code>import requests\nfrom urllib.parse import urlparse\n\nALLOWED_DOMAINS = [\"api.example.com\", \"cdn.example.com\"]\n\ndef fetch(self, url: str):\n    parsed = urlparse(url)\n\n    # Check scheme\n    if parsed.scheme not in [\"http\", \"https\"]:\n        raise ValueError(\"Invalid URL scheme\")\n\n    # Check domain whitelist\n    if parsed.netloc not in ALLOWED_DOMAINS:\n        raise ValueError(\"Domain not allowed\")\n\n    # Prevent internal network access\n    if parsed.hostname in [\"localhost\", \"127.0.0.1\"] or \\\n       parsed.hostname.startswith(\"192.168.\") or \\\n       parsed.hostname.startswith(\"10.\"):\n        raise ValueError(\"Cannot access internal network\")\n\n    response = requests.get(url, timeout=5)\n    return response.text\n</code></pre></p>"},{"location":"guides/security/#security-checklist","title":"Security Checklist","text":""},{"location":"guides/security/#before-production","title":"Before Production","text":"<ul> <li>[ ] All secrets in environment variables (not hardcoded)</li> <li>[ ] Input validation on all endpoints</li> <li>[ ] SQL injection prevention (parameterized queries)</li> <li>[ ] XSS protection (sanitize HTML)</li> <li>[ ] CORS configured correctly (use REROUTE's <code>Config.CORS_ALLOW_ORIGINS</code>)</li> <li>[ ] No <code>CORS_ALLOW_ORIGINS = [\"*\"]</code> in production</li> <li>[ ] HTTPS enforced</li> <li>[ ] Rate limiting on sensitive endpoints (use <code>@rate_limit</code>)</li> <li>[ ] Authentication implemented</li> <li>[ ] Authorization checks on protected resources</li> <li>[ ] Password hashing (bcrypt/argon2)</li> <li>[ ] CSRF protection (if using cookies)</li> <li>[ ] Security headers configured</li> <li>[ ] Error messages don't expose internal details</li> <li>[ ] Logging configured (but don't log sensitive data)</li> <li>[ ] Dependencies up to date (<code>pip list --outdated</code>)</li> <li>[ ] Security audit run (<code>bandit</code>, <code>safety check</code>)</li> </ul>"},{"location":"guides/security/#regular-maintenance","title":"Regular Maintenance","text":"<ul> <li>[ ] Update dependencies monthly</li> <li>[ ] Rotate secrets/API keys quarterly</li> <li>[ ] Review access logs for suspicious activity</li> <li>[ ] Test backup/restore procedures</li> <li>[ ] Review and update CORS origins</li> <li>[ ] Audit user permissions</li> <li>[ ] Check for security advisories</li> </ul>"},{"location":"guides/security/#security-tools","title":"Security Tools","text":""},{"location":"guides/security/#bandit-security-linter","title":"Bandit (Security Linter)","text":"<pre><code>pip install bandit\n\n# Scan your code\nbandit -r app/\n\n# Generate report\nbandit -r app/ -f html -o security-report.html\n</code></pre>"},{"location":"guides/security/#safety-dependency-scanner","title":"Safety (Dependency Scanner)","text":"<pre><code>pip install safety\n\n# Check for known vulnerabilities\nsafety check\n\n# Check requirements file\nsafety check -r requirements.txt\n</code></pre>"},{"location":"guides/security/#next-steps","title":"Next Steps","text":"<ul> <li>Configuration - REROUTE's built-in security settings</li> <li>Error Handling - Handle security errors properly</li> <li>Testing - Test security features</li> <li>Deployment - Secure production deployment</li> </ul>"},{"location":"guides/testing/","title":"Testing REROUTE Applications","text":"<p>Learn how to test your REROUTE routes, hooks, and decorators to ensure reliability and quality.</p>"},{"location":"guides/testing/#overview","title":"Overview","text":"<p>This guide focuses on testing REROUTE-specific features:</p> <ul> <li>Unit testing RouteBase classes</li> <li>Testing hooks (before_request, after_request, on_error)</li> <li>Testing REROUTE decorators (@rate_limit, @cache, @timeout)</li> <li>Testing route parameters</li> <li>Testing async route handlers</li> <li>Integration testing (HTTP endpoints)</li> <li>Database testing</li> <li>CI/CD integration</li> </ul>"},{"location":"guides/testing/#quick-start","title":"Quick Start","text":""},{"location":"guides/testing/#install-testing-dependencies","title":"Install Testing Dependencies","text":"<pre><code>pip install pytest pytest-asyncio\n</code></pre>"},{"location":"guides/testing/#project-structure","title":"Project Structure","text":"<pre><code>my-app/\n\u251c\u2500\u2500 app/\n\u2502   \u251c\u2500\u2500 routes/\n\u2502   \u2502   \u2514\u2500\u2500 users/\n\u2502   \u2502       \u2514\u2500\u2500 page.py\n\u2502   \u251c\u2500\u2500 models/\n\u2502   \u2514\u2500\u2500 database.py\n\u251c\u2500\u2500 tests/\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 conftest.py\n\u2502   \u251c\u2500\u2500 test_user_routes.py\n\u2502   \u2514\u2500\u2500 test_hooks.py\n\u2514\u2500\u2500 pytest.ini\n</code></pre>"},{"location":"guides/testing/#unit-testing-routebase-classes","title":"Unit Testing RouteBase Classes","text":"<p>Test your route classes directly without HTTP overhead.</p>"},{"location":"guides/testing/#basic-route-class-test","title":"Basic Route Class Test","text":"<pre><code># app/routes/users/page.py\nfrom reroute import RouteBase\n\nclass UserRoutes(RouteBase):\n    def get(self):\n        \"\"\"Get all users.\"\"\"\n        return {\"users\": self.get_all_users()}\n\n    def post(self, username: str, email: str):\n        \"\"\"Create a user.\"\"\"\n        user = self.create_user(username, email)\n        return {\"user\": user, \"created\": True}\n\n    def get_all_users(self):\n        # Business logic\n        return [{\"id\": 1, \"username\": \"alice\"}]\n\n    def create_user(self, username, email):\n        # Business logic\n        return {\"id\": 2, \"username\": username, \"email\": email}\n</code></pre> <pre><code># tests/test_user_routes.py\nimport pytest\nfrom app.routes.users.page import UserRoutes\n\ndef test_get_users():\n    \"\"\"Test GET handler returns user list.\"\"\"\n    route = UserRoutes()\n    result = route.get()\n\n    assert \"users\" in result\n    assert isinstance(result[\"users\"], list)\n    assert len(result[\"users\"]) &gt; 0\n\ndef test_post_user():\n    \"\"\"Test POST handler creates user.\"\"\"\n    route = UserRoutes()\n    result = route.post(username=\"testuser\", email=\"test@example.com\")\n\n    assert result[\"created\"] is True\n    assert result[\"user\"][\"username\"] == \"testuser\"\n    assert result[\"user\"][\"email\"] == \"test@example.com\"\n\ndef test_business_logic():\n    \"\"\"Test business logic methods directly.\"\"\"\n    route = UserRoutes()\n\n    # Test get_all_users\n    users = route.get_all_users()\n    assert len(users) &gt;= 1\n\n    # Test create_user\n    new_user = route.create_user(\"newuser\", \"new@example.com\")\n    assert new_user[\"username\"] == \"newuser\"\n</code></pre>"},{"location":"guides/testing/#testing-hooks","title":"Testing Hooks","text":""},{"location":"guides/testing/#testing-before_request-hook","title":"Testing before_request Hook","text":"<pre><code># app/routes/protected/page.py\nfrom reroute import RouteBase\n\nclass ProtectedRoutes(RouteBase):\n    def before_request(self):\n        \"\"\"Check authentication before processing request.\"\"\"\n        if not hasattr(self, 'auth_token'):\n            return {\"error\": \"Missing auth token\"}, 401\n\n        if self.auth_token != \"valid-token-123\":\n            return {\"error\": \"Invalid token\"}, 401\n\n        # Continue to handler\n        return None\n\n    def get(self):\n        return {\"data\": \"protected data\", \"user\": \"authenticated\"}\n</code></pre> <pre><code># tests/test_hooks.py\nimport pytest\nfrom app.routes.protected.page import ProtectedRoutes\n\ndef test_before_request_missing_token():\n    \"\"\"Test before_request blocks request without token.\"\"\"\n    route = ProtectedRoutes()\n    # Don't set auth_token\n\n    result = route.before_request()\n\n    assert result is not None  # Hook returned early\n    response, status_code = result\n    assert status_code == 401\n    assert \"error\" in response\n\ndef test_before_request_invalid_token():\n    \"\"\"Test before_request blocks request with invalid token.\"\"\"\n    route = ProtectedRoutes()\n    route.auth_token = \"invalid-token\"\n\n    result = route.before_request()\n\n    assert result is not None\n    response, status_code = result\n    assert status_code == 401\n    assert \"Invalid token\" in response[\"error\"]\n\ndef test_before_request_valid_token():\n    \"\"\"Test before_request allows valid token.\"\"\"\n    route = ProtectedRoutes()\n    route.auth_token = \"valid-token-123\"\n\n    result = route.before_request()\n\n    assert result is None  # Hook allows request to continue\n\ndef test_get_with_valid_auth():\n    \"\"\"Test GET handler runs after successful before_request.\"\"\"\n    route = ProtectedRoutes()\n    route.auth_token = \"valid-token-123\"\n\n    # before_request would pass\n    assert route.before_request() is None\n\n    # Now test handler\n    result = route.get()\n    assert result[\"data\"] == \"protected data\"\n</code></pre>"},{"location":"guides/testing/#testing-after_request-hook","title":"Testing after_request Hook","text":"<pre><code># app/routes/api/page.py\nfrom reroute import RouteBase\n\nclass APIRoutes(RouteBase):\n    def after_request(self, response):\n        \"\"\"Add metadata to all responses.\"\"\"\n        if isinstance(response, dict):\n            response[\"meta\"] = {\n                \"version\": \"1.0\",\n                \"timestamp\": \"2025-11-23T10:00:00Z\"\n            }\n        return response\n\n    def get(self):\n        return {\"data\": \"some data\"}\n</code></pre> <pre><code># tests/test_hooks.py\ndef test_after_request_adds_metadata():\n    \"\"\"Test after_request hook adds metadata.\"\"\"\n    route = APIRoutes()\n\n    # Get original response\n    original = route.get()\n    assert \"meta\" not in original\n\n    # Apply after_request hook\n    result = route.after_request(original)\n\n    assert \"meta\" in result\n    assert result[\"meta\"][\"version\"] == \"1.0\"\n    assert \"timestamp\" in result[\"meta\"]\n\ndef test_after_request_preserves_data():\n    \"\"\"Test after_request preserves original data.\"\"\"\n    route = APIRoutes()\n\n    original = {\"data\": \"important data\", \"id\": 123}\n    result = route.after_request(original)\n\n    assert result[\"data\"] == \"important data\"\n    assert result[\"id\"] == 123\n</code></pre>"},{"location":"guides/testing/#testing-on_error-hook","title":"Testing on_error Hook","text":"<pre><code># app/routes/users/page.py\nfrom reroute import RouteBase\n\nclass UserRoutes(RouteBase):\n    def on_error(self, error: Exception):\n        \"\"\"Handle errors with appropriate responses.\"\"\"\n        if isinstance(error, ValueError):\n            return {\"error\": \"Invalid input\", \"message\": str(error)}, 400\n\n        elif isinstance(error, KeyError):\n            return {\"error\": \"Not found\", \"message\": str(error)}, 404\n\n        else:\n            return {\"error\": \"Internal error\"}, 500\n\n    def get(self, user_id: int):\n        if user_id &lt; 0:\n            raise ValueError(\"User ID must be positive\")\n\n        if user_id == 99999:\n            raise KeyError(\"User not found\")\n\n        return {\"id\": user_id, \"username\": \"user\"}\n</code></pre> <pre><code># tests/test_error_handling.py\nimport pytest\nfrom app.routes.users.page import UserRoutes\n\ndef test_on_error_value_error():\n    \"\"\"Test on_error handles ValueError.\"\"\"\n    route = UserRoutes()\n    error = ValueError(\"Invalid user ID\")\n\n    response, status_code = route.on_error(error)\n\n    assert status_code == 400\n    assert response[\"error\"] == \"Invalid input\"\n    assert \"Invalid user ID\" in response[\"message\"]\n\ndef test_on_error_key_error():\n    \"\"\"Test on_error handles KeyError.\"\"\"\n    route = UserRoutes()\n    error = KeyError(\"User not found\")\n\n    response, status_code = route.on_error(error)\n\n    assert status_code == 404\n    assert response[\"error\"] == \"Not found\"\n\ndef test_on_error_generic_exception():\n    \"\"\"Test on_error handles unknown exceptions.\"\"\"\n    route = UserRoutes()\n    error = RuntimeError(\"Unexpected error\")\n\n    response, status_code = route.on_error(error)\n\n    assert status_code == 500\n    assert response[\"error\"] == \"Internal error\"\n\ndef test_handler_raises_value_error():\n    \"\"\"Test handler raises ValueError for invalid input.\"\"\"\n    route = UserRoutes()\n\n    with pytest.raises(ValueError, match=\"must be positive\"):\n        route.get(user_id=-1)\n\ndef test_handler_raises_key_error():\n    \"\"\"Test handler raises KeyError for not found.\"\"\"\n    route = UserRoutes()\n\n    with pytest.raises(KeyError, match=\"not found\"):\n        route.get(user_id=99999)\n</code></pre>"},{"location":"guides/testing/#testing-reroute-decorators","title":"Testing REROUTE Decorators","text":""},{"location":"guides/testing/#testing-rate_limit-decorator","title":"Testing @rate_limit Decorator","text":"<pre><code># app/routes/api/page.py\nfrom reroute import RouteBase\nfrom reroute.decorators import rate_limit\n\nclass APIRoutes(RouteBase):\n    @rate_limit(\"3/min\")\n    def get(self):\n        return {\"data\": \"limited endpoint\"}\n</code></pre> <pre><code># tests/test_decorators.py\nimport pytest\nimport time\nfrom app.routes.api.page import APIRoutes\n\ndef test_rate_limit_allows_within_limit():\n    \"\"\"Test rate limiter allows requests within limit.\"\"\"\n    route = APIRoutes()\n\n    # First 3 requests should succeed\n    for i in range(3):\n        result = route.get()\n        assert \"data\" in result\n\ndef test_rate_limit_blocks_over_limit():\n    \"\"\"Test rate limiter blocks requests over limit.\"\"\"\n    route = APIRoutes()\n\n    # Exhaust rate limit\n    for i in range(3):\n        route.get()\n\n    # 4th request should be rate limited\n    result = route.get()\n\n    # Check if it's a tuple (error response with status code)\n    if isinstance(result, tuple):\n        response, status_code = result\n        assert status_code == 429\n        assert \"rate limit\" in response[\"error\"].lower()\n\ndef test_rate_limit_resets():\n    \"\"\"Test rate limit resets after window.\"\"\"\n    route = APIRoutes()\n\n    # Exhaust limit\n    for i in range(3):\n        route.get()\n\n    # Should be blocked\n    result = route.get()\n    if isinstance(result, tuple):\n        assert result[1] == 429\n\n    # Wait for rate limit window to reset\n    time.sleep(61)  # Wait &gt; 1 minute\n\n    # Should work again\n    result = route.get()\n    assert isinstance(result, dict)\n    assert \"data\" in result\n</code></pre>"},{"location":"guides/testing/#testing-cache-decorator","title":"Testing @cache Decorator","text":"<pre><code># app/routes/data/page.py\nfrom reroute import RouteBase\nfrom reroute.decorators import cache\n\nclass DataRoutes(RouteBase):\n    def __init__(self):\n        super().__init__()\n        self.call_count = 0\n\n    @cache(duration=60)\n    def get(self):\n        self.call_count += 1\n        return {\"data\": \"expensive computation\", \"count\": self.call_count}\n</code></pre> <pre><code># tests/test_cache.py\nimport pytest\nfrom app.routes.data.page import DataRoutes\n\ndef test_cache_caches_result():\n    \"\"\"Test cache decorator caches results.\"\"\"\n    route = DataRoutes()\n\n    # First call\n    result1 = route.get()\n    assert result1[\"count\"] == 1\n\n    # Second call should be cached (count should still be 1)\n    result2 = route.get()\n    assert result2[\"count\"] == 1  # Cached, no re-execution\n\ndef test_cache_expires():\n    \"\"\"Test cache expires after duration.\"\"\"\n    import time\n\n    route = DataRoutes()\n\n    # First call\n    result1 = route.get()\n    count1 = result1[\"count\"]\n\n    # Wait for cache to expire (use short duration in real tests)\n    # In actual test, use @cache(duration=1) for faster testing\n    time.sleep(2)\n\n    # Should execute again\n    result2 = route.get()\n    assert result2[\"count\"] &gt; count1\n</code></pre>"},{"location":"guides/testing/#testing-timeout-decorator","title":"Testing @timeout Decorator","text":"<pre><code># app/routes/slow/page.py\nfrom reroute import RouteBase\nfrom reroute.decorators import timeout\nimport time\n\nclass SlowRoutes(RouteBase):\n    @timeout(seconds=2)\n    def get(self, delay: int = 0):\n        time.sleep(delay)\n        return {\"completed\": True}\n</code></pre> <pre><code># tests/test_timeout.py\nimport pytest\nfrom app.routes.slow.page import SlowRoutes\n\ndef test_timeout_allows_fast_requests():\n    \"\"\"Test timeout allows requests that complete in time.\"\"\"\n    route = SlowRoutes()\n\n    result = route.get(delay=1)  # 1 second (under 2 second limit)\n\n    assert result[\"completed\"] is True\n\ndef test_timeout_blocks_slow_requests():\n    \"\"\"Test timeout blocks requests that exceed limit.\"\"\"\n    route = SlowRoutes()\n\n    result = route.get(delay=3)  # 3 seconds (over 2 second limit)\n\n    # Should return timeout error\n    if isinstance(result, tuple):\n        response, status_code = result\n        assert status_code == 408\n        assert \"timeout\" in response[\"error\"].lower()\n</code></pre>"},{"location":"guides/testing/#testing-async-route-handlers","title":"Testing Async Route Handlers","text":"<pre><code># app/routes/async_users/page.py\nfrom reroute import RouteBase\nimport asyncio\n\nclass AsyncUserRoutes(RouteBase):\n    async def get(self):\n        \"\"\"Async GET handler.\"\"\"\n        await asyncio.sleep(0.1)  # Simulate async operation\n        return {\"users\": await self.fetch_users()}\n\n    async def fetch_users(self):\n        await asyncio.sleep(0.05)\n        return [{\"id\": 1, \"name\": \"Alice\"}]\n</code></pre> <pre><code># tests/test_async_routes.py\nimport pytest\nimport asyncio\nfrom app.routes.async_users.page import AsyncUserRoutes\n\n@pytest.mark.asyncio\nasync def test_async_get_handler():\n    \"\"\"Test async GET handler.\"\"\"\n    route = AsyncUserRoutes()\n\n    result = await route.get()\n\n    assert \"users\" in result\n    assert len(result[\"users\"]) &gt; 0\n\n@pytest.mark.asyncio\nasync def test_async_fetch_users():\n    \"\"\"Test async fetch_users method.\"\"\"\n    route = AsyncUserRoutes()\n\n    users = await route.fetch_users()\n\n    assert isinstance(users, list)\n    assert users[0][\"name\"] == \"Alice\"\n</code></pre>"},{"location":"guides/testing/#testing-with-mock-data","title":"Testing with Mock Data","text":""},{"location":"guides/testing/#mocking-external-dependencies","title":"Mocking External Dependencies","text":"<pre><code># app/routes/external/page.py\nfrom reroute import RouteBase\nimport httpx\n\nclass ExternalAPIRoutes(RouteBase):\n    async def get(self):\n        data = await self.fetch_external_data()\n        return {\"external_data\": data}\n\n    async def fetch_external_data(self):\n        async with httpx.AsyncClient() as client:\n            response = await client.get(\"https://api.example.com/data\")\n            return response.json()\n</code></pre> <pre><code># tests/test_external_api.py\nimport pytest\nfrom unittest.mock import AsyncMock, patch\nfrom app.routes.external.page import ExternalAPIRoutes\n\n@pytest.mark.asyncio\nasync def test_fetch_external_data_success():\n    \"\"\"Test external API call with mocked response.\"\"\"\n    route = ExternalAPIRoutes()\n\n    # Mock the httpx client\n    mock_response = AsyncMock()\n    mock_response.json.return_value = {\"result\": \"mocked data\"}\n\n    with patch('httpx.AsyncClient.get', return_value=mock_response):\n        result = await route.fetch_external_data()\n\n        assert result[\"result\"] == \"mocked data\"\n\n@pytest.mark.asyncio\nasync def test_get_with_mocked_data():\n    \"\"\"Test GET handler with mocked external call.\"\"\"\n    route = ExternalAPIRoutes()\n\n    # Mock the fetch method\n    route.fetch_external_data = AsyncMock(return_value={\"mocked\": True})\n\n    result = await route.get()\n\n    assert result[\"external_data\"][\"mocked\"] is True\n</code></pre>"},{"location":"guides/testing/#testing-with-database","title":"Testing with Database","text":""},{"location":"guides/testing/#using-test-database","title":"Using Test Database","text":"<pre><code># tests/conftest.py\nimport pytest\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.orm import sessionmaker\nfrom database import Base\n\nTEST_DB_URL = \"sqlite:///:memory:\"\n\n@pytest.fixture(scope=\"function\")\ndef db_session():\n    \"\"\"Create fresh database for each test.\"\"\"\n    engine = create_engine(TEST_DB_URL)\n    Base.metadata.create_all(engine)\n\n    Session = sessionmaker(bind=engine)\n    session = Session()\n\n    yield session\n\n    session.close()\n    Base.metadata.drop_all(engine)\n</code></pre> <pre><code># app/routes/users/page.py\nfrom reroute import RouteBase\nfrom models import User\n\nclass UserRoutes(RouteBase):\n    def __init__(self, db_session=None):\n        super().__init__()\n        self.db = db_session\n\n    def get(self):\n        users = self.db.query(User).all()\n        return {\"users\": [u.to_dict() for u in users]}\n\n    def post(self, username: str, email: str):\n        user = User(username=username, email=email)\n        self.db.add(user)\n        self.db.commit()\n        return {\"user\": user.to_dict()}\n</code></pre> <pre><code># tests/test_database_routes.py\nimport pytest\nfrom app.routes.users.page import UserRoutes\nfrom models import User\n\ndef test_get_users_empty(db_session):\n    \"\"\"Test GET returns empty list initially.\"\"\"\n    route = UserRoutes(db_session=db_session)\n\n    result = route.get()\n\n    assert result[\"users\"] == []\n\ndef test_post_creates_user(db_session):\n    \"\"\"Test POST creates user in database.\"\"\"\n    route = UserRoutes(db_session=db_session)\n\n    result = route.post(username=\"testuser\", email=\"test@example.com\")\n\n    # Verify in response\n    assert result[\"user\"][\"username\"] == \"testuser\"\n\n    # Verify in database\n    user = db_session.query(User).filter_by(username=\"testuser\").first()\n    assert user is not None\n    assert user.email == \"test@example.com\"\n\ndef test_get_users_returns_created(db_session):\n    \"\"\"Test GET returns created users.\"\"\"\n    route = UserRoutes(db_session=db_session)\n\n    # Create users\n    route.post(username=\"user1\", email=\"user1@example.com\")\n    route.post(username=\"user2\", email=\"user2@example.com\")\n\n    # Get users\n    result = route.get()\n\n    assert len(result[\"users\"]) == 2\n    assert result[\"users\"][0][\"username\"] == \"user1\"\n    assert result[\"users\"][1][\"username\"] == \"user2\"\n</code></pre>"},{"location":"guides/testing/#integration-testing-http-endpoints","title":"Integration Testing (HTTP Endpoints)","text":"<p>For testing the full HTTP layer, use framework test clients:</p>"},{"location":"guides/testing/#fastapi-integration-tests","title":"FastAPI Integration Tests","text":"<pre><code># tests/test_integration.py\nimport pytest\nfrom fastapi.testclient import TestClient\nfrom main import app  # Your REROUTE app\n\nclient = TestClient(app)\n\ndef test_get_users_endpoint():\n    \"\"\"Test GET /users HTTP endpoint.\"\"\"\n    response = client.get(\"/users\")\n\n    assert response.status_code == 200\n    assert \"users\" in response.json()\n\ndef test_post_user_endpoint():\n    \"\"\"Test POST /users HTTP endpoint.\"\"\"\n    response = client.post(\"/users\", json={\n        \"username\": \"newuser\",\n        \"email\": \"new@example.com\"\n    })\n\n    assert response.status_code == 201\n    assert response.json()[\"username\"] == \"newuser\"\n</code></pre>"},{"location":"guides/testing/#flask-integration-tests","title":"Flask Integration Tests","text":"<pre><code># tests/test_integration.py\nimport pytest\nfrom main import app  # Your REROUTE app\n\n@pytest.fixture\ndef client():\n    app.config['TESTING'] = True\n    with app.test_client() as client:\n        yield client\n\ndef test_get_users_endpoint(client):\n    response = client.get('/users')\n\n    assert response.status_code == 200\n    assert 'users' in response.get_json()\n</code></pre>"},{"location":"guides/testing/#test-configuration","title":"Test Configuration","text":""},{"location":"guides/testing/#pytestini","title":"pytest.ini","text":"<pre><code>[pytest]\ntestpaths = tests\npython_files = test_*.py\npython_functions = test_*\n\nmarkers =\n    slow: slow tests\n    asyncio: async tests\n    integration: integration tests\n\naddopts =\n    --verbose\n    --cov=app\n    --cov-report=term-missing\n    --cov-report=html\n</code></pre>"},{"location":"guides/testing/#running-tests","title":"Running Tests","text":"<pre><code># Run all tests\npytest\n\n# Run specific file\npytest tests/test_user_routes.py\n\n# Run specific test\npytest tests/test_user_routes.py::test_get_users\n\n# Run with coverage\npytest --cov=app --cov-report=html\n\n# Run only unit tests (exclude integration)\npytest -m \"not integration\"\n\n# Run async tests\npytest -m asyncio\n\n# Verbose output\npytest -v\n\n# Stop on first failure\npytest -x\n</code></pre>"},{"location":"guides/testing/#best-practices","title":"Best Practices","text":""},{"location":"guides/testing/#1-test-routebase-classes-directly","title":"1. Test RouteBase Classes Directly","text":"<pre><code># Good - Direct unit test\ndef test_business_logic():\n    route = UserRoutes()\n    result = route.create_user(\"test\", \"test@example.com\")\n    assert result[\"username\"] == \"test\"\n\n# Avoid - Unnecessary HTTP overhead for unit test\ndef test_business_logic_http(client):\n    response = client.post(\"/users\", json={\"username\": \"test\"})\n    assert response.status_code == 200\n</code></pre>"},{"location":"guides/testing/#2-test-hooks-in-isolation","title":"2. Test Hooks in Isolation","text":"<pre><code>def test_before_request_logic():\n    \"\"\"Test before_request independently.\"\"\"\n    route = ProtectedRoutes()\n    route.auth_token = \"invalid\"\n\n    result = route.before_request()\n\n    assert result[1] == 401  # Direct assertion on hook result\n</code></pre>"},{"location":"guides/testing/#3-use-fixtures-for-route-instances","title":"3. Use Fixtures for Route Instances","text":"<pre><code>@pytest.fixture\ndef user_route(db_session):\n    \"\"\"Create UserRoutes instance with test database.\"\"\"\n    return UserRoutes(db_session=db_session)\n\ndef test_with_fixture(user_route):\n    result = user_route.get()\n    assert \"users\" in result\n</code></pre>"},{"location":"guides/testing/#4-test-one-thing-per-test","title":"4. Test One Thing Per Test","text":"<pre><code># Good\ndef test_get_returns_users():\n    route = UserRoutes()\n    result = route.get()\n    assert \"users\" in result\n\ndef test_get_returns_list():\n    route = UserRoutes()\n    result = route.get()\n    assert isinstance(result[\"users\"], list)\n\n# Avoid\ndef test_get_everything():\n    route = UserRoutes()\n    result = route.get()\n    assert \"users\" in result\n    assert isinstance(result[\"users\"], list)\n    assert len(result[\"users\"]) &gt;= 0\n    # Too many assertions\n</code></pre>"},{"location":"guides/testing/#cicd-integration","title":"CI/CD Integration","text":""},{"location":"guides/testing/#github-actions","title":"GitHub Actions","text":"<pre><code>name: Tests\n\non: [push, pull_request]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v3\n\n      - name: Set up Python\n        uses: actions/setup-python@v4\n        with:\n          python-version: '3.11'\n\n      - name: Install dependencies\n        run: |\n          pip install -e .\n          pip install pytest pytest-cov pytest-asyncio\n\n      - name: Run tests\n        run: pytest --cov=app --cov-report=xml\n\n      - name: Upload coverage\n        uses: codecov/codecov-action@v3\n</code></pre>"},{"location":"guides/testing/#next-steps","title":"Next Steps","text":"<ul> <li>Error Handling - Test error scenarios</li> <li>Security - Test authentication and authorization</li> <li>Lifecycle Hooks - Learn more about REROUTE hooks</li> <li>Decorators - Learn more about REROUTE decorators</li> </ul>"},{"location":"guides/troubleshooting/","title":"Troubleshooting","text":"<p>Common issues and solutions when using REROUTE.</p>"},{"location":"guides/troubleshooting/#flask-adapter-issues","title":"Flask Adapter Issues","text":""},{"location":"guides/troubleshooting/#routes-not-appearing-in-swagger-ui","title":"Routes Not Appearing in Swagger UI","text":"<p>Symptoms: - Swagger UI loads successfully but shows no API endpoints - OpenAPI JSON at <code>/docs/openapi.json</code> has empty <code>\"paths\": {}</code> - Routes work correctly when tested with <code>curl</code> or browser - Response schemas appear in OpenAPI spec but no actual routes</p> <p>Root Cause:</p> <p>This issue was caused by two bugs in the Flask adapter's Spectree integration:</p> <ol> <li>Empty Path Parameter Bug: When <code>DOCS_PATH=\"/docs\"</code> in config, the adapter extracted an empty string (<code>path=''</code>) to pass to Spectree. Spectree's route discovery filter then excluded ALL routes because:</li> <li>Filter logic: Skip routes starting with <code>/{path}</code> or <code>/static</code></li> <li>When <code>path=''</code>, this becomes: Skip routes starting with <code>/</code></li> <li> <p>Since ALL routes start with <code>/</code>, ALL routes were excluded from OpenAPI generation</p> </li> <li> <p>Closure Metadata Bug: REROUTE's closure-based request handling wrapped handlers in a way that hid Spectree's validation metadata, preventing proper OpenAPI documentation generation.</p> </li> </ol> <p>Solution (Fixed in v0.1.4):</p> <p>The Flask adapter now:</p> <ol> <li>Never uses empty path: Extracts the first segment from <code>DOCS_PATH</code> (e.g., <code>\"/docs\"</code> \u2192 <code>path=\"docs\"</code>, <code>\"/api/docs\"</code> \u2192 <code>path=\"api\"</code>), ensuring Spectree's filter doesn't exclude all routes</li> <li>Validates handlers early: Applies <code>spec.validate()</code> to handlers BEFORE wrapping in REROUTE's closure</li> <li>Copies metadata correctly: Transfers all Spectree attributes (<code>_decorator</code>, <code>tags</code>, <code>operation_id</code>, etc.) from validated handler to Flask-facing closure</li> </ol> <p>Updated Swagger UI Paths:</p> <p>Because the path is no longer empty, Swagger UI endpoints are now at:</p> <pre><code>DOCS_PATH in config    \u2192    Swagger UI URL\n/docs                  \u2192    /docs/swagger/\n/api/docs              \u2192    /api/swagger/\n/custom                \u2192    /custom/swagger/\n</code></pre> <p>Migration:</p> <p>If you were accessing Swagger UI at <code>/swagger/</code>, you now need to use <code>/docs/swagger/</code> (or whatever your <code>DOCS_PATH</code> is configured to).</p> <p>To keep the old <code>/swagger/</code> URL, you can: 1. Update your bookmarks/links to <code>/docs/swagger/</code> 2. Or change <code>DOCS_PATH</code> in config.py to match your preference</p> <p>Example:</p> <pre><code># config.py\nclass AppConfig(Config):\n    class OpenAPI:\n        ENABLE = True\n        DOCS_PATH = \"/docs\"           # Swagger UI at /docs/swagger/\n        JSON_PATH = \"/openapi.json\"   # OpenAPI spec at /docs/openapi.json\n</code></pre>"},{"location":"guides/troubleshooting/#indentationerror-in-generated-configpy","title":"IndentationError in Generated config.py","text":"<p>Symptoms: <pre><code>File \"config.py\", line 42\n  TITLE = \"MyProject\"\nIndentationError: unexpected indent\n</code></pre></p> <p>Root Cause:</p> <p>In earlier versions (before v0.1.4), the Jinja2 template had multiple configuration statements on a single line:</p> <pre><code>REDOC_PATH = None ... JSON_PATH = \"/openapi.json\"\n</code></pre> <p>Solution:</p> <p>Fixed in v0.1.4 - each statement is now on its own line with proper indentation.</p> <p>For Existing Projects:</p> <p>If your project was created before v0.1.4, manually fix your <code>config.py</code>:</p> <pre><code># BEFORE (WRONG - all on one line):\nREDOC_PATH = None              # ReDoc disabled for Flask (broken CDN)    JSON_PATH = \"/openapi.json\"    # OpenAPI JSON spec endpoint\n\n# AFTER (CORRECT - separate lines):\nREDOC_PATH = None              # ReDoc disabled for Flask (broken CDN)\nJSON_PATH = \"/openapi.json\"    # OpenAPI JSON spec endpoint\n</code></pre>"},{"location":"guides/troubleshooting/#modulenotfounderror-spectree","title":"ModuleNotFoundError: spectree","text":"<p>Symptoms: <pre><code>ModuleNotFoundError: No module named 'spectree'\n</code></pre></p> <p>Solution:</p> <p>Install all dependencies:</p> <pre><code>pip install -r requirements.txt\n</code></pre> <p>Or install spectree directly:</p> <pre><code>pip install spectree\n</code></pre>"},{"location":"guides/troubleshooting/#cors-errors-in-browser","title":"CORS Errors in Browser","text":"<p>Symptoms: - Browser console shows CORS errors - API works with curl but fails from web frontend</p> <p>Solution:</p> <p>Enable and configure CORS in your <code>config.py</code>:</p> <pre><code>class AppConfig(Config):\n    ENABLE_CORS = True\n    CORS_ALLOW_ORIGINS = [\"http://localhost:3000\"]  # Your frontend URL\n    CORS_ALLOW_METHODS = [\"GET\", \"POST\", \"PUT\", \"DELETE\", \"PATCH\", \"OPTIONS\"]\n    CORS_ALLOW_HEADERS = [\"*\"]\n    CORS_ALLOW_CREDENTIALS = True\n</code></pre> <p>Install flask-cors:</p> <pre><code>pip install flask-cors\n</code></pre>"},{"location":"guides/troubleshooting/#general-issues","title":"General Issues","text":""},{"location":"guides/troubleshooting/#routes-not-being-registered","title":"Routes Not Being Registered","text":"<p>Symptoms: - Routes return 404 errors - Route files exist but aren't accessible</p> <p>Common Causes:</p> <ol> <li>Incorrect file structure: Route files must be in <code>app/routes/&lt;route-name&gt;/page.py</code></li> <li>Missing RouteBase: Route class must inherit from <code>RouteBase</code></li> <li>No HTTP methods: Class must have at least one method (get, post, put, delete)</li> </ol> <p>Solution:</p> <p>Ensure proper structure:</p> <pre><code>app/\n  routes/\n    hello/\n      page.py    # Contains HelloRoutes class\n</code></pre> <pre><code># page.py\nfrom reroute import RouteBase\n\nclass HelloRoutes(RouteBase):\n    def get(self):\n        return {\"message\": \"Hello\"}\n</code></pre>"},{"location":"guides/troubleshooting/#port-already-in-use","title":"Port Already in Use","text":"<p>Symptoms: <pre><code>OSError: [Errno 98] Address already in use\n</code></pre></p> <p>Solution:</p> <p>Change the port in <code>config.py</code>:</p> <pre><code>class AppConfig(Config):\n    PORT = 8080  # Use different port\n</code></pre> <p>Or kill the process using the port:</p> <pre><code># Windows\nnetstat -ano | findstr :7376\ntaskkill /PID &lt;process_id&gt; /F\n\n# Linux/Mac\nlsof -ti:7376 | xargs kill -9\n</code></pre>"},{"location":"guides/troubleshooting/#need-more-help","title":"Need More Help?","text":"<p>If you encounter issues not covered here:</p> <ol> <li>Check the Examples for working code</li> <li>Review the API Reference for detailed documentation</li> <li>Report bugs at GitHub Issues</li> </ol>"},{"location":"learn/","title":"Learn REROUTE","text":"<p>Welcome to the REROUTE learning path. This section contains everything you need to go from beginner to expert.</p>"},{"location":"learn/#tutorial","title":"Tutorial","text":"<p>Start here if you're new to REROUTE. The tutorial takes you step-by-step through building your first file-based routed API.</p> <ul> <li> <p>Getting Started</p> <p>Set up your development environment and create your first project.</p> <p> Start Tutorial</p> </li> <li> <p>Installation</p> <p>Install REROUTE with pip, uv, or from source.</p> <p> Installation Guide</p> </li> <li> <p>Quick Start</p> <p>Build a working API in under 5 minutes.</p> <p> Quick Start</p> </li> <li> <p>First Route</p> <p>Create your first file-based route with HTTP methods.</p> <p> First Route</p> </li> </ul>"},{"location":"learn/#user-guide","title":"User Guide","text":"<p>Deep-dive into specific REROUTE features and patterns.</p> <ul> <li> <p>File-based Routing</p> <p>Learn how folder structure maps to API routes.</p> <p> File Routing</p> </li> <li> <p>Class-based Routes</p> <p>HTTP methods as class methods for clean, organized code.</p> <p> Class Routes</p> </li> <li> <p>Decorators</p> <p>Rate limiting, caching, validation, and custom decorators.</p> <p> Decorators</p> </li> <li> <p>Security</p> <p>OWASP-compliant security headers and best practices.</p> <p> Security</p> </li> </ul>"},{"location":"learn/#cli-tools","title":"CLI Tools","text":"<p>Master the REROUTE command-line interface for rapid development.</p> <ul> <li> <p>CLI Commands</p> <p>Full reference for all REROUTE CLI commands.</p> <p> Commands</p> </li> <li> <p>Scaffolding</p> <p>Generate projects, routes, and models automatically.</p> <p> Scaffolding</p> </li> </ul>"},{"location":"learn/#deployment","title":"Deployment","text":"<p>Deploy your REROUTE application to production.</p> <ul> <li> <p>Production Setup</p> <p>Configure REROUTE for production environments.</p> <p> Production</p> </li> <li> <p>Docker</p> <p>Containerize your REROUTE application.</p> <p> Docker</p> </li> </ul>"},{"location":"reference/","title":"Reference","text":"<p>Complete technical reference for REROUTE. This section contains detailed API documentation and framework adapter specifications.</p>"},{"location":"reference/#api-reference","title":"API Reference","text":"<p>Detailed documentation for all REROUTE classes, functions, and modules.</p> <ul> <li> <p>RouteBase</p> <p>The base class for all route handlers.</p> <p> RouteBase</p> </li> <li> <p>Parameters</p> <p>Path parameters, query parameters, and request bodies.</p> <p> Parameters</p> </li> <li> <p>Decorators</p> <p>Built-in decorators for rate limiting, caching, and more.</p> <p> Decorators</p> </li> <li> <p>Configuration</p> <p>Configuration options and environment settings.</p> <p> Config</p> </li> <li> <p>Adapters API</p> <p>Adapter base classes and interfaces.</p> <p> Adapters API</p> </li> </ul>"},{"location":"reference/#framework-adapters","title":"Framework Adapters","text":"<p>Integration guides for supported web frameworks.</p> <ul> <li> <p>FastAPI Adapter</p> <p>Full integration with FastAPI including async support.</p> <p> FastAPI</p> </li> <li> <p>Flask Adapter</p> <p>Flask integration with Swagger UI support.</p> <p> Flask</p> </li> <li> <p>Django Adapter</p> <p>Django integration (coming soon).</p> <p> Django</p> </li> </ul>"},{"location":"reference/#quick-links","title":"Quick Links","text":"Resource Description RouteBase Base class for route handlers Decorators Rate limiting, caching, validation Config Application configuration FastAPI Adapter FastAPI integration Flask Adapter Flask integration"}]}